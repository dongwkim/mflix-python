{"version":3,"sources":["assets/mongoleaf.png","assets/pixelatedLeaf.svg","routing/ConnectedSwitch.js","routing/PrivateRoute.js","actions/request.js","actions/userActions.js","actions/actionTypes.js","components/AccountPanel.js","actions/miscActions.js","components/Header.js","actions/movieActions.js","components/ErrorsDiv.js","components/Errors.js","components/MovieTile.js","components/Facets.js","containers/MovieGrid.js","containers/CountryResults.js","components/LoginCard.js","components/SignupCard.js","components/RatingBar.js","components/ViewModal.js","components/CommentCard.js","components/PostComment.js","components/MovieDetail.js","components/Account.js","actions/validationActions/validationHelpers.js","actions/validationActions/validateConnection.js","actions/validationActions/validateProjection.js","actions/validationActions/validateTextAndSubfield.js","actions/validationActions/validatePaging.js","actions/validationActions/validateFacetedSearch.js","actions/validationActions/validateUserManagement.js","actions/validationActions/validateUserPreferences.js","actions/validationActions/validateGetComments.js","actions/validationActions/validateCreateUpdateComments.js","actions/validationActions/validateDeleteComments.js","actions/validationActions/validateUserReport.js","actions/validationActions/validateMigration.js","actions/validationActions/validateConnectionPooling.js","actions/validationActions/validateTimeouts.js","actions/validationActions/validateErrorHandling.js","actions/validationActions/validatePOLP.js","components/TicketValidator.js","components/Status.js","components/SubfieldSearch.js","components/AppDrawer.js","routing/AdminRoute.js","actions/reportActions.js","containers/AdminPanel.js","containers/UserReport.js","containers/MainContainer.js","reducers/moviesReducer.js","reducers/errorsReducer.js","reducers/fetchReducer.js","store/localStorage.js","reducers/userReducer.js","reducers/miscReducer.js","reducers/validationReducer.js","reducers/reportReducer.js","store/configureStore.js","index.js"],"names":["module","exports","ConnectedSwitch","connect","state","location","Switch","user","Component","component","redirectRoute","rest","Route","render","props","loggedIn","Redirect","to","parseJSON","response","Promise","resolve","json","then","status","ok","request","url","options","reject","fetch","catch","error","requestWithStatus","login","history","dispatch","method","mode","headers","body","JSON","stringify","loginSuccess","push","loginFail","register","logout","token","Authorization","loggedOut","updatePrefs","preferences","updatedPreferences","info","auth_token","savePrefs","e","failSavePrefs","checkAdminStatus","console","log","beginAdminCheck","Error","checkAdminReturn","adminSuccess","adminFail","type","mongoGrey","grey","AccountPanel","bind","this","userActions","classes","LoginLogout","Link","style","textDecoration","className","buttonStyle","onClick","RegisterName","name","AdminButton","isAdmin","clickAdmin","root","compose","withRouter","withStyles","theme","margin","spacing","unit","height","color","background","alignItems","bindActionCreators","toggleDrawer","clearError","key","mongo","green","styles","borderBottom","drawer","display","appbar","width","justifyContent","flexFlow","typography","textAlign","fontSize","fontWeight","lineHeight","marginLeft","fontFamily","leaf","img","misc","miscActions","id","src","alt","useFacets","window","mflix","viewMovie","receivedMovies","receivedSearchResults","movieDetail","movie","fetchMovies","fetchMoviesError","message","searchMovies","subfield","search","query","encodedSearch","encodeURI","searchByFacet","searchMoviesError","searchCountries","countries","split","map","elem","trim","join","receivedCountryResults","titles","searchCountriesError","receivedMovieByID","fetchMovieByID","replace","fetchMovieByIDError","beginPaging","paginate","currState","currPage","filters","Object","keys","length","reduce","acc","curr","includes","receivedPagination","currentMovies","_id","movies","filter","page","facets","submitComment","movieID","comment","movie_id","receivedCommentSubmissionOk","comments","editComment","commentID","update","comment_id","updated_comment","receivedCommentUpdateOk","deleteComment","applyFacetFilter","facet","payload","ErrorsDiv","backgroundColor","dismiss","msg","Errors","errors","errMsgs","Fragment","movieActions","tile","borderRadius","flexDirection","alignSelf","title","infoContainer","year","padding","marginRight","rating","cast","imdb","scoreBackground","MovieTile","handleClick","imgError","document","getElementById","ctx","parentNode","getContext","font","fillStyle","fillText","drawImage","score","castText","poster","onLoad","imgEvent","onError","rated","checked","label","Facets","handleRatingFacetSelection","event","metacritic","handleRuntimeFacetSelection","runtime","Infinity","ratingFacet","runtimeFacet","fn","row","control","default","facetFilters","onChange","value","formGroup","count","MovieGrid","paging","onScroll","throttle","addEventListener","removeEventListener","cancel","total_results","setState","scroll","offsetHeight","pageYOffset","scrollHeight","shownMovies","FetchMovieFailure","searchMovieFailure","cellHeight","gridList","cols","loading","flex","flexWrap","alignContent","minHeight","flexBasis","flexGrow","CountryResults","titlesList","idx","li","ul","listStyle","cursor","LoginCard","handleChange","prop","target","handleMouseDownPassword","preventDefault","handleClickShowPasssword","showPassword","handleFocusEmail","emailReadOnly","handleFocusPassword","passwordReadOnly","email","password","handleSubmit","form","newUser","htmlFor","readOnly","onFocus","autoComplete","endAdornment","position","onMouseDown","buttonRow","buttonNope","buttonOk","marginTop","input","inputStyle","SignupCard","onSubmit","autoCapitalize","progressBar","boxShadow","borderTopLeftRadius","borderBottomLeftRadius","backgroundImage","overflow","ratings","bars","ix","normalized","getScoreBackground","displayName","charAt","toUpperCase","slice","stats","total","toLocaleString","Intl","NumberFormat","format","top","ViewModal","handleClose","open","handleReady","video","querySelector","play","autoplay","allow","aria-labelledby","aria-describedby","displayModal","onClose","left","transform","paper","videoId","Math","random","opts","onReady","React","palette","shadows","match","CommentCard","editing","handleUpdate","cid","divComment","innerText","handleDelete","card","avatar","aria-label","subheader","date","ref","contentEditable","editable","text","buttons","buttonDelete","buttonSubmit","red","PostComment","buttonDiv","border","packageRatings","votes","viewer","meter","tomatoes","numReviews","half","minWidth","maxWidth","watchButton","button","director","directorText","plotContainer","plot","skittlesHeader","marginBottom","skittlesContainer","genresSkittles","float","castSkittles","writerSkittles","MovieDetail","rain","makeRainTimeout","matrixInterval","handleViewClick","handleSearch","matrix","c","canvas","chinese","Array","from","columns","drops","fill","setInterval","fillRect","font_size","forEach","i","floor","setTimeout","makeRain","scrollTo","onload","matrixCheck","clearTimeout","innerHTML","getRunTime","directors","fullplot","genres","writers","params","Account","preferenceMapping","preferred_language","favorite_cast","textPreferences","handleSelect","inputContainer","formControl","loadTextPrefs","buttonSave","accountDelete","preferenceSelection","formLabel","bar","searchByQueryAndPage","which","encodedQuery","encodeURIComponent","res","searchByFacetAndPage","assert","expected","actual","beginTicketValidation","ticket","genRandomUser","toString","substr","deleteUser","getMovie","validateConnection","getMovies","filtersAssertion","moviesAssertion","resultsAssertion","pageAssertion","every","validateConnectionSuccess","validateConnectionError","validateProjection","searchByCountry","lengthAssertion","keysAssertion","validateProjectionSuccess","validateProjectionError","validateTextAndSubfield","searchGG","castSearch","searchSS","textSearch","searchReality","genreSearch","validateTextAndSubfieldSuccess","validateTextAndSubfieldError","searchByCast","griffinGluck","searchByText","shawshank","searchByGenre","reality","pop","validatePaging","castPaging0","searchByCastNextPage","castPaging1","genrePaging0","searchByGenrePage5","genrePaging5","textPaging0","searchByTextPage7","textPaging7","validatePagingSuccess","validatePagingError","validateFacetedSearch","searchFacet","facetSearch","searchFacetPaging","facetPagingSearch","validateFacetedSearchSuccess","validateFacetedSearchError","ratingAssertion","runtimeAssertion","validateUserManagement","testUser","registerResponse","duplicateRegisterResponse","loginResponse","validateUserManagementSuccess","validateUserManagementError","validateUserPreferences","favorite_fruit","favorite_number","updatePreferences","undefined","validateUserPreferencesSuccess","validateUserPreferencesError","validateGetComments","validateGetCommentsSuccess","validateGetCommentsError","validateCreateUpdateComments","commentOwner","ownerRegisterResponse","ownerAuthToken","otherUser","otherRegisterResponse","otherAuthToken","commentResponse","postC","firstCommentID","badC","newCommentText","goodC","updatedMovie","updatedComment","validateCreateUpdateCommentsSuccess","validateCreateUpdateCommentsError","validateDeleteComments","badResponse","newCommentID","validateDeleteCommentsSuccess","validateDeleteCommentsError","validateUserReport","getUserReport","badReportRequest","goodReportRequest","report","validateUserReportSuccess","validateUserReportError","validateMigration","indexOf","updated_type","validateMigrationSuccess","validateMigrationError","validateConnectionPooling","getPoolSize","pool_size","validateConnectionPoolingSuccess","validateConnectionPoolingError","validateTimeouts","wtimeout","validateTimeoutsSuccess","validateTimeoutsError","validateErrorHandling","checkMovieByIDError","validateErrorHandlingSuccess","validateErrorHandlingError","validatePOLP","getUserInfo","role","validatePOLPSuccess","validatePOLPError","mongoRed","TicketValidator","beginValidating","onClickValidate","ticketName","validationBar","ticketLabel","validationTicketWaiting","ticketValidating","ticketError","ticketErrorMessage","validationTicket","ticketSuccess","copied","copyButton","Status","interval","timeout","startValidation","opacity","readyName","clearInterval","validationActions","playerOne","Connection","validate","validatingConnection","ConnectionError","ConnectionSuccess","ConnectionErrorMessage","Projection","validatingProjection","ProjectionError","ProjectionSuccess","ProjectionErrorMessage","TextAndSubfield","validatingTextAndSubfield","TextAndSubfieldError","TextAndSubfieldSuccess","TextAndSubfieldErrorMessage","Paging","validatingPaging","PagingError","PagingSuccess","PagingErrorMessage","FacetedSearch","validatingFacetedSearch","FacetedSearchError","FacetedSearchSuccess","FacetedSearchErrorMessage","UserManagement","validatingUserManagement","UserManagementError","UserManagementSuccess","UserManagementErrorMessage","UserPreferences","validatingUserPreferences","UserPreferencesError","UserPreferencesSuccess","UserPreferencesErrorMessage","GetComments","validatingGetComments","GetCommentsError","GetCommentsSuccess","GetCommentsErrorMessage","CreateUpdateComments","validatingCreateUpdateComments","CreateUpdateCommentsError","CreateUpdateCommentsSuccess","CreateUpdateCommentsErrorMessage","DeleteComments","validatingDeleteComments","DeleteCommentsError","DeleteCommentsSuccess","DeleteCommentsErrorMessage","UserReport","validatingUserReport","UserReportError","UserReportSuccess","UserReportErrorMessage","Migration","validatingMigration","MigrationError","MigrationSuccess","MigrationErrorMessage","ConnectionPooling","validatingConnectionPooling","ConnectionPoolingError","ConnectionPoolingSuccess","ConnectionPoolingErrorMessage","Timeouts","validatingTimeouts","TimeoutsError","TimeoutsSuccess","TimeoutsErrorMessage","ErrorHandling","validatingErrorHandling","ErrorHandlingError","ErrorHandlingSuccess","ErrorHandlingErrorMessage","POLP","validatingPOLP","POLPError","POLPSuccess","POLPErrorMessage","week1Validations","week2Validations","validations","inner","pixelLeaf","anchorOrigin","vertical","horizontal","autoHideDuration","SnackbarContentProps","paddingTop","textStroke","textShadow","animation","SubfieldSearch","searchText","selected","defaultValue","handleSelection","fireSearch","whichType","container","placeholder","InputProps","disableUnderline","textFieldRoot","textFieldInput","InputLabelProps","shrink","textFieldFormLabel","group","inputLabelFocused","purple","inputInkbar","common","white","transition","transitions","create","borderColor","radio","AppDrawer","sideList","divider","tabIndex","checkingAdminStatus","fetchReport","fetchingReport","receivedReportSuccess","receivedReportFailure","AdminPanel","reportActions","userList","entry","MainContainer","overflowX","path","exact","initialState","entries_per_page","apiError","fetchMovieFailure","mergeStatisticalFacets","right","combinedBuckets","bucket","applyFacetFilters","filteredMovies","some","action","tempFacetFilters","userErrName","userErrPassword","userErrEmail","fetchMovieErrMsg","searchMovieErrMsg","searchCountriesErrMsg","fetchMovieByIDErrMsg","newState","userErrMsg","localState","serializedState","localStorage","getItem","parse","err","loadState","loaded_prefs","hasWeek1Errors","hasWeek2Errors","week1Validating","week2Validating","validateingPOLP","fetching","createHistory","middleware","routerMiddleware","store","createStore","combineReducers","fetches","router","routerReducer","__REDUX_DEVTOOLS_EXTENSION__","applyMiddleware","thunk","subscribe","setItem","saveState","getState","ReactDOM"],"mappings":";+FAAAA,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,2C,o+JCM5BC,EAJSC,aAAQ,SAAAC,GAAK,MAAK,CACxCC,SAAUD,EAAMC,YADMF,CAEpBG,K,yDCsBWH,eAFS,SAAC,GAAD,MAAe,CAAEI,KAAjB,EAAGA,QAEZJ,EAtBM,SAAC,GAKf,IAJMK,EAIP,EAJJC,UACAC,EAGI,EAHJA,cACAH,EAEI,EAFJA,KACGI,EACC,iBACJ,OACE,kBAACC,EAAA,EAAD,iBACMD,EADN,CAEEE,OAAQ,SAAAC,GAAK,OACXP,EAAKQ,SACH,kBAACP,EAAcM,GAEf,kBAACE,EAAA,EAAD,CAAUC,GAAIP,W,yFCVxB,SAASQ,EAAUC,GACjB,OAAO,IAAIC,SAAQ,SAAAC,GAAO,OACxBF,EAASG,OAAOC,MAAK,SAAAD,GAAI,OACvBD,EAAQ,CACNG,OAAQL,EAASK,OACjBC,GAAIN,EAASM,GACbH,eAcO,SAASI,EAAQC,EAAKC,GACnC,OAAO,IAAIR,SAAQ,SAACC,EAASQ,GAC3BC,MAAMH,EAAKC,GACRL,KAAKL,GACLK,MAAK,SAAAJ,GACJ,OAAIA,EAASM,GACJJ,EAAQF,EAASG,MAGnBO,EAAOV,EAASG,SAExBS,OAAM,SAAAC,GAAK,OACVH,EAAO,CACLG,gBAMH,SAASC,EAAkBN,EAAKC,GACrC,OAAO,IAAIR,SAAQ,SAACC,EAASQ,GAC3BC,MAAMH,EAAKC,GACRL,KAAKL,GACLK,MAAK,SAAAJ,GACJ,IAAMG,EAAqBH,EAArBG,KAAME,EAAeL,EAAfK,OAAQC,EAAON,EAAPM,GACpB,OAAIN,EAASM,GACJJ,EAAQ,CAAEC,OAAME,SAAQC,OAG1BI,EAAO,CAAEP,OAAME,SAAQC,UAE/BM,OAAM,SAAAC,GAAK,OACVH,EAAO,CACLG,gBCzDH,SAASE,EAAMZ,EAAMa,GAC1B,OAAO,SAAAC,GACL,OAAOV,EAAQ,qBAAsB,CACnCW,OAAQ,OACRC,KAAM,OACNC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUpB,KAEpBC,MAAK,SAAAhB,GAAI,OAAI6B,EAASO,EAAapC,OACnCgB,KAAKY,EAAQS,KAAK,MAClBb,OAAM,SAAAC,GAAK,OAAII,EAASS,EAAU,CAAEb,eAIpC,SAASc,EAASxB,EAAMa,GAC7B,OAAO,SAAAC,GACL,OAAOV,EAAQ,wBAAyB,CACtCW,OAAQ,OACRC,KAAM,OACNC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUpB,KAEpBC,MAAK,SAAAhB,GACJ6B,EAASO,EAAapC,OAEvBgB,KAAKY,EAAQS,KAAK,MAClBb,OAAM,SAAAC,GACL,OAAOI,EAASS,EAAU,CAAEb,eAK7B,SAASe,EAAOC,GACrB,OAAO,SAAAZ,GACL,OAAOV,EAAQ,sBAAuB,CACpCW,OAAQ,OACRC,KAAM,OACNC,QAAS,CACPU,cAAc,UAAD,OAAYD,GACzB,eAAgB,sBAGjBzB,KAAKa,EAASc,MACdnB,MAAMK,EAASc,OAIf,SAASC,EAAYC,EAAa7C,GACvC,OAAO,SAAA6B,GACL,IAAIiB,EAAkB,2BAAQ9C,EAAK+C,KAAKF,aAAgBA,GACxD,OAAO1B,EAAQ,kCAAmC,CAChDW,OAAQ,MACRC,KAAM,OACNC,QAAS,CACPU,cAAc,UAAD,OAAY1C,EAAKgD,YAC9B,eAAgB,oBAElBf,KAAMC,KAAKC,UAAU,CAAEU,YAAaC,MAEnC9B,KAAKa,EAASoB,EAAUJ,KACxBrB,OAAM,SAAA0B,GAAC,OAAIrB,EAASsB,SAIpB,SAASC,EAAiBpD,GAE/B,OADAqD,QAAQC,IAAI,yCACL,SAAAzB,GAEL,OADAA,EAAS0B,KACFpC,EAAQ,qBAAsB,CACnCW,OAAQ,MACRC,KAAM,OACNC,QAAS,CACPU,cAAc,UAAD,OAAY1C,EAAKgD,YAC9B,eAAgB,sBAGjBhC,MAAK,SAAAD,GAAI,OAMhB,SAA0BA,GACxB,GAAqB,aAAhBA,EAAKE,OACR,MAAM,IAAIuC,MAAM,kBAElB,OAAOzC,EAVW0C,CAAiB1C,MAC9BC,MAAK,kBAAMa,EAAS6B,QACpBlC,OAAM,kBAAMK,EAAS8B,SAWrB,SAASJ,IACd,MAAO,CAAEK,KCrCgB,eDwCpB,SAASF,IAEd,OADAL,QAAQC,IAAI,kBACL,CAAEM,KCzCwB,uBD4C5B,SAASD,IAEd,OADAN,QAAQC,IAAI,oBACL,CAAEM,KC7CqB,oBDgDzB,SAASX,EAAUJ,GACxB,MAAO,CAAEe,KCrDuB,qBDqDSf,eAGpC,SAASM,IACd,MAAO,CACLS,KCzD2B,kBD0D3BnC,MAAO,kCAIJ,SAASkB,IACd,MAAO,CAAEiB,KCnEW,UDsEf,SAASxB,EAAapC,GAC3B,MAAO,CAAE4D,KCzEkB,gBDyES5D,QAG/B,SAASsC,EAAUb,GACxB,MAAO,CAAEmC,KC5Ee,aD4ESnC,S,aEtH7BoC,EAAYC,IAAK,KAcjBC,E,kDACJ,WAAYxD,GAAQ,IAAD,8BACjB,cAAMA,IACDiC,OAAS,EAAKA,OAAOwB,KAAZ,gBAFG,E,0CAKnB,WACEC,KAAK1D,MAAM2D,YAAY1B,OACrByB,KAAK1D,MAAMP,KAAKgD,WAChBiB,KAAK1D,MAAMqB,W,wBAIf,WACEqC,KAAK1D,MAAM2D,YAAYd,iBAAiBa,KAAK1D,MAAMP,Q,oBAGrD,WAAU,IAAD,OACP,EAA0BiE,KAAK1D,MAAvB4D,EAAR,EAAQA,QAASnE,EAAjB,EAAiBA,KACXoE,EAAepE,EAAKQ,SAKxB,kBAAC6D,EAAA,EAAD,CAAM3D,GAAG,IAAI4D,MAAO,CAAEC,eAAgB,SACpC,kBAAC,IAAD,CAAQC,UAAWL,EAAQM,YAAaC,QAAST,KAAKzB,QAAtD,WALF,kBAAC6B,EAAA,EAAD,CAAM3D,GAAG,SAAS4D,MAAO,CAAEC,eAAgB,SACzC,kBAAC,IAAD,CAAQC,UAAWL,EAAQM,aAA3B,WAUEE,EAAgB3E,EAAKQ,SAKzB,kBAAC6D,EAAA,EAAD,CAAM3D,GAAG,WAAW4D,MAAO,CAAEC,eAAgB,SAC3C,kBAAC,IAAD,CAAQC,UAAWL,EAAQM,aAAczE,EAAK+C,KAAK6B,OALrD,kBAACP,EAAA,EAAD,CAAM3D,GAAG,UAAU4D,MAAO,CAAEC,eAAgB,SAC1C,kBAAC,IAAD,CAAQC,UAAWL,EAAQM,aAA3B,YAOEI,EAAc7E,EAAKQ,UAAYR,EAAK+C,KAAK+B,SAC7C,kBAACT,EAAA,EAAD,CAAM3D,GAAG,SAAS4D,MAAO,CAAEC,eAAgB,SACzC,kBAAC,IAAD,CACEC,UAAWL,EAAQM,YACnBC,QAAS,kBAAM,EAAKK,eAFtB,UAQJ,OACE,yBAAKP,UAAWL,EAAQa,MACrBH,EAIAT,EACAO,O,GAzDkB1E,aA2EZgF,eACbC,IACAC,sBAzFa,SAAAC,GAAK,MAAK,CACvBX,YAAa,CACXY,OAAQD,EAAME,QAAQC,KAAO,EAC7BC,OAAQ,OACRC,MAAO,QACPC,WAAY7B,GAEdmB,KAAM,CACJW,WAAY,cAkFd/F,aAXsB,SAAC,GAAD,MAAe,CAAEI,KAAjB,EAAGA,SAEA,SAAA6B,GACzB,MAAO,CACLqC,YAAa0B,YAAmB1B,EAAarC,OAIlCoD,CAIblB,G,kFCvGK,SAAS8B,KACd,MAAO,CAAEjC,KFyCkB,iBEtCtB,SAASkC,GAAWC,GACzB,MAAO,CAAEnC,KFuBgB,cEvBSmC,OCQpC,IAAMC,GAAQC,KAAM,KAEdC,GAAS,CACblB,KAAM,CACJmB,aAAc,kBAEhBC,OAAQ,CACNC,QAAS,cACTV,WAAY,SACZF,MAAO,SAETa,OAAQ,CACND,QAAS,OACTb,OAAQ,QACRe,MAAO,QACPb,WAAY,UACZc,eAAgB,eAChBC,SAAU,OACVd,WAAY,UAEde,WAAY,CACVC,UAAW,SACXC,SAAU,MACVnB,MAAOO,GACPa,WAAY,MACZC,WAAY,QACZC,WAAY,QACZC,WACE,2IAEJC,KAAM,CACJC,IAAK,CACH1B,OAAQ,SAkDCP,mBACbE,qBAAWe,IACXtG,aAdF,YACE,MAAO,CACLuH,KAF+B,EAARA,SAM3B,SAA4BtF,GAC1B,MAAO,CACLuF,YAAaxB,YAAmBwB,EAAavF,OAIlCoD,EA7Cf,SAAgB1E,GACd,IAAQ4D,EAAY5D,EAAZ4D,QACR,OACE,yBAAKK,UAAWL,EAAQa,MACtB,yBAAKR,UAAWL,EAAQmC,QACtB,kBAAC,KAAD,CACE9B,UAAWL,EAAQiC,OACnB1B,QAASnE,EAAM6G,YAAYvB,cAE3B,kBAAC,KAAD,OAEF,kBAAC,IAAD,CAAYrB,UAAWL,EAAQuC,WAAY9C,KAAK,SAC9C,kBAACS,EAAA,EAAD,CAAMC,MAAO,CAAEC,eAAgB,OAAQkB,MAAOO,IAAStF,GAAG,KAA1D,QAEE,yBACE2G,GAAG,YACHC,IAAKL,KACLV,MAAM,OACNf,OAAO,OACP+B,IAAI,WAIV,kBAAC,GAAD,W,SCxEAC,IAAcC,OAAOC,OAAS,CACpCF,WAAW,IADLA,UAID,SAASG,KACd,MAAO,CAAE/D,KJQe,cILnB,SAASgE,GAAe7G,GAC7B,OAAO,aAAE6C,KJFoB,mBIEY7C,GAGpC,SAAS8G,GAAsB9G,GACpC,OAAO,aAAE6C,KJJ4B,2BIIY7C,GAG5C,SAAS+G,GAAYC,GAC1B,MAAO,CAAEnE,KJTiB,eISSmE,MAAOA,GAGrC,SAASC,KACd,OAAO,SAAAnG,GACL,OAAON,MAAM,kBAAmB,CAC9BO,OAAQ,MACRC,KAAM,SAELf,MAAK,SAAAJ,GAAQ,OAAIA,EAASG,UAC1BC,MAAK,SAAAD,GAAI,OAAIc,EAAS+F,GAAe7G,OACrCS,OAAM,SAAA0B,GAAC,OAAIrB,EAASoG,GAAiB/E,EAAEgF,cAIvC,SAASC,GAAaC,EAAUC,EAAQzG,GAC7C,IAAI0G,EACAC,EAAgBC,UAAUH,GAC9B,OAAQD,GACN,IAAK,QACHE,EAAK,gBAAYC,GACjB,MACF,IAAK,OACHD,EAAK,eAAWC,GAChB,MACF,QACED,EAAK,eAAWC,GAEpB,OAAIf,IAA0B,SAAbY,EACRK,GAAcH,EAAO1G,GAEvB,SAAAC,GACL,OAAOV,EAAQ,yBAAD,OAA0BmH,GAAS,CAC/CxG,OAAQ,MACRC,KAAM,SAELf,MAAK,SAAAD,GAAI,OAAIc,EAASgG,GAAsB9G,OAC5CC,MAAK,kBAAMY,EAAQS,KAAK,QACxBb,OAAM,SAAA0B,GAAC,OAAIrB,EAAS6G,GAAkBN,QAItC,SAASK,GAAcH,EAAO1G,GACnC,OAAO,SAAAC,GACL,OAAOV,EAAQ,+BAAD,OAAgCmH,GAAS,CACrDxG,OAAQ,MACRC,KAAM,SAELf,MAAK,SAAAD,GAAI,OAAIc,EAASgG,GAAsB9G,OAC5CC,MAAK,kBAAMY,EAAQS,KAAK,QACxBb,OAAM,SAAA0B,GAAC,OAAIrB,EAAS6G,GAAkBxF,EAAEgF,cAIxC,SAASS,GAAgBN,EAAQzG,GACtC,OAAO,SAAAC,GACL,IAAI+G,EAAYP,EAAOQ,MAAM,KAAKC,KAAI,SAAAC,GAAI,0BAAiBA,EAAKC,WAGhE,OAAO7H,EAFA,mCAA+BqH,UAAUI,EAAUK,KAAK,OAE3C,CAClBnH,OAAQ,MACRC,KAAM,SAELf,MAAK,SAAAD,GAAI,OAAIc,EAASqH,GAAuBnI,EAAKoI,YAClDnI,MAAK,kBAAMY,EAAQS,KAAK,uBACxBb,OAAM,SAAA0B,GAAC,OAAIrB,EAASuH,GAAqBlG,EAAEgF,cAI3C,SAASgB,GAAuBC,GACrC,MAAO,CAAEvF,KJjF6B,2BIiFSuF,UAG1C,SAASC,GAAqBlG,GACnC,MAAO,CACLU,KJvFoC,2BIwFpCnC,MAAM,4CAIH,SAAS4H,GAAkBtI,GAChC,MAAO,CAAE6C,KJtFyB,uBIsFSmE,MAAOhH,EAAKgH,OAGlD,SAASuB,GAAejC,EAAIzF,GACjC,OAAO,SAAAC,GACL,OAAON,MAAM,qBAAD,OAAsB8F,GAAM,CACtCvF,OAAQ,MACRC,KAAM,SAELf,MAAK,SAAAJ,GAAQ,OAAIA,EAASG,UAC1BC,MAAK,SAAAD,GAAI,OAAIc,EAASwH,GAAkBtI,OACxCC,MAAK,kBAAMY,EAAQ2H,QAAR,qBAA8BlC,OACzC7F,OAAM,SAAA0B,GAAC,OAAIrB,EAAS2H,GAAoBtG,EAAEgF,cAI1C,SAASD,GAAiB/E,GAC/B,MAAO,CACLU,KJnHgC,uBIoHhCnC,MAAM,0BAIH,SAAS+H,GAAoBtG,GAClC,MAAO,CACLU,KJhHqC,4BIiHrCnC,MAAM,oCAIH,SAASiH,GAAkBxF,GAChC,MAAO,CACLU,KJ/HiC,wBIgIjCnC,MAAO,wBAA0ByB,EAA1B,KAIJ,SAASuG,KACd,MAAO,CAAE7F,KJxHiB,gBI2HrB,SAAS8F,GAASC,EAAWC,EAAUC,GAC5C,OAAO,SAAAhI,GACL,IAAIyG,EAgBJ,OATEA,EALkC,IAAhCwB,OAAOC,KAAKF,GAASG,OAKf,KAJR1B,EAAQwB,OAAOC,KAAKF,GAASI,QAC3B,SAACC,EAAKC,GAAN,6BAAmBD,GAAnB,WAA2BC,EAA3B,YAAmCN,EAAQM,QAC3C,KAEkBlB,KAAK,KAAjB,gBAAiCW,EAAW,GAE/C,gBAAYA,EAAW,GAOvBzI,EALH2I,OAAOC,KAAKF,GAASO,SAAS,SAAW5C,GACxC,qCAAiCgB,UAAUF,IAE3C,+BAA2BE,UAAUF,IAEtB,CAClBxG,OAAQ,MACRC,KAAM,SAELf,MAAK,SAAAD,GAAI,OACRc,EAASwI,GAAmBV,EAAWC,EAAU7I,EAAMc,OAExDL,OAAM,SAAA0B,GAAC,OAAIrB,GAA0BqB,EAAEgF,QAjDrC,CACLtE,KJnHgC,uBIoHhCnC,MAAM,gCAmDH,SAAS4I,GAAmBV,EAAWC,EAAU7I,EAAMc,GAC5D,IAAIyI,EAAgBX,EAAUb,KAAI,SAAAC,GAAI,OAAIA,EAAKwB,OAC3CC,EAASzJ,EAAKyJ,OAAOC,QAAO,SAAA1C,GAAK,OAAKuC,EAAcF,SAASrC,EAAMwC,QAEnEG,GADJF,EAAM,uBAAOb,GAAP,aAAqBa,KACTR,OAASL,EAAUK,OAASjJ,EAAK2J,KAAOd,EAC1D,OAAIc,IAASd,EACJ,yBACLhG,KJhK6B,uBIiK1B7C,GAFL,IAGEyJ,SACAE,OACAC,OAAQ5J,EAAK4J,SAGR,CAAE/G,KJ5IQ,SIgJd,SAASgH,GAAcC,EAASC,EAASrI,GAC9C,OAAO,SAAAZ,GACL,OAAOV,EAAQ,yBAA0B,CACvCW,OAAQ,OACRC,KAAM,OACNC,QAAS,CACPU,cAAc,UAAD,OAAYD,GACzB,eAAgB,oBAElBR,KAAMC,KAAKC,UAAU,CACnB4I,SAAUF,EACVC,cAGD9J,MAAK,SAAAD,GAAI,OAAIc,EAASmJ,GAA4BjK,OAClDS,OAAM,SAAA0B,GAAC,OAAIG,QAAQC,IAAIJ,OAIvB,SAAS8H,GAA4BjK,GAC1C,MAAO,CAAE6C,KJ3L2B,yBI2LSqH,SAAUlK,EAAKkK,UAGvD,SAASC,GAAYC,EAAWC,EAAQ3I,EAAOsI,GACpD,OAAO,SAAAlJ,GACL,OAAOV,EAAQ,yBAA0B,CACvCW,OAAQ,MACRC,KAAM,OACNC,QAAS,CACPU,cAAc,UAAD,OAAYD,GACzB,eAAgB,oBAElBR,KAAMC,KAAKC,UAAU,CACnBkJ,WAAYF,EACZG,gBAAiBF,EACjBL,eAGD/J,MAAK,SAAAD,GAAI,OAAIc,EAAS0J,GAAwBxK,OAC9CS,OAAM,SAAA0B,GAAC,OAAIG,QAAQC,IAAIJ,OAIvB,SAASqI,GAAwBxK,GACtC,MAAO,CAAE6C,KJhN2B,yBIgNSqH,SAAUlK,EAAKkK,UAGvD,SAASO,GAAcH,EAAY5I,EAAOsI,GAC/C,OAAO,SAAAlJ,GACL,OAAOV,EAAQ,yBAA0B,CACvCW,OAAQ,SACRC,KAAM,OACNC,QAAS,CACPU,cAAc,UAAD,OAAYD,GACzB,eAAgB,oBAElBR,KAAMC,KAAKC,UAAU,CACnBkJ,aACAN,eAGD/J,MAAK,SAAAD,GAAI,OAAIc,EAAS0J,GAAwBxK,OAC9CS,OAAM,SAAA0B,GAAC,OAAIG,QAAQC,IAAIJ,OAIvB,SAASuI,GAAiBC,EAAO3F,EAAK0E,GAC3C,MAAO,CAAE7G,KJ5OsB,oBI4OS+H,QAAS,CAAED,QAAO3F,MAAK0E,WC9PjE,IAoBemB,GApBG,SAAArL,GAChB,OACE,yBACE+D,MAAO,CACLuH,gBAAiB,QACjBpG,MAAO,QACPkB,UAAW,WAGb,uBACEnC,UAAU,qBACVE,QAAS,kBAAMnE,EAAMuL,QAAQvL,EAAMkB,SAFrC,UAMClB,EAAMwL,MCTPC,G,4JACJ,WAAU,IAAD,OACCC,EAAWhI,KAAK1D,MAAhB0L,OAEJC,EAAUpC,OAAOC,KAAKkC,GACvBxB,QAAO,SAAA1E,GAAG,MAAoB,KAAhBkG,EAAOlG,MACrB+C,KAAI,SAAA/C,GACH,OACE,yBACEA,IAAKA,EACLzB,MAAO,CACLuH,gBAAiB,QACjBpG,MAAO,QACPkB,UAAW,WAGb,kBAAC,GAAD,CACEoF,IAAKE,EAAOlG,GACZ+F,QAAS,EAAKvL,MAAMuF,WACpBrE,MAAOsE,QAKjB,OAAO,kBAAC,IAAMoG,SAAP,KAAiBD,O,GAxBPjM,aAyCNgF,mBACbrF,aAdF,YACE,MAAO,CACLqM,OAFiC,EAAVA,WAM3B,SAA4BpK,GAC1B,MAAO,CACLuK,aAAcxG,YAAmBwG,EAAcvK,GAC/CiE,WAAYF,YAAmBE,GAAYjE,OAIhCoD,CAKb+G,I,yCC5CIhG,GAAQC,KAAM,KAedC,GAAS,CACbmG,KAAM,CACJhG,QAAS,cACTX,WAAY,UACZL,OAAQ,MACRG,OAAQ,QACRe,MAAO,QACP+F,aAAc,EACdC,cAAe,SACf5G,WAAY,SACZgB,UAAW,UAEbO,IAAK,CACH7B,OAAQ,OACRmH,UAAW,cACXjG,MAAO,MACPf,OAAQ,SAEViH,MAAO,CACLhH,MAAOO,GACPa,WAAY,IACZC,WAAY,MACZF,SAAU,UACVvB,OAAQ,OACR2B,WACE,2IAEJ0F,cAAe,CACbrH,OAAQ,QAEVsH,KAAM,CACJL,aAAc,OACd5G,WAAY,UACZkH,QAAS,cACTC,YAAa,MACbpH,MAAO,UACPmB,SAAU,QACVI,WACE,0GAEJ8F,OAAQ,CACNR,aAAc,WACd5G,WAAY,UACZkH,QAAS,cACT7F,WAAY,MACZtB,MAAO,QACPmB,SAAU,QACVI,WACE,0GAEJ+F,KAAM,CACJtH,MAAO,UACPmH,QAAS,SACT/F,WAAY,IACZC,WAAY,IACZF,SAAU,QAEZoG,KAAM,CACJvH,MAAO,UACPmB,SAAU,QAEZqG,gBAAiB,CACfxH,MAAO,UACPmH,QAAS,SACTN,aAAc,MACd1F,SAAU,SAIRsG,G,kDACJ,WAAY3M,GAAQ,IAAD,8BACjB,cAAMA,IACD4M,YAAc,EAAKA,YAAYnJ,KAAjB,gBAFF,E,4CAKnB,YAA4B,IAAjBqD,EAAgB,EAAhBA,GAAI+F,EAAY,EAAZA,SACTlG,EAAMmG,SAASC,eAAejG,GAE9BkG,EADSrG,EAAIsG,WACAC,WAAW,MACxBL,GACFG,EAAIG,KAAO,eACXH,EAAI5G,UAAY,SAChB4G,EAAII,UAAY,QAChBJ,EAAIK,SAAS,uBAAwB,IAAK,MAE1CL,EAAIM,UAAU3G,EAAK,EAAG,EAAG,IAAK,O,yBAIlC,WACEjD,KAAK1D,MAAM6L,aAAatE,YAAY7D,KAAK1D,MAAMwH,MAAMwC,O,oBAEvD,WAAU,IAzGeuD,EAyGhB,OACP,EAA2B7J,KAAK1D,MAAxB4D,EAAR,EAAQA,QAAS4D,EAAjB,EAAiBA,MACXgG,EAAWhG,EAAMgF,KAAN,oBAA0BhF,EAAMgF,KAAK9D,KAAK,OAAU,GAC/D+D,EACJjF,EAAMiF,MAAQjF,EAAMiF,KAAKF,OAAzB,gBAA2C/E,EAAMiF,KAAKF,OAAtD,SAAsE,GACxE,OACE,yBAAKtI,UAAWL,EAAQkI,KAAM3H,QAAST,KAAKkJ,aAC1C,kBAAC9I,EAAA,EAAD,CAAMC,MAAO,CAAEC,eAAgB,QAAU7D,GAAE,oBAAeqH,EAAMwC,MAC9D,4BAAQhE,MAAO,IAAKf,OAAQ,IAAKhB,UAAWL,EAAQ+C,KAClD,yBACEG,GAAIU,EAAMwC,IACV/F,UAAWL,EAAQ+C,IACnBI,IAAKS,EAAMiG,QAAU,GACrBzG,IAAKQ,EAAM0E,MACXA,MAAO1E,EAAM0E,MACbwB,OAAQ,kBAAM,EAAKC,SAAS,CAAE7G,GAAIU,EAAMwC,IAAK6C,UAAU,KACvDe,QAAS,kBAAM,EAAKD,SAAS,CAAE7G,GAAIU,EAAMwC,IAAK6C,UAAU,QAG5D,uBAAG5I,UAAWL,EAAQsI,OAAQ1E,EAAM0E,OACpC,yBAAKjI,UAAWL,EAAQuI,eACtB,0BAAMlI,UAAWL,EAAQwI,MAAO5E,EAAM4E,MACrC5E,EAAMqG,OACL,0BAAM5J,UAAWL,EAAQ2I,QAAS/E,EAAMqG,QAG5C,uBAAG5J,UAAWL,EAAQ4I,MAAOgB,GAC7B,6BACGf,GACC,0BACExI,UAAWL,EAAQ8I,gBACnB3I,OAxIWwJ,EAwIe/F,EAAMiF,KAAKF,OAvI/CgB,GAAS,EACJ,CAAEjC,gBAAiB7F,IAExB8H,GAAS,EACJ,CAAEjC,gBAAiB,WAExBiC,EACK,CAAEjC,gBAAiB,OAErB,CAAEA,gBAAiB,sBAgIXmB,U,GAxDO/M,aA4ETgF,mBACbE,qBAAWe,IACXtG,aACE,iBAAO,MATX,SAA4BiC,GAC1B,MAAO,CACLuK,aAAcxG,YAAmBwG,EAAcvK,OAIpCoD,CAMbiI,I,kFCpKIhH,GAAS,CACblB,KAAM,CACJqB,QAAS,OACTkG,cAAe,MACf/F,eAAgB,SAChBb,WAAY,UAEdgF,OAAQ,CACNhF,WAAY,SACZD,WAAY,QACZD,MAAO,SAET4I,QAAS,CACP5I,MAAOQ,KAAM,MAEfqI,MAAO,CACL7I,MAAOQ,KAAM,OAIXsI,G,kDACJ,WAAYhO,GAAQ,IAAD,8BACjB,cAAMA,IAiIRiO,2BAA6B,SAAA5J,GAAI,OAAI,SAAA6J,GACnC,IAAIhE,EACJ,OAAQ7F,EAAO,IACb,IAAK,IACH6F,EAAS,SAAA1C,GAAK,OACZA,EAAM2G,YAAe3G,EAAM2G,YAAc,GAAK3G,EAAM2G,WAAa,IACnE,MACF,IAAK,KACHjE,EAAS,SAAA1C,GAAK,OACZA,EAAM2G,YAAe3G,EAAM2G,YAAc,IAAM3G,EAAM2G,WAAa,IACpE,MAEF,IAAK,KACHjE,EAAS,SAAA1C,GAAK,OACZA,EAAM2G,YAAe3G,EAAM2G,YAAc,IAAM3G,EAAM2G,WAAa,IACpE,MACF,IAAK,KACHjE,EAAS,SAAA1C,GAAK,OAAIA,EAAM2G,YAAc3G,EAAM2G,YAAc,IAC1D,MAEF,QACEjE,EAAS,SAAA1C,GAAK,OACXA,EAAM2G,YAA0C,kBAArB3G,EAAM2G,YAExC,EAAKnO,MAAM6L,aAAaX,iBAAiB,SAAU7G,EAAM6F,KA1JxC,EA6JnBkE,4BAA8B,SAAA/J,GAAI,OAAI,SAAA6J,GACpC,IAAIhE,EACJ,OAAQ7F,EAAO,IACb,IAAK,IACH6F,EAAS,SAAA1C,GAAK,OACZA,EAAM6G,SAAY7G,EAAM6G,SAAW,GAAK7G,EAAM6G,QAAU,IAC1D,MACF,IAAK,KACHnE,EAAS,SAAA1C,GAAK,OACZA,EAAM6G,SAAY7G,EAAM6G,SAAW,IAAM7G,EAAM6G,QAAU,IAC3D,MAEF,IAAK,KACHnE,EAAS,SAAA1C,GAAK,OACZA,EAAM6G,SAAY7G,EAAM6G,SAAW,IAAM7G,EAAM6G,QAAU,KAC3D,MACF,IAAK,MACHnE,EAAS,SAAA1C,GAAK,OACZA,EAAM6G,SAAY7G,EAAM6G,SAAW,KAAO7G,EAAM6G,QAAU,KAC5D,MAEF,IAAK,MACHnE,EAAS,SAAA1C,GAAK,OAAIA,EAAM6G,SAAW7G,EAAM6G,SAAW,KACpD,MAEF,QACEnE,EAAS,SAAA1C,GAAK,OACXA,EAAM6G,UAAa7G,EAAM6G,QAAU,GAAK7G,EAAM6G,SAAWC,KAEhE,EAAKtO,MAAM6L,aAAaX,iBAAiB,UAAW7G,EAAM6F,KAxL1D,EAAKqE,YAAc,EAAKA,YAAY9K,KAAjB,gBACnB,EAAK+K,aAAe,EAAKA,aAAa/K,KAAlB,gBACpB,EAAKwK,2BAA6B,EAAKA,2BAA2BxK,KAAhC,gBAClC,EAAK2K,4BAA8B,EAAKA,4BAA4B3K,KAAjC,gBALlB,E,6CASnB,SAAU0H,EAAO3C,EAAMuF,EAAOU,GAC5B,OACE,kBAAC,KAAD,CAAWC,KAAG,EAAClJ,IAAKgD,EAAKwB,KACvB,kBAAC,KAAD,CACEpG,QAAS,CAAEmK,MAAOrK,KAAK1D,MAAM4D,QAAQmK,OACrCY,QACE,kBAAC,KAAD,CACE/K,QAAS,CAAEgL,QAASlL,KAAK1D,MAAM4D,QAAQmK,OACvCD,QAASpK,KAAK1D,MAAM6O,aAAa1D,GAAO3C,EAAKwB,KAC7C8E,SAAUL,EAAGjG,EAAKwB,KAClB+E,MAAOvG,EAAKwB,IAAM,KAGtB+D,MAAOA,O,0BAKf,WAAgB,IAAD,OACLnK,EAAYF,KAAK1D,MAAjB4D,QACAyK,EAAY3K,KAAK1D,MAAMoK,OAAvBiE,QACR,OACE,yBAAKpK,UAAWL,EAAQa,MACtB,wBAAIV,MAAO,CAAEmB,MAAO,QAASoH,YAAa,SAA1C,YACC+B,EAAQ9F,KAAI,SAAAC,GACX,OAAQA,EAAKwB,IAAM,IACjB,IAAK,IACH,OAAO,EAAKgF,UACV,UACAxG,EAFK,gBAGIA,EAAKyG,MAHT,KAIL,EAAKb,6BAET,IAAK,KACH,OAAO,EAAKY,UACV,UACAxG,EAFK,iBAGKA,EAAKyG,MAHV,KAIL,EAAKb,6BAET,IAAK,KACH,OAAO,EAAKY,UACV,UACAxG,EAFK,kBAGMA,EAAKyG,MAHX,KAIL,EAAKb,6BAET,IAAK,MACH,OAAO,EAAKY,UACV,UACAxG,EAFK,mBAGOA,EAAKyG,MAHZ,KAIL,EAAKb,6BAET,IAAK,MACH,OAAO,EAAKY,UACV,UACAxG,EAFK,gBAGIA,EAAKyG,MAHT,KAIL,EAAKb,6BAET,QACE,OAAO,EAAKY,UACV,UACAxG,EAFK,iBAGKA,EAAKyG,MAHV,KAIL,EAAKb,oC,yBAOnB,WAAe,IAAD,OACJxK,EAAYF,KAAK1D,MAAjB4D,QACA2I,EAAW7I,KAAK1D,MAAMoK,OAAtBmC,OACR,OACE,yBAAKtI,UAAWL,EAAQa,MACtB,wBAAIV,MAAO,CAAEmB,MAAO,QAASoH,YAAa,SAA1C,WACCC,EAAOhE,KAAI,SAAAC,GACV,OAAQA,EAAKwB,IAAM,IACjB,IAAK,IACH,OAAO,EAAKgF,UACV,SACAxG,EAFK,gBAGIA,EAAKyG,MAHT,KAIL,EAAKhB,4BAET,IAAK,KACH,OAAO,EAAKe,UACV,SACAxG,EAFK,iBAGKA,EAAKyG,MAHV,KAIL,EAAKhB,4BAET,IAAK,KACH,OAAO,EAAKe,UACV,SACAxG,EAFK,iBAGKA,EAAKyG,MAHV,KAIL,EAAKhB,4BAET,IAAK,KACH,OAAO,EAAKe,UACV,SACAxG,EAFK,eAGGA,EAAKyG,MAHR,KAIL,EAAKhB,4BAET,QACE,OAAO,EAAKe,UACV,SACAxG,EAFK,iBAGKA,EAAKyG,MAHV,KAIL,EAAKhB,mC,oBAkEnB,WACE,IAAQrK,EAAYF,KAAK1D,MAAjB4D,QACF2K,EAAc7K,KAAK6K,cACnBC,EAAe9K,KAAK8K,eAC1B,OACE,6BACE,yBAAKvK,UAAWL,EAAQwG,QACrBb,OAAOC,KAAK9F,KAAK1D,MAAMoK,OAAOmC,QAAQ9C,OAAS,GAAK8E,GAEvD,yBAAKtK,UAAWL,EAAQwG,QACrBb,OAAOC,KAAK9F,KAAK1D,MAAMoK,OAAOiE,SAAS5E,OAAS,GAAK+E,Q,GAxM3C9O,aAgONgF,mBACbE,qBAAWe,IACXtG,aAfF,YAAqE,EAA1CuH,KAA2C,IAAD,IAApCqD,OAC/B,MAAO,CACLG,OAFiE,EAA1BA,OAGvCyE,aAHiE,EAAlBA,iBAOnD,SAA4BvN,GAC1B,MAAO,CACLuK,aAAcxG,YAAmBwG,EAAcvK,OAIpCoD,CAMbsJ,IC1NIkB,G,kDACJ,WAAYlP,GAAQ,IAAD,8BACjB,cAAMA,IACDV,MAAQ,CACX6P,QAAQ,EACRlF,OAAQ,IAEV,EAAKmF,SAAWC,KAAS,EAAKD,SAAS3L,KAAd,gBAA0B,KANlC,E,qDAQnB,WACOC,KAAK1D,MAAMiK,QAA8C,IAApCvG,KAAK1D,MAAMiK,OAAOA,OAAOR,QACjD/F,KAAK1D,MAAM6L,aAAapE,cAE1BP,OAAOoI,iBAAiB,SAAU5L,KAAK0L,UAAU,K,kCAGnD,WACElI,OAAOqI,oBAAoB,SAAU7L,KAAK0L,UAAU,GACpD1L,KAAK0L,SAASI,W,uCAGhB,SAA0BxP,GACpBA,EAAMiK,OAAOA,OAAOR,SAAWzJ,EAAMiK,OAAOwF,gBAC9C/L,KAAKgM,SAAS,CAAEP,QAAQ,IACxBzL,KAAK0L,SAASI,SACdtI,OAAOqI,oBAAoB,SAAU7L,KAAK0L,UAAU,IAEjDpP,EAAMiK,OAAOkF,SAChBzL,KAAKgM,SAAS,CAAEP,QAAQ,IACxBzL,KAAK0L,SAASI,Y,sBAIlB,WACE,IAAMG,EAAS7C,SAASC,eAAe,SAEpCrJ,KAAK1D,MAAMiK,OAAOkF,QACnBrC,SAASpL,KAAKkO,aAAe1I,OAAO2I,aAClCF,EAAOG,aAAe,MACxBpM,KAAK1D,MAAMiK,OAAOA,OAAOR,SAAW/F,KAAK1D,MAAMiK,OAAOwF,gBAEtD/L,KAAK1D,MAAM6L,aAAa3C,cACxBxF,KAAK1D,MAAM6L,aAAa1C,SACtBzF,KAAK1D,MAAMiK,OAAOA,OAClBvG,KAAK1D,MAAMiK,OAAOE,KAClBzG,KAAK1D,MAAMiK,OAAOX,Y,oBAKxB,WACE,IAAQ1F,EAAYF,KAAK1D,MAAjB4D,QACFqG,EAASvG,KAAK1D,MAAMiK,OAAO8F,YACjC,OACG9F,IACkB,IAAlBA,EAAOR,QACJ/F,KAAK1D,MAAM0L,OAAOsE,mBACjBtM,KAAK1D,MAAMiQ,oBASd,yBACEhM,UAAWP,KAAK1D,MAAM4D,QAAQa,KAC9B2K,SAAU1L,KAAK0L,SACftI,GAAG,UAEH,kBAAC,GAAD,MACA,kBAAC,KAAD,CACEoJ,WAAY,IACZjM,UAAWP,KAAK1D,MAAM4D,QAAQuM,SAC9BC,KAAM,GAELnG,EAAO1B,KAAI,SAAAf,GAAK,OAAI,kBAAC,GAAD,CAAWhC,IAAKgC,EAAMwC,IAAKxC,MAAOA,SAjB3D,yBAAKvD,UAAWL,EAAQyM,SACtB,kBAAC,KAAD,W,GA7Dc3Q,aAsGTgF,mBACbE,sBAtIa,SAAAC,GAAK,MAAK,CACvBJ,KAAM,CACJ6L,KAAM,EACNC,SAAU,OACVtK,eAAgB,SAChBqF,gBAAiB,QACjBkF,aAAc,SACdxK,MAAO,QACPyK,UAAW,QACXxL,OAAQ,OACRyL,UAAW,GAEbP,SAAU,CACRlL,OAAQ,OACRgB,eAAgB,SAChBqF,gBAAiB,QACjBtF,MAAO,QACP0K,UAAW,EACXC,SAAU,GAEZN,QAAS,CACPvK,QAAS,OACTkG,cAAe,SACf/F,eAAgB,SAChBqF,gBAAiB,QACjBlG,WAAY,SACZY,MAAO,QACPf,OAAQ,aA4GV5F,aAfF,YACE,MAAO,CACL4K,OAFyC,EAAlBA,OAGvByB,OAHyC,EAAVA,WAOnC,SAA4BpK,GAC1B,MAAO,CACLuK,aAAcxG,YAAmBwG,EAAcvK,OAIpCoD,CAMbwK,ICvHI0B,G,4MACJhE,YAAc,SAAA9F,GACZ,EAAK9G,MAAM6L,aAAa9C,eAAejC,EAAI,EAAK9G,MAAMqB,U,4CAExD,WAAU,IAAD,OACP,EAGIqC,KAAK1D,MAFP4D,EADF,EACEA,QAIEiN,EALJ,EAEE5G,OAAUrB,OAGYL,KAAI,SAAC2D,EAAO4E,GAAR,OAC1B,wBACE7M,UAAWL,EAAQmN,GACnBvL,IAAKsL,EACL3M,QAAS,kBAAM,EAAKyI,YAAYV,EAAMlC,OAErCkC,EAAMA,UAGX,OACE,yBAAKjI,UAAWL,EAAQa,MACtB,wBAAIR,UAAWL,EAAQoN,IAAKH,Q,GArBPnR,aA4CdgF,mBACbC,IACAC,sBAtEa,SAAAC,GAAK,MAAK,CACvBJ,KAAM,CACJqB,QAAS,OACTwK,KAAM,EACNC,SAAU,OACVtK,eAAgB,SAChBqF,gBAAiB,QACjBkF,aAAc,SACdxK,MAAO,QACPyK,UAAW,QACXxL,OAAQ,OACRyL,UAAW,GAEbM,GAAI,CACFC,UAAW,OACX7K,UAAW,UAEb2K,GAAI,CACF1K,SAAU,MACVnB,MAAO,QACPgM,OAAQ,eAmDV7R,aAhBF,YACE,MAAO,CACL4K,OAFyC,EAAlBA,OAGvByB,OAHyC,EAAVA,WAOnC,SAA4BpK,GAC1B,MAAO,CACLuK,aAAcxG,YAAmBwG,EAAcvK,OAIpCoD,CAObkM,I,qJC/DInL,GAAQC,KAAM,KA4DdyL,G,kDACJ,WAAYnR,GAAQ,IAAD,8BACjB,cAAMA,IAuBRoR,aAAe,SAAAC,GAAI,OAAI,SAAAnD,GACrB,EAAKwB,SAAL,gBAAiB2B,EAAOnD,EAAMoD,OAAOvC,UAzBpB,EA4BnBwC,wBAA0B,SAAArD,GACxBA,EAAMsD,kBA7BW,EAgCnBC,yBAA2B,WACzB,EAAK/B,SAAS,CAAEgC,cAAe,EAAKpS,MAAMoS,gBAjCzB,EAoCnBC,iBAAmB,WACjB,EAAKjC,SAAS,CAAEkC,eAAe,KArCd,EAwCnBC,oBAAsB,WACpB,EAAKnC,SAAS,CAAEoC,kBAAkB,KAvClC,EAAKxS,MAAQ,CACXyS,MAAO,GACPC,SAAU,GACVN,cAAc,EACdE,eAAe,EACfE,kBAAkB,GAGpB,EAAKG,aAAe,EAAKA,aAAaxO,KAAlB,gBAVH,E,gDAanB,SAAayK,GACXA,EAAMsD,iBACN9N,KAAK1D,MAAM2D,YAAYvC,MACrB,CACE4Q,SAAUtO,KAAKpE,MAAM0S,SACrBD,MAAOrO,KAAKpE,MAAMyS,OAEpBrO,KAAK1D,MAAMqB,W,oBAwBf,WACE,IAAQuC,EAAYF,KAAK1D,MAAjB4D,QAER,OACE,yBAAKK,UAAWL,EAAQa,MACtB,0BAAMR,UAAWL,EAAQsO,MACvB,yBAAKjO,UAAWL,EAAQuO,SACtB,8CACA,mEACwC,IACtC,kBAACrO,EAAA,EAAD,CACE3D,GAAG,SACH4D,MAAO,CAAEC,eAAgB,OAAQkB,MAAO,SAF1C,gBAQJ,2BAAO7B,KAAK,OAAOU,MAAO,CAAE+B,QAAS,UACrC,2BAAOzC,KAAK,WAAWU,MAAO,CAAE+B,QAAS,UACzC,kBAAC,KAAD,CAAa7B,UAAWL,EAAQuO,SAC9B,kBAAC,KAAD,CAAYpO,MAAO,CAAEmB,MAAO,SAAWkN,QAAQ,SAA/C,SAGA,kBAAC,KAAD,CACErO,MAAO,CAAEmB,MAAO,SAChB4B,GAAG,wBACHzD,KAAK,QACLgP,SAAU3O,KAAKpE,MAAMsS,cACrBU,QAAS5O,KAAKiO,iBACd5C,MAAOrL,KAAKpE,MAAMyS,MAClBQ,aAAa,QACbzD,SAAUpL,KAAK0N,aAAa,SAC5BoB,aACE,kBAAC,KAAD,CAAgBC,SAAS,OACvB,kBAAC,KAAD,CAAYxO,UAAWL,EAAQuO,SAC7B,kBAAC,KAAD,WAMV,kBAAC,KAAD,CAAapO,MAAO,CAAEmB,MAAO,SAAWjB,UAAWL,EAAQuO,SACzD,kBAAC,KAAD,CAAYpO,MAAO,CAAEmB,MAAO,SAAWkN,QAAQ,YAA/C,YAGA,kBAAC,KAAD,CACErO,MAAO,CAAEmB,MAAO,SAChB4B,GAAG,2BACHyL,aAAa,MACbF,SAAU3O,KAAKpE,MAAMwS,iBACrBzO,KAAMK,KAAKpE,MAAMoS,aAAe,OAAS,WACzC3C,MAAOrL,KAAKpE,MAAM0S,SAClBM,QAAS5O,KAAKmO,oBACd/C,SAAUpL,KAAK0N,aAAa,YAC5BoB,aACE,kBAAC,KAAD,CAAgBC,SAAS,OACvB,kBAAC,KAAD,CACExO,UAAWL,EAAQuO,QACnBhO,QAAST,KAAK+N,yBACdiB,YAAahP,KAAK6N,yBAEjB7N,KAAKpE,MAAMoS,aACV,kBAAC,KAAD,MAEA,kBAAC,KAAD,WAOZ,yBAAKzN,UAAWL,EAAQ+O,WACtB,kBAAC,IAAD,CAAQ1O,UAAWL,EAAQgP,YACzB,kBAAC9O,EAAA,EAAD,CAAMC,MAAO,CAAEC,eAAgB,OAAQkB,MAAO,SAAW/E,GAAG,KAA5D,WAIF,kBAAC,IAAD,CAAQ8D,UAAWL,EAAQiP,SAAU1O,QAAST,KAAKuO,cAAnD,iB,GA3HYvS,aAqJTgF,mBACbC,IACAC,sBAjNa,SAAAC,GAAK,MAAK,CACvBJ,KAAM,CACJwB,eAAgB,SAChBqF,gBAAiB,QACjBkF,aAAc,SACdxK,MAAO,QACPf,OAAQ,QACRa,QAAS,QAEXoM,KAAM,CACJpM,QAAS,cACTkG,cAAe,SACf9G,MAAO,QACPJ,OAAQ,KACRuH,QAAS,OACTlH,WAAY,UACZ2N,UAAW,KACX/G,aAAc,MACd/F,MAAO,QACPf,OAAQ,SAEV8N,MAAO,CACL7N,MAAO,QACPC,WAAY,WAEdgN,QAAS,CACPrN,OAAQD,EAAME,QAAQC,KACtBE,MAAO,SAET8N,WAAY,CACV3M,SAAU,OACVnB,MAAO,QACP6G,aAAc,OAEhB8G,SAAU,CACR/N,OAAQD,EAAME,QAAQC,KACtBC,OAAQ,OACRC,MAAO,QACPC,WAAYM,GACZwG,UAAW,YAEb2G,WAAY,CACV9N,OAAQD,EAAME,QAAQC,KACtBC,OAAQ,OACRC,MAAO,QACPC,WAAY,MACZ8G,UAAW,YAEb0G,UAAW,CACT7N,OAAQD,EAAME,QAAQC,KACtB8N,UAAW,OACXhN,QAAS,cACTkG,cAAe,MACfC,UAAW,WACXhG,eAAgB,gBA4JlB5G,aAfF,YACE,MAAO,CACLI,KAF+B,EAARA,SAM3B,SAA4B6B,GAC1B,MAAO,CACLqC,YAAa0B,YAAmB1B,EAAarC,OAIlCoD,CAObyM,I,qBCvNI1L,GAAQC,KAAM,KA2DduN,G,4MACJ3T,MAAQ,CACN+E,KAAM,GACN0N,MAAO,GACPC,SAAU,GACVN,cAAc,G,EAGhBO,aAAe,SAAA/D,GACbA,EAAMsD,iBACN,EAAKxR,MAAM2D,YAAY3B,SACrB,CACEqC,KAAM,EAAK/E,MAAM+E,KACjB0N,MAAO,EAAKzS,MAAMyS,MAClBC,SAAU,EAAK1S,MAAM0S,UAEvB,EAAKhS,MAAMqB,U,EAIf+P,aAAe,SAAAC,GAAI,OAAI,SAAAnD,GACrB,EAAKwB,SAAL,gBAAiB2B,EAAOnD,EAAMoD,OAAOvC,U,EAGvCwC,wBAA0B,SAAArD,GACxBA,EAAMsD,kB,EAGRC,yBAA2B,WACzB,EAAK/B,SAAS,CAAEgC,cAAe,EAAKpS,MAAMoS,gB,4CAG5C,WACE,IAAQ9N,EAAYF,KAAK1D,MAAjB4D,QAER,OACE,yBAAKK,UAAWL,EAAQa,MACtB,0BAAMR,UAAWL,EAAQsO,KAAMgB,SAAUxP,KAAKuO,cAC5C,yBAAKhO,UAAWL,EAAQuO,SACtB,yCACA,8EAGF,kBAAC,KAAD,CAAalO,UAAWL,EAAQuO,SAC9B,kBAAC,KAAD,CAAYpO,MAAO,CAAEmB,MAAO,SAAWkN,QAAQ,QAA/C,QAGA,kBAAC,KAAD,CACEtL,GAAG,iBACHqM,eAAe,OACfpP,MAAO,CAAEmB,MAAO,SAChB6J,MAAOrL,KAAKpE,MAAM+E,KAClByK,SAAUpL,KAAK0N,aAAa,QAC5BmB,aAAa,OACbC,aACE,kBAAC,KAAD,CAAgBC,SAAS,OACvB,kBAAC,KAAD,CAAYxO,UAAWL,EAAQuO,SAC7B,kBAAC,KAAD,WAMV,kBAAC,KAAD,CAAalO,UAAWL,EAAQuO,SAC9B,kBAAC,KAAD,CAAYpO,MAAO,CAAEmB,MAAO,SAAWkN,QAAQ,YAA/C,SAGA,kBAAC,KAAD,CACEtL,GAAG,kBACH/C,MAAO,CAAEmB,MAAO,SAChB7B,KAAK,QACL0L,MAAOrL,KAAKpE,MAAMyS,MAClBjD,SAAUpL,KAAK0N,aAAa,SAC5BmB,aAAa,QACbC,aACE,kBAAC,KAAD,CAAgBC,SAAS,OACvB,kBAAC,KAAD,CAAYxO,UAAWL,EAAQuO,SAC7B,kBAAC,KAAD,WAMV,kBAAC,KAAD,CAAapO,MAAO,CAAEmB,MAAO,SAAWjB,UAAWL,EAAQuO,SACzD,kBAAC,KAAD,CAAYpO,MAAO,CAAEmB,MAAO,SAAWkN,QAAQ,YAA/C,YAGA,kBAAC,KAAD,CACErO,MAAO,CAAEmB,MAAO,SAChB4B,GAAG,qBACHzD,KAAMK,KAAKpE,MAAMoS,aAAe,OAAS,WACzC3C,MAAOrL,KAAKpE,MAAM0S,SAClBlD,SAAUpL,KAAK0N,aAAa,YAC5BmB,aAAa,WACbC,aACE,kBAAC,KAAD,CAAgBC,SAAS,OACvB,kBAAC,KAAD,CACExO,UAAWL,EAAQuO,QACnBhO,QAAST,KAAK+N,0BAEb/N,KAAKpE,MAAMoS,aACV,kBAAC,KAAD,MAEA,kBAAC,KAAD,WAOZ,yBAAKzN,UAAWL,EAAQ+O,WACtB,kBAAC,IAAD,CAAQ1O,UAAWL,EAAQgP,YACzB,kBAAC9O,EAAA,EAAD,CAAMC,MAAO,CAAEC,eAAgB,OAAQkB,MAAO,SAAW/E,GAAG,KAA5D,WAIF,kBAAC,IAAD,CAAQkD,KAAK,SAASY,UAAWL,EAAQiP,UAAzC,kB,GApHanT,aA8IVgF,mBACbC,IACAC,sBAzMa,SAAAC,GAAK,MAAK,CACvBJ,KAAM,CACJwB,eAAgB,SAChBqF,gBAAiB,QACjBkF,aAAc,SACdxK,MAAO,QACPf,OAAQ,QACRa,QAAS,QAEXoM,KAAM,CACJpM,QAAS,cACTkG,cAAe,SACf9G,MAAO,QACPJ,OAAQ,KACRuH,QAAS,OACTlH,WAAY,UACZ2N,UAAW,KACX/G,aAAc,MACd/F,MAAO,QACPf,OAAQ,SAEV8N,MAAO,CACL7N,MAAO,SAETiN,QAAS,CACPrN,OAAQD,EAAME,QAAQC,KACtBE,MAAO,SAET8N,WAAY,CACV3M,SAAU,OACVnB,MAAO,QACP6G,aAAc,OAEhB8G,SAAU,CACR/N,OAAQD,EAAME,QAAQC,KACtBC,OAAQ,OACRC,MAAO,QACPC,WAAYM,GACZwG,UAAW,YAEb2G,WAAY,CACV9N,OAAQD,EAAME,QAAQC,KACtBC,OAAQ,OACRC,MAAO,QACPC,WAAY,MACZ8G,UAAW,YAEb0G,UAAW,CACT7N,OAAQD,EAAME,QAAQC,KACtB8N,UAAW,OACXhN,QAAS,cACTkG,cAAe,MACfC,UAAW,WACXhG,eAAgB,gBAqJlB5G,aAfF,YACE,MAAO,CACLI,KAF+B,EAARA,SAM3B,SAA4B6B,GAC1B,MAAO,CACLqC,YAAa0B,YAAmB1B,EAAarC,OAIlCoD,CAObuO,IC7IarO,yBA/DA,SAAAC,GAAK,MAAK,CACvBuO,YAAa,CACXN,UAAW,OACX7N,OAAQ,OACRe,MAAO,OACPb,WAAY,OACZ4G,aAAc,OACdsH,UAAW,4CACX,WAAY,CACVvN,QAAS,QACTb,OAAQ,OACRqO,oBAAqB,OACrBC,uBAAwB,OACxBC,gBACE,yEACFH,UACE,2EACFI,SAAU,cA8CD7O,EAzCG,SAAA5E,GAChB,IAAQ4D,EAAqB5D,EAArB4D,QAAS8P,EAAY1T,EAAZ0T,QACXC,EAAOpK,OAAOC,KAAKkK,GAASnL,KAAI,SAACC,EAAMoL,GAC3C,IAAIpR,EA/CmB,SAAA+K,GACzB,IAAIsG,EAAatG,EAIjB,OAHIA,GAAS,KACXsG,EAAqB,GAARtG,GAEXsG,GAAc,IAKdA,GAAc,IAKdA,EATK,CACL7N,MAAM,GAAD,OAAK6N,EAAL,WAQT,EAgCaC,CAAmBJ,EAAQlL,GAAMA,IACxCuL,EAAcvL,EAAKwL,OAAO,GAAGC,cAAgBzL,EAAK0L,MAAM,GACxDC,EAAQT,EAAQlL,GAAM4L,OAASV,EAAQlL,GAAM4L,MACjD,OACE,yBAAK5O,IAAKoO,GACR,wBAAI7P,MAAO,CAAEmB,MAAO,QAASkB,UAAW,YACrC2N,EADH,YACyBL,EAAQlL,GAAMA,GAAM6L,iBAAkB,IAC5DF,GAAK,iBAAa,IAAIG,KAAKC,cAAeC,OAAOL,GAA5C,cAER,yBAAK3O,IAAKoO,EAAI3P,UAAWL,EAAQwP,aAC/B,0BACErP,MAAO,CACLuH,gBAAiBoI,EAAQlL,GAAM8C,gBAC/BtF,MAAOxD,EAAKwD,SAGhB,uBACEjC,MAAO,CACLiC,MAAO,OACPf,OAAQ,OACRH,OAAQ,SACR2P,IAAK,QACLhC,SAAU,WACVvN,MAAO,gBAQnB,OAAO,6BAAMyO,M,8BC7Df,IAkBMe,G,kDACJ,WAAY1U,GAAQ,IAAD,8BACjB,cAAMA,IAeR2U,YAAc,WACZ,EAAK3U,MAAM6L,aAAazE,aAfxB,EAAK9H,MAAQ,CACXsV,KAAM5U,EAAM4U,MAEd,EAAKC,YAAc,EAAKA,YAAYpR,KAAjB,gBALF,E,+CAQnB,SAAYd,GACV,IAAMmS,EAAQhI,SAASiI,cAAc,SACjCD,IACFA,EAAME,OACNF,EAAMG,UAAW,K,oBAQrB,WACE,IAIQrR,EAAYF,KAAK1D,MAAjB4D,QAER,OACE,yBAAKsR,MAAM,YACT,kBAAC,KAAD,CACEC,kBAAgB,eAChBC,mBAAiB,cACjBR,KAAMlR,KAAK1D,MAAMqV,aACjBC,QAAS5R,KAAKiR,aAEd,yBAAK5Q,MA7DN,CACL0Q,IAAI,GAAD,OAJO,GAIP,KACHc,KAAK,GAAD,OAJO,GAIP,KACJC,UAAU,cAAD,OANC,GAMD,eALE,GAKF,OA0D0BvR,UAAWL,EAAQ6R,OAC9C,kBAAC,KAAD,CACEC,QA9CDC,KAAKC,SACL,GACF,cAEA,cA2CGC,KAjBG,CACX5Q,OAAQ,MACRe,MAAO,OAgBC8P,QAASpS,KAAKmR,qB,GAxCJkB,IAAMrW,WAiEfgF,mBACbE,sBApFa,SAAAC,GAAK,MAAK,CACvB4Q,MAAO,CACLhD,SAAU,WACVnH,gBAAiBzG,EAAMmR,QAAQ7Q,WAAWsQ,MAC1CpC,UAAWxO,EAAMoR,QAAQ,GACzB5J,QAA8B,EAArBxH,EAAME,QAAQC,UAgFzB3F,aAdF,cAAgE,IAA3B+H,EAA0B,EAApC6C,OAAU7C,UACnC,OAD6D,EAAT8O,MAC7C,CACLb,aAAcjO,MAIlB,SAA4B9F,GAC1B,MAAO,CACLuK,aAAcxG,YAAmBwG,EAAcvK,OAIpCoD,CAMbgQ,I,uGCnEIyB,G,4MACJ7W,MAAQ,CACN8W,SAAS,G,kDAGX,WACE1S,KAAK1D,MAAMqW,aAAa3S,KAAK1D,MAAMsW,IAAK5S,KAAK6S,WAAWC,a,0BAG1D,WACE9S,KAAK1D,MAAMyW,aAAa/S,KAAK1D,MAAMsW,O,wBAGrC,WACE5S,KAAKgM,SAAS,CAAE0G,SAAS,M,oBAE3B,WAAU,IAAD,OACCxS,EAAYF,KAAK1D,MAAjB4D,QACR,OACE,6BACE,kBAAC,KAAD,CAAMK,UAAWL,EAAQ8S,MACvB,kBAAC,KAAD,CACEC,OACE,kBAAC,KAAD,CAAQC,aAAW,OAAO3S,UAAWL,EAAQ+S,QAA7C,KAIFzK,MAAOxI,KAAK1D,MAAMqE,KAClBwS,UAAWnT,KAAK1D,MAAM8W,OAExB,kBAAC,KAAD,KACE,yBACEC,IAAK,SAAAR,GACH,EAAKA,WAAaA,GAEpBtS,UAAWL,EAAQuC,WACnB6Q,gBAAiBtT,KAAK1D,MAAMiX,UAE3BvT,KAAK1D,MAAMkX,OAGfxT,KAAK1D,MAAMiX,UACV,yBAAKhT,UAAWL,EAAQuT,SACtB,kBAAC,IAAD,CACElT,UAAWL,EAAQwT,aACnBjT,QAAS,kBAAM,EAAKsS,iBAEnB,IAJH,SAKS,KAET,kBAAC,IAAD,CACExS,UAAWL,EAAQyT,aACnBlT,QAAS,kBAAM,EAAKkS,iBAFtB,iB,GAlDYN,IAAMrW,WAuEjBkF,yBAvGA,SAAAC,GAAK,MAAK,CACvB6R,KAAM,CACJ1Q,MAAO,OACP+F,aAAc,MACdjH,OAAQ,MAEV6R,OAAQ,CACNrL,gBAAiB5F,KAAM,MAEzBS,WAAY,CACVC,UAAW,WAEb+Q,QAAS,CACPrR,QAAS,cACTkG,cAAe,MACfhG,MAAO,OACPC,eAAgB,YAElBoR,aAAc,CACZvS,OAAQD,EAAME,QAAQC,KAAO,EAC7BC,OAAQ,OACRC,MAAO,QACPC,WAAYO,KAAM,MAEpB0R,aAAc,CACZtS,OAAQD,EAAME,QAAQC,KAAO,EAC7BC,OAAQ,OACRC,MAAO,QACPC,WAAYmS,KAAI,SA2EL1S,CAAmBuR,ICvE5BoB,G,kDACJ,WAAYvX,GAAQ,IAAD,8BACjB,cAAMA,IACDiS,aAAe,EAAKA,aAAaxO,KAAlB,gBAFH,E,gDAKnB,WACEC,KAAK1D,MAAM6L,aAAaxB,cACtB3G,KAAK1D,MAAMsK,QACX5G,KAAK6S,WAAWC,UAChB9S,KAAK1D,MAAMyC,YAEbiB,KAAK6S,WAAWC,UAAY,K,oBAG9B,WAAU,IAAD,OACC5S,EAAYF,KAAK1D,MAAjB4D,QAER,OACE,6BACE,kBAAC,KAAD,CAAMK,UAAWL,EAAQ8S,MACvB,kBAAC,KAAD,CAAYxK,MAAM,qBAClB,kBAAC,KAAD,KACE,yBACE8K,iBAAiB,EACjB/S,UAAWL,EAAQuC,WACnB4Q,IAAK,SAAAR,GACH,EAAKA,WAAaA,MAIxB,yBAAKtS,UAAWL,EAAQ4T,WACtB,kBAAC,IAAD,CACEvT,UAAWL,EAAQyT,aACnBlT,QAAST,KAAKuO,cAFhB,iB,GAhCc8D,IAAMrW,WA6DjBgF,mBACbE,sBA5Fa,SAAAC,GAAK,MAAK,CACvB6R,KAAM,CACJ1Q,MAAO,OACP+F,aAAc,MACdjH,OAAQ,MAEV6R,OAAQ,CACNrL,gBAAiB5F,KAAM,MAEzBS,WAAY,CACVC,UAAW,UACXJ,MAAO,OACPf,OAAQ,OACRH,OAAQ,UACR2S,OAAQ,kBAEVD,UAAW,CACT1R,QAAS,cACTkG,cAAe,MACfhG,MAAO,OACPC,eAAgB,YAElBoR,aAAc,CACZvS,OAAQD,EAAME,QAAQC,KAAO,EAC7BC,OAAQ,OACRC,MAAO,QACPC,WAAYO,KAAM,UAmEpBrG,aAdF,YACE,MAAO,CACLoD,WAF+B,EAARhD,KAENgD,eAIrB,SAA4BnB,GAC1B,MAAO,CACLuK,aAAcxG,YAAmBwG,EAAcvK,OAIpCoD,CAMb6S,IChGI9R,GAAQC,KAAM,KAKdgS,GAAiB,SAAAlQ,GAAK,OAC1B+B,OAAOC,KAAKhC,GAAOkC,QAAO,SAACC,EAAKnE,GAAS,IAAD,EACtC,OAAQA,GACN,IAAK,OACqB,IAAD,EAAvB,OAAIgC,EAAMhC,GAAK+G,OACN,2BACF5C,GADL,IAEE8C,MAAI,oBACDjH,EAAMgC,EAAMhC,GAAK+G,QADhB,iCAEe,WAFf,uBAGK/E,EAAMhC,GAAKmS,OAHhB,KAOChO,EAEX,IAAK,aACH,OAAO,2BACFA,GADL,IAEEwE,YAAU,oBACP3I,EAAMgC,EAAMhC,IADL,iCAESC,IAFT,KAKd,IAAK,WAE8D,IAAD,EAAhE,OAAI+B,EAAMhC,IAAQgC,EAAMhC,GAAKoS,QAAUpQ,EAAMhC,GAAKoS,OAAOC,MAChD,2BACFlO,GADL,IAEEmO,UAAQ,oBACLtS,EAAMgC,EAAMhC,GAAKoS,OAAOC,OADnB,iCAEW,OAFX,uBAGCrQ,EAAMhC,GAAKoS,OAAOG,YAHnB,KAOHpO,EAEX,QACE,OAAOA,KAEV,KAEChE,GAAS,CACblB,KAAM,CACJqB,QAAS,OACTX,WAAY,QACZc,eAAgB,eAChBD,MAAO,QACPI,UAAW,SACX4F,cAAe,MACf9F,SAAU,QAEZ8R,KAAM,CACJlF,UAAW,OACXmF,SAAU,QACVC,SAAU,MACVlM,cAAe,SACf5G,WAAY,SACZkL,KAAM,WACNrL,OAAQ,SAEV0B,IAAK,CACHX,MAAO,QACPf,OAAQ,SAEVkT,YAAa,CACXrT,OAAQ,MACRI,MAAO,QACPE,WAAY,UAEdgT,OAAQ,CACNnT,OAAQ,OACRC,MAAO,QACPC,WAAYM,IAEdyG,MAAO,CACLhH,MAAO,QACPoB,WAAY,IACZC,WAAY,MACZF,SAAU,MACVvB,OAAQ,QAEVuJ,QAAS,CACPnJ,MAAO,QACPmB,SAAU,OACVlB,WAAY,UACZkH,QAAS,MACTvH,OAAQ,OACRiH,aAAc,OAEhBsM,SAAU,CACRnT,MAAO,QACP4N,UAAW,OACXhO,OAAQ,QAEVwT,aAAc,CACZpT,MAAOO,GACPe,WAAY,MACZrB,WAAY,UACZkH,QAAS,MACTN,aAAc,OAEhBwM,cAAe,CACbzS,QAAS,cACTG,eAAgB,SAChBd,WAAY,UACZa,MAAO,OACPqG,QAAS,SACTN,aAAc,MACd+G,UAAW,OACX1M,UAAW,UAEboS,KAAM,CACJ1T,OAAQ,OACRI,MAAO,QACPmB,SAAU,OACVE,WAAY,QACZP,MAAO,MACPf,OAAQ,MACRmB,UAAW,WAEbgG,KAAM,CACJL,aAAc,WACd5G,WAAY,UACZkH,QAAS,cACTC,YAAa,MACbpH,MAAO,UACPmB,SAAU,SAEZkG,OAAQ,CACNR,aAAc,WACd5G,WAAY,UACZkH,QAAS,cACT7F,WAAY,MACZtB,MAAO,QACPmB,SAAU,SAEZmG,KAAM,CACJtH,MAAO,UACPmH,QAAS,SACT/F,WAAY,IACZC,WAAY,IACZF,SAAU,QAEZoS,eAAgB,CACdvT,MAAO,QACPwT,aAAc,QAEhBC,kBAAmB,CACjB7S,QAAS,OACTkG,cAAe,MACf5G,WAAY,aACZa,eAAgB,SAChBf,MAAO,SAET0T,eAAgB,CACd1T,MAAO,QACPmB,SAAU,OACVlB,WAAY,UACZkH,QAAS,MACTvH,OAAQ,QACRiH,aAAc,MACd8M,MAAO,OACP,UAAW,CACT7U,eAAgB,YAChBkN,OAAQ,YAGZ4H,aAAc,CACZ5T,MAAO,QACPmB,SAAU,OACVlB,WAAYM,GACZ4G,QAAS,MACTvH,OAAQ,QACRiH,aAAc,MACd8M,MAAO,OACP,UAAW,CACT7U,eAAgB,YAChBkN,OAAQ,YAGZ6H,eAAgB,CACd7T,MAAO,QACPmB,SAAU,OACVlB,WAAY,UACZkH,QAAS,MACTvH,OAAQ,QACRiH,aAAc,MACd8M,MAAO,SAILG,G,kDACJ,WAAYhZ,GAAQ,IAAD,8BACjB,cAAMA,IAWRiZ,KAAO,KAZY,EAanBC,gBAAkB,KAbC,EAiInBC,eAAiB,KA/Hf,EAAKC,gBAAkB,EAAKA,gBAAgB3V,KAArB,gBACvB,EAAK4V,aAAe,EAAKA,aAAa5V,KAAlB,gBACpB,EAAK4S,aAAe,EAAKA,aAAa5S,KAAlB,gBACpB,EAAKgT,aAAe,EAAKA,aAAahT,KAAlB,gBACpB,EAAKoJ,SAAW,EAAKA,SAASpJ,KAAd,gBAChB,EAAKnE,MAAQ,CACXga,QAAQ,GARO,E,4CAenB,WAGE,IAAMC,EAAI7V,KAAK8V,OACTxM,EAAMuM,EAAErM,WAAW,MAEnBuM,EAAUC,MAAMC,KACpB,gNAKEC,EAAUlW,KAAK8V,OAAOxT,MAFV,GAIZ6T,EAAQ,IAAIH,MAAME,GAASE,KAAK,GA4BpCpW,KAAKuV,KAAOc,aA1BZ,WAEE/M,EAAII,UAAY,sBAEhBJ,EAAIgN,SAAS,EAAG,EAAGT,EAAEvT,MAAOuT,EAAEtU,QAE9B+H,EAAII,UAAY,OAEhBJ,EAAIG,KAAO8M,aAEXJ,EAAMK,SAAQ,SAAC1R,EAAM2R,GAEnB,IAAIjD,EAAOuC,EAAQ9D,KAAKyE,MAAMzE,KAAKC,SAAW6D,EAAQhQ,SAItDuD,EAAIK,SAAS6J,EAtBD,GAsBOiD,EAtBP,GAsBsB3R,GAtBtB,GAwBRA,EAAmB+Q,EAAEtU,QAAU0Q,KAAKC,SAAW,OACjDiE,EAAMM,GAAK,GAGbN,EAAMM,UAIoB,M,yBAGhC,WAAe,IAAD,OAORzW,KAAK1D,MAAMwH,MAAMwC,KANJ,CACf,2BACA,2BACA,2BACA,4BAEmCH,SAASnG,KAAK1D,MAAMwH,MAAMwC,OAC7DtG,KAAKwV,gBAAkBmB,YAAW,WAChC,EAAKC,aACJ,S,+BAIP,WAAqB,IAAD,OAClB5W,KAAK1D,MAAM6L,aAAa9C,eAAerF,KAAK1D,MAAM8G,GAAIpD,KAAK1D,MAAMqB,SACjE6F,OAAOqT,SAAS,EAAG,GACnB,IAAMvN,EAAMtJ,KAAK8V,OAAOtM,WAAW,MAC7BvG,EAAMjD,KAAK+J,OAEjB9G,EAAI6T,OAAS,WACXxN,EAAIM,UAAU3G,EAAK,EAAG,EAAG,IAAK,KAC9B,EAAK8T,iB,kCAIT,WACEC,aAAahX,KAAKuV,MAClByB,aAAahX,KAAKwV,mB,sBAGpB,SAASpS,GACPpD,KAAK+W,cACL,IAAIzN,EAAMtJ,KAAK8V,OAAOtM,WAAW,MACjCF,EAAIG,KAAO,eACXH,EAAI5G,UAAY,SAChB4G,EAAII,UAAY,QAChBJ,EAAIK,SAAS,uBAAwB,IAAK,O,0BAG5C,SAAavG,EAAIoQ,GACfxT,KAAK1D,MAAM6L,aAAalB,YACtB7D,EACAoQ,EACAxT,KAAK1D,MAAMP,KAAKgD,WAChBiB,KAAK1D,MAAMwH,MAAMwC,O,0BAIrB,SAAalD,GACXpD,KAAK1D,MAAM6L,aAAaZ,cACtBnE,EACApD,KAAK1D,MAAMP,KAAKgD,WAChBiB,KAAK1D,MAAMwH,MAAMwC,O,0BAIrB,SAAanC,EAAUlF,GACrBe,KAAK1D,MAAM6L,aAAajE,aACtBC,EACAlF,EAAE2O,OAAOqJ,UACTjX,KAAK1D,MAAMqB,W,6BAIf,WACEqC,KAAK1D,MAAM6L,aAAazE,c,oBAK1B,WAAU,IAAD,OACP,EAA2B1D,KAAK1D,MAAxB4D,EAAR,EAAQA,QAAS4D,EAAjB,EAAiBA,MAEXkD,EAAWlD,EAAMkD,UACrB,6BACE,wBAAI3G,MAAO,CAAEmB,MAAOO,KAApB,YACA,kBAAC,GAAD,CAAa6E,QAAS5G,KAAK1D,MAAMwH,MAAMwC,MACtCxC,EAAMkD,SAASnC,KAAI,SAAAgR,GAClB,OACE,kBAAC,GAAD,CACElD,aAAc,EAAKA,aACnBI,aAAc,EAAKA,aACnBH,IAAKiD,EAAEvP,IACPxE,IAAK+T,EAAEvP,IACPiN,SAAUsC,EAAExH,QAAU,EAAK/R,MAAMP,KAAK+C,KAAKuP,MAC3C1N,KAAMkV,EAAElV,KACRyS,KAAMyC,EAAEzC,KACRI,KAAMqC,EAAErC,WAOZ7I,EAAU7G,EAAM6G,SACpB,0BAAMtK,MAAO,CAAEmB,MAAO,UAAtB,WACW,IACT,0BAAMjB,UAAWL,EAAQyK,SAnWd,SAAAA,GAAO,gBACrBsH,KAAKyE,MAAM/L,EAAU,IADA,eACUA,EAAU,GADpB,QAmWiBuM,CAAWpT,EAAM6G,WAIlDwM,EAAYrT,EAAMqT,WACtB,yBAAK5W,UAAWL,EAAQyU,UACtB,0BAAMtU,MAAO,CAAEmB,MAAO,UAAtB,cACc,IACXsC,EAAMqT,UAAUtS,KAAI,SAACC,EAAMoL,GAAP,OACnB,0BAAMpO,IAAKoO,EAAI3P,UAAWL,EAAQ0U,cAC/B9P,QAOLgQ,EACJhR,EAAMsT,UAAYtT,EAAMgR,KACtB,yBAAKvU,UAAWL,EAAQ2U,eACtB,yBAAKtU,UAAWL,EAAQ4U,MAAOhR,EAAMsT,UAAYtT,EAAMgR,OAGzD,GAGEuC,EAASvT,EAAMuT,OACnB,6BACE,wBAAI9W,UAAWL,EAAQ6U,gBAAvB,UACA,yBAAKxU,UAAWL,EAAQ+U,mBACrBnR,EAAMuT,OAAOxS,KAAI,SAACC,EAAMoL,GAAP,OAChB,0BACEpO,IAAKoO,EACL3P,UAAWL,EAAQgV,eACnBzU,QAAS,SAAAxB,GAAC,OAAI,EAAK0W,aAAa,QAAS1W,KAExC6F,QAMT,GAGIgE,EAAOhF,EAAMgF,KACjB,6BACE,wBAAIvI,UAAWL,EAAQ6U,gBAAvB,QACA,yBAAKxU,UAAWL,EAAQ+U,mBACrBnR,EAAMgF,KAAKjE,KAAI,SAACC,EAAMoL,GAAP,OACd,0BACEpO,IAAKoO,EACL3P,UAAWL,EAAQkV,aACnB3U,QAAS,SAAAxB,GAAC,OAAI,EAAK0W,aAAa,OAAQ1W,KAEvC6F,QAMT,GAGIwS,EAAUxT,EAAMwT,QACpB,6BACE,wBAAI/W,UAAWL,EAAQ6U,gBAAvB,WACA,yBAAKxU,UAAWL,EAAQ+U,mBACrBnR,EAAMwT,QAAQzS,KAAI,SAACC,EAAMoL,GAAP,OACjB,0BAAMpO,IAAKoO,EAAI3P,UAAWL,EAAQmV,gBAC/BvQ,QAMT,GAEF,OACE,6BACE,yBAAKvE,UAAWL,EAAQa,MACtB,kBAAC,GAAD,MACA,yBAAKR,UAAWL,EAAQoU,MACtB,uBAAG/T,UAAWL,EAAQsI,OAAQ1E,EAAM0E,OACpC,yBAAKjI,UAAWL,EAAQuI,eACtB,0BAAMlI,UAAWL,EAAQwI,MAAO5E,EAAM4E,MACrC5E,EAAMqG,OACL,0BAAM5J,UAAWL,EAAQ2I,QAAS/E,EAAMqG,QAG3CgN,EACAxM,EACAmK,EACD,kBAAC,GAAD,CAAW9E,QAASgE,GAAelQ,MAErC,yBAAKvD,UAAWL,EAAQoU,MACtB,4BACEhS,MAAO,IACPf,OAAQ,IACR8R,IAAK,SAAAyC,GACH,EAAKA,OAASA,IAGhB,yBACEzC,IAAK,SAAAtJ,GACH,EAAKA,OAASA,GAEhB1G,IAAKS,EAAMiG,QAAU,GACrBzG,IAAKQ,EAAM0E,MACX0B,QAAS,kBAAM,EAAKf,eAGxB,yBAAK5I,UAAWL,EAAQuU,aACtB,kBAAC,IAAD,CAAQlU,UAAWL,EAAQwU,OAAQjU,QAAST,KAAK0V,iBAAjD,gBAID2B,EACAvO,EACAwO,GAEFtQ,Q,GAxRehL,aAkTXgF,mBACbC,IACAC,qBAAWe,IACXtG,aAlBF,cAA6E,IAAD,IAAjD4K,OAAUzC,EAAuC,EAAvCA,MAAOJ,EAAgC,EAAhCA,UAAa3H,EAAmB,EAAnBA,KACvD,MAAO,CACL+H,QACAV,GAHwE,EAAToP,MAGrD+E,OAAOnU,GACjBuO,aAAcjO,EACd3H,WAIJ,SAA4B6B,GAC1B,MAAO,CACLuK,aAAcxG,YAAmBwG,EAAcvK,OAIpCoD,CAObsU,ICxcIkC,G,kDACJ,WAAYlb,GAAQ,IAAD,8BACjB,cAAMA,IASRmb,kBAAoB,CAClBC,mBAAoB,qBACpBC,cAAe,iBAZE,EAenBC,gBAAkB,CAAC,qBAAsB,iBAftB,EAiBnBC,aAAe,SAAAlX,GAAI,OAAI,SAAA6J,GACrB,EAAKlO,MAAM2D,YAAYtB,YAAvB,gBACKgC,EAAO6J,EAAMoD,OAAOxD,SACvB,EAAK9N,MAAMP,QApBI,EAwBnB2R,aAAe,SAAAlD,GACb,EAAKwB,SAAL,gBAAiBxB,EAAMoD,OAAOxK,GAAKoH,EAAMoD,OAAOvC,SAvBhD,EAAKwM,aAAe,EAAKA,aAAa9X,KAAlB,gBACpB,EAAK2N,aAAe,EAAKA,aAAa3N,KAAlB,gBACpB,EAAKf,UAAY,EAAKA,UAAUe,KAAf,gBACjB,EAAKnE,MAAL,eACKU,EAAMP,KAAK+C,KAAKF,aANJ,E,6CA4BnB,WACEoB,KAAK1D,MAAM2D,YAAYtB,YAAYqB,KAAKpE,MAAOoE,KAAK1D,MAAMP,Q,6BAG5D,c,2BAEA,WAAiB,IAAD,OACd,EAA0BiE,KAAK1D,MAAvB4D,EAAR,EAAQA,QAASnE,EAAjB,EAAiBA,KAIjB,OAHc8J,OAAOC,KAAK/J,EAAK+C,KAAKF,aAAa4H,QAAO,SAAA1E,GAAG,OACzD,EAAK8V,gBAAgBzR,SAASrE,MAEnB+C,KAAI,SAAA/C,GACf,OACE,yBAAKvB,UAAWL,EAAQ4X,eAAgBhW,IAAKA,GAC3C,kBAAC,KAAD,CAAavB,UAAWL,EAAQ6X,aAC9B,kBAAC,KAAD,CAAYrJ,QAAS5M,EAAKzB,MAAO,CAAEmB,MAAO,UACvC,EAAKiW,kBAAkB3V,IAE1B,kBAAC,KAAD,CACEsB,GAAItB,EACJuJ,MAAO,EAAKzP,MAAMkG,GAClBsJ,SAAU,EAAKsC,aACfrN,MAAO,CAAEmB,MAAO,kB,oBAQ5B,WACE,MAA0BxB,KAAK1D,MAAvB4D,EAAR,EAAQA,QAASnE,EAAjB,EAAiBA,KACjB,OACE,yBAAKwE,UAAWL,EAAQa,MACtB,yBAAKR,UAAWL,EAAQoU,MACtB,wBAAIjU,MAAO,CAAEmB,MAAO,UAApB,SAAsCzF,EAAK+C,KAAK6B,MAC/CX,KAAKgY,gBACN,kBAAC,IAAD,CAAQzX,UAAWL,EAAQ+X,WAAYxX,QAAST,KAAKhB,WACnD,kBAACoB,EAAA,EAAD,CAAMC,MAAO,CAAEC,eAAgB,OAAQkB,MAAO,SAAW/E,GAAG,KAA5D,e,GAnEUT,aAyFPgF,mBACbC,IACAC,sBAjJa,SAAAC,GAAK,MAAK,CACvBJ,KAAM,CACJqB,QAAS,OACTX,WAAY,QACZF,OAAQ,OACRgB,eAAgB,eAChBD,MAAO,QACPI,UAAW,SACX4F,cAAe,MACf9F,SAAU,QAEZ8R,KAAM,CACJlF,UAAW,OACXmF,SAAU,QACVC,SAAU,MACVlM,cAAe,SACf5G,WAAY,SACZkL,KAAM,WACNrL,OAAQ,SAEV2W,cAAe,GACfC,oBAAqB,CACnB/V,QAAS,cACTG,eAAgB,SAChBD,MAAO,OACPb,WAAY,UACZkH,QAAS,QAEXoP,YAAa,CACX3W,OAAQD,EAAME,QAAQC,MAExB8W,UAAW,CACT5W,MAAO,SAET4I,QAAS,CACP5I,MAAOQ,KAAM,KACb,WAAY,CACV4F,gBAAiB5F,KAAM,OAG3B8V,eAAgB,CACd1V,QAAS,OACTG,eAAgB,SAChBd,WAAY,WAEd4W,IAAK,GACLJ,WAAY,CACV7W,OAAQD,EAAME,QAAQC,KAAO,EAC7BC,OAAQ,OACRC,MAAO,QACPC,WAAYO,KAAM,UAgGpBrG,aAXsB,SAAC,GAAD,MAAe,CAAEI,KAAjB,EAAGA,SAE3B,SAA4B6B,GAC1B,MAAO,CACLqC,YAAa0B,YAAmB1B,EAAarC,OAIlCoD,CAObwW,I,QClKWc,GAAuB,SAACC,EAAOlU,EAAOoC,GACjD,IAAM+R,EAAeC,mBAAmBpU,GACxC,OAAOnH,EAAQ,yBAAD,OACaqb,EADb,YACsBC,EADtB,iBAC2C/R,GACvD,CACE5I,OAAQ,MACRC,KAAM,SAGPf,MAAK,SAAA2b,GAAG,OAAIA,KACZnb,OAAM,SAAAC,GAAK,OAAIA,MAYPmb,GAAuB,SAACtU,EAAOoC,GAC1C,IAAM+R,EAAeC,mBAAmBpU,GACxC,OAAOnH,EAAQ,oCAAD,OACwBsb,EADxB,iBAC6C/R,GACzD,CACE5I,OAAQ,MACRC,KAAM,SAGPf,MAAK,SAAA2b,GAAG,OAAIA,KACZnb,OAAM,SAAAC,GAAK,OAAIA,MAGPob,GAAS,SAACC,EAAUC,GAAX,OAAsBD,IAAaC,GAElD,SAASC,GAAsBC,GACpC,MAAO,CAAErZ,KnB0BsB,oBmB1BSqZ,UAGnC,IAAMC,GAAgB,iBAAO,CAClCtY,KAAMsR,KAAKC,SACRgH,SAAS,IACTC,OAAO,EAAG,GACb9K,MAAM,GAAD,OAAK4D,KAAKC,SACZgH,SAAS,IACTC,OAAO,EAAG,GAFR,YAEclH,KAAKC,SACrBgH,SAAS,IACTC,OAAO,EAAG,GAJR,YAIclH,KAAKC,SACrBgH,SAAS,IACTC,OAAO,EAAG,IACb7K,SAAS,GAAD,OAAK2D,KAAKC,SACfgH,SAAS,IACTC,OAAO,EAAG,MAGFC,GAAa,SAAC5a,EAAOzC,GAChC,OAAO0B,EAAkB,sBAAuB,CAC9CI,OAAQ,SACRC,KAAM,OACNC,QAAS,CACPU,cAAc,UAAD,OAAYD,GACzB,eAAgB,oBAElBR,KAAMC,KAAKC,UAAU,CAAEoQ,SAAUvS,EAAKuS,aAErCvR,MAAK,SAAA2b,GAAG,OAAIA,KACZnb,OAAM,SAAAC,GAAK,OAAIA,MAgBPE,GAAQ,SAAA3B,GACnB,OAAO0B,EAAkB,qBAAsB,CAC7CI,OAAQ,OACRC,KAAM,OACNC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUnC,KAEpBgB,MAAK,SAAAhB,GAAI,OAAIA,KACbwB,OAAM,SAAAC,GAAK,OAAIA,MAGPc,GAAW,SAAAvC,GACtB,OAAO0B,EAAkB,wBAAyB,CAChDI,OAAQ,OACRC,KAAM,OACNC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUnC,KAEpBgB,MAAK,SAAAhB,GAAI,OAAIA,KACbwB,OAAM,SAAAC,GAAK,OAAIA,MAGb,SAAS6b,GAASjW,GACvB,OAAOlG,EAAQ,qBAAD,OAAsBkG,GAAM,CACxCvF,OAAQ,MACRC,KAAM,SAELf,MAAK,SAAA2b,GAAG,OAAIA,KACZnb,OAAM,SAAAC,GAAK,OAAIA,KAGb,SAASmJ,GAAcC,EAASC,EAASrI,GAC9C,OAAOf,EAAkB,yBAA0B,CACjDI,OAAQ,OACRC,KAAM,OACNC,QAAS,CACPU,cAAc,UAAD,OAAYD,GACzB,eAAgB,oBAElBR,KAAMC,KAAKC,UAAU,CACnB4I,SAAUF,EACVC,cAGD9J,MAAK,SAAAD,GAAI,OAAIA,KACbS,OAAM,SAAA0B,GAAC,OAAIA,KAGT,SAASgI,GAAYC,EAAWC,EAAQ3I,EAAOsI,GACpD,OAAOrJ,EAAkB,yBAA0B,CACjDI,OAAQ,MACRC,KAAM,OACNC,QAAS,CACPU,cAAc,UAAD,OAAYD,GACzB,eAAgB,oBAElBR,KAAMC,KAAKC,UAAU,CACnBkJ,WAAYF,EACZG,gBAAiBF,EACjBL,eAGD/J,MAAK,SAAAD,GAAI,OAAIA,KACbS,OAAM,SAAA0B,GAAC,OAAIA,KAGT,SAASsI,GAAcH,EAAY5I,EAAOsI,GAC/C,OAAOrJ,EAAkB,yBAA0B,CACjDI,OAAQ,SACRC,KAAM,OACNC,QAAS,CACPU,cAAc,UAAD,OAAYD,GACzB,eAAgB,oBAElBR,KAAMC,KAAKC,UAAU,CACnBkJ,aACAN,eAGD/J,MAAK,SAAAD,GAAI,OAAIA,KACbS,OAAM,SAAA0B,GAAC,OAAIA,K,2yMCvKT,SAASqa,KACd,gDAAO,WAAM1b,GAAN,uFACLA,EAASmb,GAAsB,eAD1B,SAEgBQ,KAFhB,UAED5c,EAFC,OAGD6c,EAAmBZ,GAAO,EAAG/S,OAAOC,KAAKnJ,EAASiJ,SAASG,QAC3D0T,EAAkBb,GAAO,GAAIjc,EAAS4J,OAAOR,QAC7C2T,EAAmBd,GAAO,MAAOjc,EAASoP,eAC1C4N,EAAgBf,GAAO,EAAGjc,EAAS8J,OAErC,CACE+S,EACAC,EACAC,EACAC,GACAC,OAAM,SAAA9U,GAAI,OAAIA,KAbb,0CAeIlH,EAASic,OAfb,iCAiBIjc,EACLkc,GACE,IAAIva,MAAM,4CAnBX,4CAAP,sDA0BK,SAASsa,KACd,MAAO,CAAEla,KpBuCT,+BoBpCK,SAASma,GAAwBtc,GACtC,MAAO,CAAEmC,KpBqCT,4BoBrCgDnC,SAOlD,IAAM+b,GAAY,WAChB,OAAOrc,EAAQ,kBAAmB,CAChCW,OAAQ,MACRC,KAAM,SAELf,MAAK,SAAA2b,GAAG,OAAIA,KACZnb,OAAM,SAAAC,GAAK,OAAIA,M,2yMC7Cb,SAASuc,KACd,gDAAO,WAAMnc,GAAN,4FAEHA,EAASmb,GAAsB,eAF5B,SAGkBiB,KAHlB,UAGCrd,EAHD,OAICsd,EAAkBrB,GAAO,IAAKjc,EAASuI,OAAOa,QAC9CmU,EAAgBtB,GAClB,IACAjc,EAASuI,OAAOsB,QAAO,SAAA1B,GAAI,OAAiC,IAA7Be,OAAOC,KAAKhB,GAAMiB,UAAcA,SAE7D,CAACkU,EAAiBC,GAAeN,OAAM,SAAA9U,GAAI,OAAIA,KAThD,0CAUMlH,EAASuc,OAVf,iCAYMvc,EACLwc,GACE,IAAI7a,MACF,sEAfL,mFAqBI3B,EACLwc,GACE,IAAI7a,MACF,sEAxBH,0DAAP,sDAgCK,SAAS4a,KACd,MAAO,CAAExa,KrBuCT,+BqBpCK,SAASya,GAAwB5c,GACtC,MAAO,CAAEmC,KrBqCT,4BqBrCgDnC,SAOlD,IAAMwc,GAAkB,WACtB,OAAO9c,EAAQ,+CAAgD,CAC7DW,OAAQ,MACRC,KAAM,SAELf,MAAK,SAAA2b,GAAG,OAAIA,KACZnb,OAAM,SAAAC,GAAK,OAAIA,M,2yMCnDb,SAAS6c,KACd,gDAAO,WAAMzc,GAAN,mFACLA,EAASmb,GAAsB,oBAD1B,kBAGoBuB,KAHpB,cAGCC,EAHD,gBAIoBC,KAJpB,cAICC,EAJD,iBAKqBC,KALrB,WAKCC,EALD,QAMC,CAACJ,EAAYE,EAAYE,GAAaf,OAAM,SAAA9U,GAAI,OAAIA,KANrD,0CAOMlH,EAASgd,OAPf,mFAUIhd,EAASid,GAA6B,EAAD,MAVzC,0DAAP,sDAeK,SAASD,KACd,MAAO,CAAEjb,KtB+DT,sCsB5DK,SAASkb,GAA6Brd,GAC3C,MAAO,CAAEmC,KtB6DT,mCsB7DuDnC,SAOzD,IAAMsd,GAAe,WACnB,IAAMC,EAAetC,mBAAmB,iBACxC,OAAOvb,EAAQ,8BAAD,OAA+B6d,GAAgB,CAC3Dld,OAAQ,MACRC,KAAM,SAELf,MAAK,SAAA2b,GAAG,OAAIA,KACZnb,OAAM,SAAAC,GAAK,OAAIA,MAGdwd,GAAe,WACnB,IAAMC,EAAY1W,UAAU,aAC5B,OAAOrH,EAAQ,8BAAD,OAA+B+d,GAAa,CACxDpd,OAAQ,MACRC,KAAM,SAELf,MAAK,SAAA2b,GAAG,OAAIA,KACZnb,OAAM,SAAAC,GAAK,OAAIA,MAGd0d,GAAgB,WACpB,IAAMC,EAAU5W,UAAU,cAC1B,OAAOrH,EAAQ,+BAAD,OAAgCie,GAAW,CACvDtd,OAAQ,MACRC,KAAM,SAELf,MAAK,SAAA2b,GAAG,OAAIA,KACZnb,OAAM,SAAAC,GAAK,OAAIA,MAGd8c,GAAQ,yCAAG,wHAEQQ,KAFR,UAETne,EAFS,OAGTsd,EAAkBrB,GAAO,EAAGjc,EAAS4J,OAAOR,QAC5CjC,EAAQnH,EAAS4J,OAAO6U,MACxBrS,EAAyB,UAAlBjF,EAAMiF,KAAK3F,GAClBkU,EAAmC,IAAzBxT,EAAMwT,QAAQvR,OACxByC,EAAwB,8CAAhB1E,EAAM0E,QACdyR,GAAmBlR,GAAQuO,GAAW9O,GAR7B,2CASJ,GATI,cAWL,IAAIjJ,MACR,8DAZS,gEAgBP,IAAIA,MACR,8DAjBW,0DAAH,qDAsBRib,GAAQ,yCAAG,wHAEQQ,KAFR,UAETre,EAFS,OAGTsd,EAAkBrB,GAAO,EAAGjc,EAAS4J,OAAOR,QAC5CjC,EAAQnH,EAAS4J,OAAO6U,MACxBrS,EAAyB,UAAlBjF,EAAMiF,KAAK3F,GAClBkU,EAAmC,IAAzBxT,EAAMwT,QAAQvR,OACxByC,EAAwB,0BAAhB1E,EAAM0E,QACdyR,GAAmBlR,GAAQuO,GAAW9O,GAR7B,2CASJ,GATI,cAWL,IAAIjJ,MACR,8DAZS,gEAgBP,IAAIA,MACR,8DAjBW,0DAAH,qDAsBRmb,GAAa,yCAAG,wHAEGQ,KAFH,UAEdve,EAFc,OAGdsd,EAAkBrB,GAAO,EAAGjc,EAAS4J,OAAOR,QAC5CjC,EAAQnH,EAAS4J,OAAO6U,MACxBrS,EAAyB,UAAlBjF,EAAMiF,KAAK3F,GAClBkU,EAAmC,IAAzBxT,EAAMwT,QAAQvR,OACxByC,EAAwB,oCAAhB1E,EAAM0E,QACdyR,GAAmBlR,GAAQuO,GAAW9O,GARxB,2CAST,GATS,cAWV,IAAIjJ,MACR,+DAZc,gEAgBZ,IAAIA,MACR,+DAjBgB,0DAAH,qD,2yMCnGZ,SAAS8b,KACd,gDAAO,WAAMzd,GAAN,yFACLA,EAASmb,GAAsB,WAD1B,kBAGqB+B,KAHrB,cAGCQ,EAHD,gBAIqBC,KAJrB,cAICC,EAJD,iBAKsBN,KALtB,eAKCO,EALD,iBAMsBC,KANtB,eAMCC,EAND,iBAOqBX,KAPrB,eAOCY,EAPD,iBAQqBC,KARrB,WAQCC,EARD,QAUD,CACER,EACAE,EACAC,EACAE,EACAC,EACAE,GACAlC,OAAM,SAAA9U,GAAI,OAAIA,KAjBf,0CAmBMlH,EAASme,OAnBf,mFAsBIne,EAASoe,GAAoB,EAAD,MAtBhC,0DAAP,sDA2BK,SAASD,KACd,MAAO,CAAEpc,KvBqD4B,2BuBlDhC,SAASqc,GAAoBxe,GAClC,MAAO,CAAEmC,KvBkD0B,wBuBlDSnC,SAO9C,IAAMsd,GAAY,yCAAG,wHAEIxC,GAAqB,OAAQ,iBAAkB,GAFnD,UAEb3b,EAFa,OAGbsd,EAAkBrB,GAAO,GAAIjc,EAAS4J,OAAOR,QAC7CjC,EAAQnH,EAAS4J,OAAO6U,MACxBrS,EAAyB,SAAlBjF,EAAMiF,KAAK3F,GAClBkU,EAAmC,IAAzBxT,EAAMwT,QAAQvR,OACxByC,EAAwB,0BAAhB1E,EAAM0E,QACdyR,GAAmBlR,GAAQuO,GAAW9O,GARzB,2CASR,GATQ,cAWT,IAAIjJ,MAAM,2DAXD,gEAcX,IAAIA,MAAM,2DAdC,0DAAH,qDAkBZgc,GAAoB,yCAAG,wHAEJjD,GAAqB,OAAQ,iBAAkB,GAF3C,UAErB3b,EAFqB,OAGrBsd,EAAkBrB,GAAO,GAAIjc,EAAS4J,OAAOR,QAC7CjC,EAAQnH,EAAS4J,OAAO6U,MACxBrS,EAAyB,SAAlBjF,EAAMiF,KAAK3F,GAClBkU,EAAmC,IAAzBxT,EAAMwT,QAAQvR,OACxByC,EAAwB,WAAhB1E,EAAM0E,QACdyR,GAAmBlR,GAAQuO,GAAW9O,GARjB,2CAShB,GATgB,cAWjB,IAAIjJ,MAAM,2DAXO,gEAcnB,IAAIA,MAAM,2DAdS,0DAAH,qDAkBpB2b,GAAa,yCAAG,wHAEG5C,GAAqB,QAAS,SAAU,GAF3C,UAEd3b,EAFc,OAGdsd,EAAkBrB,GAAO,GAAIjc,EAAS4J,OAAOR,QAC7CjC,EAAQnH,EAAS4J,OAAO6U,MACxBrS,EAAyB,SAAlBjF,EAAMiF,KAAK3F,GAClBkU,EAAmC,IAAzBxT,EAAMwT,QAAQvR,OACxByC,EAAmC,QAA3B1E,EAAM0E,MAAM0Q,aACpBe,GAAmBlR,GAAQuO,GAAW9O,GARxB,2CAST,GATS,cAWV,IAAIjJ,MACR,4DAZc,gEAgBZ,IAAIA,MAAM,4DAhBE,0DAAH,qDAoBbmc,GAAkB,yCAAG,wHAEFpD,GAAqB,QAAS,SAAU,GAFtC,UAEnB3b,EAFmB,OAGnBsd,EAAkBrB,GAAO,GAAIjc,EAAS4J,OAAOR,QAC7CjC,EAAQnH,EAAS4J,OAAO6U,MACxBrS,EAAyB,UAAlBjF,EAAMiF,KAAK3F,GAClBkU,EAAmC,IAAzBxT,EAAMwT,QAAQvR,OACxByC,EAAmC,YAA3B1E,EAAM0E,MAAM0Q,aACpBe,GAAmBlR,GAAQuO,GAAW9O,GARnB,2CASd,GATc,cAWf,IAAIjJ,MACR,4DAZmB,gEAgBjB,IAAIA,MAAM,4DAhBO,0DAAH,qDAoBlByb,GAAY,yCAAG,wHAEI1C,GAAqB,OAAQ,QAAS,GAF1C,UAEb3b,EAFa,OAGbsd,EAAkBrB,GAAO,GAAIjc,EAAS4J,OAAOR,QAC7CjC,EAAQnH,EAAS4J,OAAO6U,MACxBrS,EAAyB,UAAlBjF,EAAMiF,KAAK3F,GAClBkU,EAAmC,IAAzBxT,EAAMwT,QAAQvR,OACxByC,EAAmC,UAA3B1E,EAAM0E,MAAM0Q,aACpBe,GAAmBlR,GAAQuO,GAAW9O,GARzB,2CASR,GATQ,cAWT,IAAIjJ,MAAM,2DAXD,gEAcX,IAAIA,MAAM,2DAdC,0DAAH,qDAkBZsc,GAAiB,yCAAG,wHAEDvD,GAAqB,OAAQ,QAAS,GAFrC,UAElB3b,EAFkB,OAGlBsd,EAAkBrB,GAAO,GAAIjc,EAAS4J,OAAOR,QAC7CjC,EAAQnH,EAAS4J,OAAO6U,MACxBrS,EAAyB,SAAlBjF,EAAMiF,KAAK3F,GAClBkU,EAAmC,IAAzBxT,EAAMwT,QAAQvR,OACxByC,EAAmC,YAA3B1E,EAAM0E,MAAM0Q,aACpBe,GAAmBlR,GAAQuO,GAAW9O,GARpB,2CASb,GATa,cAWd,IAAIjJ,MAAM,2DAXI,gEAchB,IAAIA,MAAM,2DAdM,0DAAH,qD,2yMCtIhB,SAAS0c,KACd,gDAAO,WAAMre,GAAN,iFACLA,EAASmb,GAAsB,kBAD1B,kBAGqBmD,KAHrB,cAGCC,EAHD,gBAI2BC,KAJ3B,UAICC,EAJD,QAKC,CAACF,EAAaE,GAAmBzC,OAAM,SAAA9U,GAAI,OAAIA,KALhD,0CAMMlH,EAAS0e,OANf,mFASI1e,EAAS2e,GAA2B,EAAD,MATvC,0DAAP,sDAcK,SAASD,KACd,MAAO,CAAE3c,KxBuET,mCwBpEK,SAAS4c,GAA2B/e,GACzC,MAAO,CAAEmC,KxBqET,gCwBrEoDnC,SAOtD,IAAM0e,GAAW,yCAAG,0HAEKvD,GAAqB,oBAAqB,GAF/C,UAEZhc,EAFY,OAGZsd,EAAkBrB,GAAO,GAAIjc,EAAS4J,OAAOR,QAHjC,EAIUpJ,EAAS+J,OAA7BmC,EAJU,EAIVA,OAAQ8B,EAJE,EAIFA,QACV6R,EAAkB5D,GAAO,EAAG/P,EAAO9C,QACnC0W,EAAmB7D,GAAO,EAAGjO,EAAQ5E,UACrCkU,GAAmBuC,GAAmBC,GAP1B,2CAQP,GARO,cAUR,IAAIld,MACR,wEAXY,gEAeV,IAAIA,MACR,wEAhBc,0DAAH,qDAqBX6c,GAAiB,yCAAG,0HAEDzD,GAAqB,iBAAkB,GAFtC,UAElBhc,EAFkB,OAGlBsd,EAAkBrB,GAAO,GAAIjc,EAAS4J,OAAOR,QAH3B,EAIIpJ,EAAS+J,OAA7BmC,EAJgB,EAIhBA,OAAQ8B,EAJQ,EAIRA,QACV6R,EAAkB5D,GAAO,EAAG/P,EAAO9C,QACnC0W,EAAmB7D,GAAO,EAAGjO,EAAQ5E,UACrCkU,GAAmBuC,GAAmBC,GAPpB,2CAQb,GARa,cAUd,IAAIld,MACR,oFAXkB,gEAehB,IAAIA,MACR,oFAhBoB,0DAAH,qD,2yMC7ChB,SAASmd,KACd,IAAIC,EAAW1D,KACf,gDAAO,WAAMrb,GAAN,yFACLA,EAASmb,GAAsB,mBAD1B,kBAG4Bza,GAASqe,GAHrC,WAGGC,EAHH,QAImB3f,GAJnB,sBAKK,IAAIsC,MAAM,gCALf,uBAOqCjB,GAASqe,GAP9C,WAOGE,EAPH,QAQ4B5f,IAC7BmC,QAAQC,IAAR,sHAMEwd,EAA0B5f,GAf3B,uBAgBK,IAAIsC,MAAM,0CAhBf,eAkBGR,EAAe6d,EAAiB9f,KAAhCiC,WAlBH,UN+DAtB,EAAkB,sBAAuB,CAC9CI,OAAQ,OACRC,KAAM,OACNC,QAAS,CACPU,cAAc,UAAD,OMhDqBM,GNiDlC,eAAgB,sBAGjBhC,MAAK,SAAA2b,GAAG,OAAIA,KACZnb,OAAM,SAAAC,GAAK,OAAIA,KMxEX,kBAoBiBP,GApBjB,uBAqBK,IAAIsC,MAAM,8BArBf,eAuBK8O,EAAoBsO,EAApBtO,MAAOC,EAAaqO,EAAbrO,SAvBZ,UAwByB5Q,GAAM,CAAE2Q,QAAOC,aAxBxC,YAwBGwO,EAxBH,QAyBgB7f,GAzBhB,uBA0BK,IAAIsC,MAAM,6BA1Bf,eA4BHR,EAAa+d,EAAchgB,KAAKiC,WA5B7B,UA6BwBqa,GAAWra,EAAY4d,GA7B/C,kBA8BiB1f,GA9BjB,uBA+BK,IAAIsC,MAAM,8BA/Bf,iCAiCI3B,EAASmf,OAjCb,2DAmCInf,EAASof,GAA4B,EAAD,MAnCxC,0DAAP,sDAwCK,SAASD,KACd,MAAO,CAAEpd,KzB+CT,oCyB5CK,SAASqd,GAA4Bxf,GAC1C,MAAO,CAAEmC,KzB6CT,iCyB7CqDnC,S,2yMC/ChD,SAASyf,KACd,IAAIN,EAAW1D,KACf,gDAAO,WAAMrb,GAAN,uFACLA,EAASmb,GAAsB,oBAD1B,kBAG4Bza,GAASqe,GAHrC,WAGGC,EAHH,QAImB3f,GAJnB,sBAKK,IAAIsC,MAAM,gCALf,cAOKR,EAAe6d,EAAiB9f,KAAhCiC,WACR4d,EAAS/d,YAAc,CACrBse,eAAgB,aAChBC,gBAAiB,MAVhB,UAasBC,GAAkBre,EAAY4d,GAbpD,kBAce1f,GAdf,uBAeK,IAAIsC,MAAM,0CAff,eAkBK8O,EAAoBsO,EAApBtO,MAAOC,EAAaqO,EAAbrO,SAlBZ,UAoBuB5Q,GAAM,CAAE2Q,QAAOC,aApBtC,YAoBCwO,EApBD,QAqBgB7f,GArBhB,uBAsBK,IAAIsC,MAAM,iEAtBf,gBA0BsB8d,IAAvBP,EAAchgB,WACcugB,IAA5BP,EAAchgB,KAAKgC,KA3BlB,uBA4BK,IAAIS,MAAM,yCA5Bf,WA+BDtB,KAAKC,UAAU4e,EAAchgB,KAAKgC,KAAKF,eACvCX,KAAKC,UAAUye,EAAS/d,aAhCvB,uBAkCK,IAAIW,MAAM,uCAlCf,yBAqCwB6Z,GAAWra,EAAY4d,GArC/C,kBAsCiB1f,GAtCjB,uBAuCK,IAAIsC,MAAM,8BAvCf,iCAyCI3B,EAAS0f,OAzCb,2DA2CI1f,EAAS2f,GAA6B,EAAD,MA3CzC,0DAAP,sDAgDK,SAASD,KACd,MAAO,CAAE3d,K1B8CT,qC0B3CK,SAAS4d,GAA6B/f,GAC3C,MAAO,CAAEmC,K1B4CT,kC0B5CsDnC,SAGxD,IAAM4f,GAAoB,SAAC5e,EAAOzC,GAChC,OAAO0B,EAAkB,kCAAmC,CAC1DI,OAAQ,MACRC,KAAM,OACNC,QAAS,CACP,eAAgB,mBAChBU,cAAc,UAAD,OAAYD,IAE3BR,KAAMC,KAAKC,UAAU,CAAEU,YAAa7C,EAAK6C,gBAExC7B,MAAK,SAAAhB,GAAI,OAAIA,KACbwB,OAAM,SAAAC,GAAK,OAAIA,M,2yMCzEb,SAASggB,KACd,gDAAO,WAAM5f,GAAN,wFAEHA,EAASmb,GAAsB,gBAF5B,SAGkBM,GANV,4BAGR,UAGC1c,EAHD,QAImBic,GAAOjc,EAASmH,MAAMkD,SAASjB,OAAQ,KAJ1D,0CAMMnI,EAAS6f,OANf,iCAQM7f,EACL8f,GACE,IAAIne,MAAM,4CAVb,mFAeI3B,EACL8f,GACE,IAAIne,MAAM,4CAjBX,0DAAP,sDAwBK,SAASke,KACd,MAAO,CAAE9d,K3BiFT,iC2B9EK,SAAS+d,GAAyBlgB,GACvC,MAAO,CAAEmC,K3B+ET,8B2B/EkDnC,S,2yMCtB7C,SAASmgB,KACd,gDAAO,WAAM/f,GAAN,kHAEHA,EAASmb,GAAsB,yBAGzB6E,EAAe3E,KALlB,SAMiC3a,GAASsf,GAN1C,cAMGC,EANH,OAOGC,EAAiBD,EAAsB/gB,KAAKiC,WAG5Cgf,EAAY9E,KAVf,UAWiC3a,GAASyf,GAX1C,eAWGC,EAXH,OAYGC,EAAiBD,EAAsBlhB,KAAKiC,WAZ/C,UAe2B4H,GAjBnB,2BAmBT,SACAmX,GAlBC,YAeGI,EAfH,QAoBkBjhB,GApBlB,uBAqBK,IAAIsC,MAAM,4BArBf,QAuBD4e,GAAQ,EAvBP,kBA6BDC,EAAiBF,EAAgBphB,KAAKkK,SAAS,GAAGV,IA7BjD,yDA+BK,IAAI/G,MAAM,qCA/Bf,yBAmCuB0H,GACxBmX,EACA,iBACAH,EAxCS,4BAER,mBA0CahhB,GA1Cb,uBA2CK,IAAIsC,MAAM,kDA3Cf,QA6CD8e,GAAO,EA7CN,eAiDGC,EAAiB,eAjDpB,UAkDsBrX,GACvBmX,EACAE,EACAR,EAvDS,4BAER,YAwDmB,IAxDnB,OAwDY7gB,GAxDZ,uBAyDK,IAAIsC,MAAM,4BAzDf,QA2DDgf,GAAQ,EA3DP,yBA8DwBlF,GAhEhB,4BAER,QA8DGmF,EA9DH,iBAiEDC,EAAiBD,EAAa1a,MAAMkD,SAAS,GAjE5C,yDAmEK,IAAIzH,MAAM,qCAnEf,WAqECkf,EAAejL,OAAS8K,EArEzB,uBAsEK,IAAI/e,MAAM,yCAtEf,WAwEHgI,GAAc6W,EAAgBN,EA1EnB,8BA2EPK,GAASE,GAAQE,GAzElB,wBA0EDnF,GAAW0E,EAAgBF,GAC3BxE,GAAW6E,EAAgBF,GA3E1B,kBA4EMngB,EAAS8gB,OA5Ef,iCA8EM9gB,EACL+gB,GACE,IAAIpf,MAAM,4CAhFb,mFAqFI3B,EAAS+gB,GAAkC,IAAIpf,MAAM,KAAE0E,YArF3D,0EAAP,sDA0FK,SAASya,KACd,MAAO,CAAE/e,K5BcT,2C4BXK,SAASgf,GAAkCnhB,GAChD,MAAO,CAAEmC,K5BYT,wC4BZ4DnC,S,2yMCjGvD,SAASohB,KACd,gDAAO,WAAMhhB,GAAN,kHAEHA,EAASmb,GAAsB,mBAGzB6E,EAAe3E,KALlB,SAMiC3a,GAASsf,GAN1C,cAMGC,EANH,OAOGC,EAAiBD,EAAsB/gB,KAAKiC,WAG5Cgf,EAAY9E,KAVf,UAWiC3a,GAASyf,GAX1C,eAWGC,EAXH,OAYGC,EAAiBD,EAAsBlhB,KAAKiC,WAZ/C,UAe2B4H,GAjBnB,2BAmBT,SACAmX,GAlBC,YAeGI,EAfH,QAoBkBjhB,GApBlB,uBAqBK,IAAIsC,MAAM,4BArBf,QAuBD4e,GAAQ,EAvBP,kBA6BDC,EAAiBF,EAAgBphB,KAAKkK,SAAS,GAAGV,IA7BjD,yDA+BK,IAAI/G,MAAM,qCA/Bf,yBAmCuBgI,GACxB6W,EACAH,EAvCS,4BAER,WAmCGY,EAnCH,kBA4CGA,EAAY5hB,GA5Cf,oBA6CwB4hB,EAAY/hB,KAAKkK,SAAS,GAAGV,MAGvB8X,EAhD9B,uBAiDS,IAAI7e,MAAM,kDAjDnB,QAoDD8e,GAAO,EApDN,uFAyDG9W,GAAc6W,EAAgBN,EA3DzB,4BAER,yBA2DwBzE,GA7DhB,4BAER,QA2DGmF,EA3DH,iBA8DDM,EAAeN,EAAa1a,MAAMkD,SAAS,GAAGV,IA9D7C,yDAgEK,IAAI/G,MAAM,qCAhEf,WAqECuf,IAAiBV,EArElB,uBAsEK,IAAI7e,MAAM,2CAtEf,QAwEDgf,GAAQ,EAxEP,aA2ECJ,GAASE,GAAQE,GA3ElB,wBA4EDnF,GAAW0E,EAAgBF,GAC3BxE,GAAW6E,EAAgBF,GA7E1B,kBA8EMngB,EAASmhB,OA9Ef,iCAgFMnhB,EACLohB,GACE,IAAIzf,MAAM,4CAlFb,mFAuFI3B,EAASohB,GAA4B,IAAIzf,MAAM,KAAE0E,YAvFrD,kFAAP,sDA4FK,SAAS8a,KACd,MAAO,CAAEpf,K7BmBT,oC6BhBK,SAASqf,GAA4BxhB,GAC1C,MAAO,CAAEmC,K7BiBT,iC6BjBqDnC,S,2yMCnGhD,SAASyhB,KACd,gDAAO,WAAMrhB,GAAN,gGAEHA,EAASmb,GAAsB,eAC3B4D,EAAW1D,KAHZ,SAI4B3a,GAASqe,GAJrC,cAIGC,EAJH,OAKK7d,EAAe6d,EAAf7d,WALL,SAM4BmgB,GAVnC,ipBAIO,cAMGC,EANH,iBAO6BD,GAAcngB,GAP3C,WAOGqgB,EAPH,QAQCD,EAAiBliB,GARlB,uBASK,IAAIsC,MAAM,+CATf,WAYA6f,EAAkBniB,IACsB,KAAzCmiB,EAAkBtiB,KAAKuiB,OAAOtZ,OAb7B,uBAeK,IAAIxG,MAAM,gDAff,eAiBH6Z,GAAWra,EAAY4d,GAjBpB,kBAkBI/e,EAAS0hB,OAlBb,2DAoBI1hB,EAAS2hB,GAAwB,IAAIhgB,MAAM,KAAE0E,YApBjD,0DAAP,sDAyBK,SAASqb,KACd,MAAO,CAAE3f,K9B6FT,gC8B1FK,SAAS4f,GAAwB/hB,GACtC,MAAO,CAAEmC,K9B2FT,6B8B3FiDnC,SAOnD,IAAM0hB,GAAgB,SAAA1gB,GACpB,OAAOf,EAAkB,8BAA+B,CACtDI,OAAQ,MACRC,KAAM,OACNC,QAAS,CACPU,cAAc,UAAD,OAAYD,GACzB,eAAgB,sBAGjBzB,MAAK,SAAA2b,GAAG,OAAIA,KACZnb,OAAM,SAAAC,GAAK,OAAIA,MAGdc,GAAW,SAAAvC,GACf,OAAOmB,EAAQ,0BAA2B,CACxCW,OAAQ,OACRC,KAAM,OACNC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUnC,KAEpBgB,MAAK,SAAAhB,GAAI,OAAIA,KACbwB,OAAM,SAAAC,GAAK,OAAIA,M,2yMCrEb,SAASgiB,KACd,gDAAO,WAAM5hB,GAAN,wFAEHA,EAASmb,GAAsB,cAF5B,SAGoBM,GALd,4BAEN,UAGG1c,EAHH,SAIa,CAAC,8BAA+B,iBAAkB,QACpD8iB,QAAQ9iB,EAAS+iB,eAAiB,GAL7C,0CAMM9hB,EAAS+hB,OANf,iCAQM/hB,EACLgiB,GACE,IAAIrgB,MACF,+DAXL,mFAiBI3B,EACLgiB,GACE,IAAIrgB,MAAM,+DAnBX,0DAAP,sDA0BK,SAASogB,KACd,MAAO,CAAEhgB,K/B0GT,8B+BvGK,SAASigB,GAAuBpiB,GACrC,MAAO,CAAEmC,K/BuG6B,2B+BvGSnC,S,2yMChC1C,SAASqiB,KACd,gDAAO,WAAMjiB,GAAN,+EACLA,EAASmb,GAAsB,sBAD1B,SAEgB+G,KAFhB,UAEDnjB,EAFC,QAID,CADgBic,GAAO,GAAIjc,EAASojB,YACpBnG,OAAM,SAAA9U,GAAI,OAAIA,KAJ7B,yCAKIlH,EAASoiB,OALb,gCAOIpiB,EACLqiB,GACE,IAAI1gB,MAAM,4CATX,4CAAP,sDAgBK,SAASygB,KACd,MAAO,CAAErgB,KhC0HT,uCgCvHK,SAASsgB,GAA+BziB,GAC7C,MAAO,CAAEmC,KhCwHT,oCgCxHwDnC,SAO1D,IAAMsiB,GAAc,WAClB,OAAO5iB,EAAQ,gCAAiC,CAC9CW,OAAQ,MACRC,KAAM,SAELf,MAAK,SAAA2b,GAAG,OAAIA,KACZnb,OAAM,SAAAC,GAAK,OAAIA,M,2yMCnCb,SAAS0iB,KACd,gDAAO,WAAMtiB,GAAN,+EACLA,EAASmb,GAAsB,aAD1B,SAEgB+G,KAFhB,UAEDnjB,EAFC,QAGeic,GAAO,KAAMjc,EAASwjB,UAHrC,yCAKIviB,EAASwiB,OALb,gCAOIxiB,EACLyiB,GACE,IAAI9gB,MAAM,4CATX,4CAAP,sDAgBK,SAAS6gB,KACd,MAAO,CAAEzgB,KjCgIT,6BiC7HK,SAAS0gB,GAAsB7iB,GACpC,MAAO,CAAEmC,KjC6H4B,0BiC7HSnC,SAOhD,IAAMsiB,GAAc,WAClB,OAAO5iB,EAAQ,gCAAiC,CAC9CW,OAAQ,MACRC,KAAM,SAELf,MAAK,SAAA2b,GAAG,OAAIA,KACZnb,OAAM,SAAAC,GAAK,OAAIA,M,2yMCnCb,SAAS8iB,KACd,gDAAO,WAAM1iB,GAAN,yEACLA,EAASmb,GAAsB,kBAD1B,kBAGkBwH,KAHlB,UAIoB,cAJpB,OAIU/iB,MAJV,sBAKK,IAAI+B,MALT,gCAOI3B,EAAS4iB,OAPb,2DASI5iB,EACL6iB,GACE,IAAIlhB,MACF,iFAZH,0DAAP,sDAoBK,SAASihB,KACd,MAAO,CAAE7gB,KlCiIT,mCkC9HK,SAAS8gB,GAA2BjjB,GACzC,MAAO,CAAEmC,KlC+HT,gCkC/HoDnC,SAOtD,IAAM+iB,GAAsB,WAC1B,OAAOrjB,EAAQ,2BAA4B,CACzCW,OAAQ,MACRC,KAAM,SAELf,MAAK,SAAA2b,GAAG,OAAIA,KACZnb,OAAM,SAAAC,GAAK,OAAIA,M,2yMCvCb,SAASkjB,KACd,gDAAO,WAAM9iB,GAAN,+EACLA,EAASmb,GAAsB,SAD1B,SAEgB4H,KAFhB,UAEDhkB,EAFC,SAGiC,cAAlBA,EAASikB,MAHxB,yCAKIhjB,EAASijB,OALb,gCAOIjjB,EACLkjB,GACE,IAAIvhB,MACF,iEAVH,4CAAP,sDAkBK,SAASshB,KACd,MAAO,CAAElhB,KnCwI0B,yBmCrI9B,SAASmhB,GAAkBtjB,GAChC,MAAO,CAAEmC,KnCqIwB,sBmCrISnC,SAO5C,IAAMmjB,GAAc,WAClB,OAAOzjB,EAAQ,gCAAiC,CAC9CW,OAAQ,MACRC,KAAM,SAELf,MAAK,SAAA2b,GAAG,OAAIA,KACZnb,OAAM,SAAAC,GAAK,OAAIA,M,oDCjCdujB,GAAWnN,KAAI,KACfhU,GAAYC,IAAK,KAmDjBmhB,G,4MACJplB,MAAQ,CACNqlB,iBAAiB,G,qDAGnB,WACEjhB,KAAKgM,SAAS,CAACiV,iBAAiB,IAChCjhB,KAAK1D,MAAM4kB,gBAAgBlhB,KAAK1D,MAAM6kB,c,oBAGxC,WAAU,IAAD,OACD7kB,EAAQ0D,KAAK1D,MACnB,IAAK0D,KAAKpE,MAAMqlB,gBACd,OACE,yBAAK1gB,UAAWjE,EAAM4D,QAAQkhB,cAAe3gB,QAAS,kBAAM,EAAKygB,oBAC/D,0BAAM3gB,UAAWjE,EAAM4D,QAAQmhB,aAAc/kB,EAAM+kB,aACnD,yBAAK9gB,UAAWjE,EAAM4D,QAAQohB,yBAA9B,8BAMJ,OAAQhlB,EAAMilB,kBACZ,KAAK,EACH,OACE,yBAAKhhB,UAAWjE,EAAM4D,QAAQkhB,eAC5B,0BAAM7gB,UAAWjE,EAAM4D,QAAQmhB,aAC5B/kB,EAAM+kB,aAET,yBAAK9gB,UAAWjE,EAAM4D,QAAQohB,yBAA9B,yBAMN,QACE,OAAQhlB,EAAMklB,YAqBZ,yBACEjhB,UAAWjE,EAAM4D,QAAQkhB,cACzB/gB,MAAO,CAAEoB,WAAYsf,KAEpBzkB,EAAM+kB,YAJT,KAIwB/kB,EAAMmlB,oBAxB9B,yBAAKlhB,UAAWjE,EAAM4D,QAAQkhB,eAC5B,0BAAM7gB,UAAWjE,EAAM4D,QAAQmhB,aAC5B/kB,EAAM+kB,aAET,yBACE9gB,UAAWjE,EAAM4D,QAAQwhB,iBACzBrhB,MAAO,CAAEoB,WAAY,YAEpBnF,EAAMqlB,eAET,kBAAC,mBAAD,CAAiBnO,KAAMlX,EAAMqlB,eAC3B,kBAAC,IAAD,CACElhB,QAASnE,EAAMslB,OACfrhB,UAAWjE,EAAM4D,QAAQ2hB,YAF3B,e,GAhDcxP,IAAMrW,WAiFrBkF,yBAlIA,SAAAC,GAAK,MAAK,CACvBigB,cAAe,CACbhf,QAAS,cACTV,WAAY,SACZa,eAAgB,SAChBD,MAAO,OACP8M,UAAW,OACX7N,OAAQ,QAEVmgB,iBAAkB,CAChBtf,QAAS,OACTuG,QAAS,SACTpH,OAAQ,OACRgB,eAAgB,SAChBb,WAAY,SACZY,MAAO,QAETgf,wBAAyB,CACvBlf,QAAS,OACTuG,QAAS,SACTpH,OAAQ,OACRgB,eAAgB,SAChBb,WAAY,SACZY,MAAO,OACPb,WAAY7B,IAEdyhB,YAAa,CACXjf,QAAS,OACTuG,QAAS,QACTlH,WAAY,UACZiB,UAAW,SACXnB,OAAQ,OACRgB,eAAgB,SAChBb,WAAY,SACZY,MAAO,QAETuf,WAAY,CACVtgB,OAAQ,OACRC,MAAO,QACPC,WAAY,UACZc,eAAgB,SAChB8F,aAAc,EACd,UAAW,CACT5G,WAAY,WAEda,MAAO,WAqFIpB,CAAmB8f,ICnG5Bc,G,kDAOJ,WAAYxlB,GAAQ,IAAD,8BACjB,cAAMA,IAPRylB,SAAW,KAMQ,EALnBC,QAAU,KAKS,EAJnBpmB,MAAQ,CACNqmB,iBAAiB,EACjB/Q,MAAM,GAEW,EA0BnB0Q,OAAS,WACP,EAAK5V,SAAS,CAAEkF,MAAM,KA3BL,EA8BnBD,YAAc,WACZ,EAAKjF,SAAS,CAAEkF,MAAM,KA7BtB,EAAKgQ,gBAAkB,EAAKA,gBAAgBnhB,KAArB,gBAFN,E,qDAKnB,WAAqB,IAAD,OAClBC,KAAK+hB,SAAW1L,aAAY,WAC1B,EAAKrT,KAAK3C,MAAM6hB,SAAW,MAC1B,IACHliB,KAAKgiB,QAAUrL,YAAW,WACxB,EAAKwL,UAAU9hB,MAAM+B,QAAU,OAC/B,EAAKY,KAAK3C,MAAM+B,QAAU,OAC1BggB,cAAc,EAAKL,UACnB,EAAK/V,SAAS,CAAEiW,iBAAiB,MAChC,Q,kCAGL,WACEG,cAAcpiB,KAAK+hB,UACnB/K,aAAahX,KAAKgiB,W,6BAGpB,SAAgBhJ,GACdhZ,KAAK1D,MAAM+lB,kBAAX,kBAAwCrJ,Q,oBAW1C,WAAU,IAAD,OACDsJ,EAAYtiB,KAAK1D,MAAMP,KAAKQ,SAAhB,gBACLyD,KAAK1D,MAAMP,KAAK+C,KAAK6B,MAC9B,aAEE4hB,EACJ,kBAAC,GAAD,CACErB,gBAAmBlhB,KAAKkhB,gBACxBC,WAAa,aACbE,YAAY,aACZE,iBAAkBvhB,KAAK1D,MAAMkmB,SAASC,qBACtCjB,YAAaxhB,KAAK1D,MAAMkmB,SAASE,gBACjCf,cAAe3hB,KAAK1D,MAAMkmB,SAASG,kBACnClB,mBAAoBzhB,KAAK1D,MAAMkmB,SAASI,uBACxChB,OAAQ5hB,KAAK4hB,SAGXiB,EACJ,kBAAC,GAAD,CACE3B,gBAAmBlhB,KAAKkhB,gBACxBC,WAAa,aACbE,YAAY,aACZE,iBAAkBvhB,KAAK1D,MAAMkmB,SAASM,qBACtCtB,YAAaxhB,KAAK1D,MAAMkmB,SAASO,gBACjCpB,cAAe3hB,KAAK1D,MAAMkmB,SAASQ,kBACnCvB,mBAAoBzhB,KAAK1D,MAAMkmB,SAASS,uBACxCrB,OAAQ5hB,KAAK4hB,SAGXsB,EACJ,kBAAC,GAAD,CACEhC,gBAAmBlhB,KAAKkhB,gBACxBC,WAAa,kBACbE,YAAY,2BACZE,iBAAkBvhB,KAAK1D,MAAMkmB,SAASW,0BACtC3B,YAAaxhB,KAAK1D,MAAMkmB,SAASY,qBACjCzB,cAAe3hB,KAAK1D,MAAMkmB,SAASa,uBACnC5B,mBAAoBzhB,KAAK1D,MAAMkmB,SAASc,4BACxC1B,OAAQ5hB,KAAK4hB,SAGX2B,EACJ,kBAAC,GAAD,CACErC,gBAAmBlhB,KAAKkhB,gBACxBC,WAAa,SACbE,YAAY,SACZE,iBAAkBvhB,KAAK1D,MAAMkmB,SAASgB,iBACtChC,YAAaxhB,KAAK1D,MAAMkmB,SAASiB,YACjC9B,cAAe3hB,KAAK1D,MAAMkmB,SAASkB,cACnCjC,mBAAoBzhB,KAAK1D,MAAMkmB,SAASmB,mBACxC/B,OAAQ5hB,KAAK4hB,SAGXgC,EACJ,kBAAC,GAAD,CACE1C,gBAAmBlhB,KAAKkhB,gBACxBC,WAAa,gBACbE,YAAY,iBACZE,iBAAkBvhB,KAAK1D,MAAMkmB,SAASqB,wBACtCrC,YAAaxhB,KAAK1D,MAAMkmB,SAASsB,mBACjCnC,cAAe3hB,KAAK1D,MAAMkmB,SAASuB,qBACnCtC,mBAAoBzhB,KAAK1D,MAAMkmB,SAASwB,0BACxCpC,OAAQ5hB,KAAK4hB,SAIXqC,EACJ,kBAAC,GAAD,CACE/C,gBAAmBlhB,KAAKkhB,gBACxBC,WAAa,iBACbE,YAAY,kBACZE,iBAAkBvhB,KAAK1D,MAAMkmB,SAAS0B,yBACtC1C,YAAaxhB,KAAK1D,MAAMkmB,SAAS2B,oBACjCxC,cAAe3hB,KAAK1D,MAAMkmB,SAAS4B,sBACnC3C,mBAAoBzhB,KAAK1D,MAAMkmB,SAAS6B,2BACxCzC,OAAQ5hB,KAAK4hB,SAIX0C,EACJ,kBAAC,GAAD,CACEpD,gBAAmBlhB,KAAKkhB,gBACxBC,WAAa,kBACbE,YAAY,mBACZE,iBAAkBvhB,KAAK1D,MAAMkmB,SAAS+B,0BACtC/C,YAAaxhB,KAAK1D,MAAMkmB,SAASgC,qBACjC7C,cAAe3hB,KAAK1D,MAAMkmB,SAASiC,uBACnChD,mBAAoBzhB,KAAK1D,MAAMkmB,SAASkC,4BACxC9C,OAAQ5hB,KAAK4hB,SAIX+C,EACJ,kBAAC,GAAD,CACEzD,gBAAmBlhB,KAAKkhB,gBACxBC,WAAa,cACbE,YAAY,eACZE,iBAAkBvhB,KAAK1D,MAAMkmB,SAASoC,sBACtCpD,YAAaxhB,KAAK1D,MAAMkmB,SAASqC,iBACjClD,cAAe3hB,KAAK1D,MAAMkmB,SAASsC,mBACnCrD,mBAAoBzhB,KAAK1D,MAAMkmB,SAASuC,wBACxCnD,OAAQ5hB,KAAK4hB,SAIXoD,EACJ,kBAAC,GAAD,CACE9D,gBAAmBlhB,KAAKkhB,gBACxBC,WAAa,uBACbE,YAAY,yBACZE,iBAAkBvhB,KAAK1D,MAAMkmB,SAASyC,+BACtCzD,YAAaxhB,KAAK1D,MAAMkmB,SAAS0C,0BACjCvD,cAAe3hB,KAAK1D,MAAMkmB,SAAS2C,4BACnC1D,mBACEzhB,KAAK1D,MAAMkmB,SAAS4C,iCAEtBxD,OAAQ5hB,KAAK4hB,SAIXyD,EACJ,kBAAC,GAAD,CACEnE,gBAAmBlhB,KAAKkhB,gBACxBC,WAAa,iBACbE,YAAY,kBACZE,iBAAkBvhB,KAAK1D,MAAMkmB,SAAS8C,yBACtC9D,YAAaxhB,KAAK1D,MAAMkmB,SAAS+C,oBACjC5D,cAAe3hB,KAAK1D,MAAMkmB,SAASgD,sBACnC/D,mBAAoBzhB,KAAK1D,MAAMkmB,SAASiD,2BACxC7D,OAAQ5hB,KAAK4hB,SAIX8D,EACJ,kBAAC,GAAD,CACExE,gBAAmBlhB,KAAKkhB,gBACxBC,WAAa,aACbE,YAAY,cACZE,iBAAkBvhB,KAAK1D,MAAMkmB,SAASmD,qBACtCnE,YAAaxhB,KAAK1D,MAAMkmB,SAASoD,gBACjCjE,cAAe3hB,KAAK1D,MAAMkmB,SAASqD,kBACnCpE,mBAAoBzhB,KAAK1D,MAAMkmB,SAASsD,uBACxClE,OAAQ5hB,KAAK4hB,SAIXmE,EACJ,kBAAC,GAAD,CACQ7E,gBAAmBlhB,KAAKkhB,gBAC9BC,WAAa,YACbE,YAAY,YACZE,iBAAkBvhB,KAAK1D,MAAMkmB,SAASwD,oBACtCxE,YAAaxhB,KAAK1D,MAAMkmB,SAASyD,eACjCtE,cAAe3hB,KAAK1D,MAAMkmB,SAAS0D,iBACnCzE,mBAAoBzhB,KAAK1D,MAAMkmB,SAAS2D,sBACxCvE,OAAQ5hB,KAAK4hB,SAIXwE,EACJ,kBAAC,GAAD,CACQlF,gBAAmBlhB,KAAKkhB,gBAC9BC,WAAa,oBACbE,YAAY,qBACZE,iBAAkBvhB,KAAK1D,MAAMkmB,SAAS6D,4BACtC7E,YAAaxhB,KAAK1D,MAAMkmB,SAAS8D,uBACjC3E,cAAe3hB,KAAK1D,MAAMkmB,SAAS+D,yBACnC9E,mBAAoBzhB,KAAK1D,MAAMkmB,SAASgE,8BACxC5E,OAAQ5hB,KAAK4hB,SAIX6E,EACJ,kBAAC,GAAD,CACEvF,gBAAmBlhB,KAAKkhB,gBACxBC,WAAa,WACbE,YAAY,WACZE,iBAAkBvhB,KAAK1D,MAAMkmB,SAASkE,mBACtClF,YAAaxhB,KAAK1D,MAAMkmB,SAASmE,cACjChF,cAAe3hB,KAAK1D,MAAMkmB,SAASoE,gBACnCnF,mBAAoBzhB,KAAK1D,MAAMkmB,SAASqE,qBACxCjF,OAAQ5hB,KAAK4hB,SAIXkF,EACJ,kBAAC,GAAD,CACE5F,gBAAmBlhB,KAAKkhB,gBACxBC,WAAa,gBACbE,YAAY,iBACZE,iBAAkBvhB,KAAK1D,MAAMkmB,SAASuE,wBACtCvF,YAAaxhB,KAAK1D,MAAMkmB,SAASwE,mBACjCrF,cAAe3hB,KAAK1D,MAAMkmB,SAASyE,qBACnCxF,mBAAoBzhB,KAAK1D,MAAMkmB,SAAS0E,0BACxCtF,OAAQ5hB,KAAK4hB,SAIXuF,EACJ,kBAAC,GAAD,CACEjG,gBAAmBlhB,KAAKkhB,gBACxBC,WAAa,OACbE,YAAY,+BACZE,iBAAkBvhB,KAAK1D,MAAMkmB,SAAS4E,eACtC5F,YAAaxhB,KAAK1D,MAAMkmB,SAAS6E,UACjC1F,cAAe3hB,KAAK1D,MAAMkmB,SAAS8E,YACnC7F,mBAAoBzhB,KAAK1D,MAAMkmB,SAAS+E,iBACxC3F,OAAQ5hB,KAAK4hB,SAIX4F,EAAmBxnB,KAAKpE,MAAMqmB,gBAClC,6BACE,6BAAMM,GACN,6BAAMM,GACN,6BAAMK,GACN,6BAAMK,GACN,6BAAMK,IAGR,GAEI6D,EAAmBznB,KAAKpE,MAAMqmB,gBAClC,6BACE,6BAAMgC,GACN,6BAAMK,GACN,6BAAMK,GACN,6BAAMK,GACN,6BAAMK,GACN,6BAAMK,GACN,6BAAMK,GACN,6BAAMK,GACN,6BAAMK,GACN,6BAAMK,GACN,6BAAMK,IAGR,GAOIO,EAAc1nB,KAAKpE,MAAMqmB,gBAC7B,6BACE,6BAAMuF,GACN,6BAAMC,IAGR,GAEF,OACE,yBAAKlnB,UAAWP,KAAK1D,MAAM4D,QAAQa,MACjC,yBACEsS,IAAK,SAAA8O,GACH,EAAKA,UAAYA,GAEnB5hB,UAAWP,KAAK1D,MAAM4D,QAAQynB,OAE7BrF,GAEH,yBACEjP,IAAK,SAAArQ,GAAI,OAAK,EAAKA,KAAOA,GAC1B3C,MAAO,CAAE6hB,QAAS,GAClB3hB,UAAWP,KAAK1D,MAAM4D,QAAQ8C,KAC9BK,IAAKukB,KACLtkB,IAAI,KAELokB,EACD,kBAAC,KAAD,CACEG,aAAc,CAAEC,SAAU,MAAOC,WAAY,UAC7C7W,KAAMlR,KAAKpE,MAAMsV,KACjBU,QAAS5R,KAAKiR,YACd+W,iBAAkB,IAClBC,qBAAsB,CACpB,mBAAoB,UAEtBhkB,QAAS,0BAAMb,GAAG,cAAT,kB,GA/TEpH,aAuVNgF,mBACbE,sBAvXa,SAAAC,GAAK,MAAK,CACvBJ,KAAM,CACJ6L,KAAM,EACNC,SAAU,OACVtK,eAAgB,SAChBqF,gBAAiB,QACjBtF,MAAO,QACPyK,UAAW,QACXxL,OAAQ,OACRyL,UAAW,EACXtK,UAAW,SACXwlB,WAAY,OACZxmB,WAAY,UAEdimB,MAAO,CACLnmB,MAAO,MACPmB,SAAU,OACVI,WAAY,4BACZL,UAAW,SACXylB,WAAY,MACZC,WACE,sFACFF,WAAY,OACZG,UAAW,8BAEbrlB,KAAM,CACJoM,UAAW,OACXiZ,UAAW,0CA6Vb1sB,aAfF,YACE,MAAO,CACLI,KAFyC,EAAlBA,KAGvBymB,SAHyC,EAAZA,aAOjC,SAA4B5kB,GAC1B,MAAO,CACLykB,kBAAmB1gB,YAAmB0gB,EAAmBzkB,OAI9CoD,CAMb8gB,I,6HCtXI/f,GAAQC,KAAM,KA0DdsmB,G,kDACJ,WAAYhsB,GAAQ,IAAD,8BACjB,cAAMA,IACDV,MAAQ,CACX2sB,WAAY,GACZC,UAAU,EACVC,aAAc,sBACdpd,MAAO,QAET,EAAKqC,aAAe,EAAKA,aAAa3N,KAAlB,gBACpB,EAAK4V,aAAe,EAAKA,aAAa5V,KAAlB,gBACpB,EAAK2oB,gBAAkB,EAAKA,gBAAgB3oB,KAArB,gBACvB,EAAK4oB,WAAa,EAAKA,WAAW5oB,KAAhB,gBAXD,E,mDAcnB,SAAgBd,EAAGoM,GACjBrL,KAAKgM,SAAS,CAAEX,Y,wBAGlB,SAAWud,GACT,OAAO5oB,KAAK1D,MAAM6L,aAAajE,aAC7B0kB,EACA5oB,KAAKpE,MAAM2sB,WACXvoB,KAAK1D,MAAMqB,W,0BAIf,SAAasB,GAEX,OADAe,KAAK1D,MAAM6G,YAAYvB,eACf5B,KAAKpE,MAAMyP,OACjB,IAAK,UAKH,OAAOrL,KAAK2oB,WAAW,WAEzB,IAAK,QACH,OAAO3oB,KAAK2oB,WAAW,SAEzB,IAAK,OACH,OAAO3oB,KAAK2oB,WAAW,QAEzB,QACE,OAAO3oB,KAAK2oB,WAAW,W,0BAI7B,SAAa1pB,GACXe,KAAKgM,SAAS,CAAEuc,WAAYtpB,EAAE2O,OAAOvC,U,oBAGvC,WACE,IAAQnL,EAAYF,KAAK1D,MAAjB4D,QACR,OACE,6BACE,yBAAKK,UAAWL,EAAQ2oB,WACtB,kBAAC,KAAD,CAAatoB,UAAWL,EAAQ6X,aAC9B,kBAAC,KAAD,CACE3U,GAAG,aACH0lB,YAAa9oB,KAAKpE,MAAM6sB,aACxBpd,MAAOrL,KAAKpE,MAAM2sB,WAClBnd,SAAUpL,KAAK0N,aACfqb,WAAY,CACVC,kBAAkB,EAClB9oB,QAAS,CACPa,KAAMb,EAAQ+oB,cACd5Z,MAAOnP,EAAQgpB,iBAGnBC,gBAAiB,CACfC,QAAQ,EACR7oB,UAAWL,EAAQmpB,sBAGvB,kBAAC,IAAD,CAAQ9oB,UAAWL,EAAQwU,OAAQjU,QAAST,KAAK2V,cAAjD,YAKJ,6BACE,kBAAC,KAAD,KACE,kBAAC,KAAD,CACEzC,aAAW,aACXvS,KAAK,aACLJ,UAAWL,EAAQopB,MACnBje,MAAOrL,KAAKpE,MAAMyP,MAClBD,SAAUpL,KAAK0oB,iBAEf,kBAAC,KAAD,CACExoB,QAAS,CAAEmK,MAAOnK,EAAQmK,OAC1BgB,MAAM,OACNJ,QAAS,kBAAC,KAAD,CAAO5K,MAAO,CAAEmB,MAAO,WAChC6I,MAAM,SAER,kBAAC,KAAD,CACEnK,QAAS,CAAEmK,MAAOnK,EAAQmK,OAC1BgB,MAAM,UACNJ,QAAS,kBAAC,KAAD,CAAO5K,MAAO,CAAEmB,MAAO,WAChC6I,MAAM,YAER,kBAAC,KAAD,CACEnK,QAAS,CAAEmK,MAAOnK,EAAQmK,OAC1BgB,MAAM,QACNJ,QAAS,kBAAC,KAAD,CAAO5K,MAAO,CAAEmB,MAAO,WAChC6I,MAAM,UAER,kBAAC,KAAD,CACEnK,QAAS,CAAEmK,MAAOnK,EAAQmK,OAC1BgB,MAAM,OACNJ,QAAS,kBAAC,KAAD,CAAO5K,MAAO,CAAEmB,MAAO,WAChC6I,MAAM,iB,GA/GOrO,aAoIdgF,mBACbC,IACAC,sBA9La,SAAAC,GAAK,MAAK,CACvB0nB,UAAW,CACTzmB,QAAS,cACTV,WAAY,UAEdqW,YAAa,CACXzP,cAAe,OAEjBihB,kBAAmB,CACjB/nB,MAAOgoB,KAAO,MAEhBC,YAAa,CACX,UAAW,CACT7hB,gBAAiB4hB,KAAO,OAG5BP,cAAe,CACbtgB,QAAS,GAEXugB,eAAgB,CACd7gB,aAAc,cACdT,gBAAiBzG,EAAMmR,QAAQoX,OAAOC,MACtCnoB,MAAO,QACPmB,SAAU,GACVgG,QAAS,YACTrG,MAAO,QACPsnB,WAAYzoB,EAAM0oB,YAAYC,OAAO,CAAC,eAAgB,eACtD,UAAW,CACTC,YAAa,UACbpa,UAAW,oCAEbpO,OAAQ,QAEVmT,OAAQ,CACNrF,MAAO,CACLjN,QAAS,QAEXiG,aAAc,cACd7G,MAAO,QACPmH,QAAS,SACTlH,WAAYM,GACZO,MAAO,OACPF,QAAS,eAEXknB,MAAO,CACLlnB,QAAS,cACTkG,cAAe,OAEjB+B,MAAO,CACL7I,MAAO,SAETwoB,MAAO,CACLxoB,MAAO,aA2IT7F,aAAQ,iBAAO,MAVjB,SAA4BiC,GAC1B,MAAO,CACLuK,aAAcxG,YAAmBwG,EAAcvK,GAC/CuF,YAAaxB,YAAmBwB,EAAavF,OAIlCoD,CAIbsnB,IC5LI2B,G,4JACJ,WACE,IAAQ/pB,EAAYF,KAAK1D,MAAjB4D,QAEFgqB,EACJ,yBAAK3pB,UAAWL,EAAQa,MACtB,kBAAC,KAAD,CAASR,UAAWL,EAAQiqB,UAC5B,kBAAC,GAAD,MACA,kBAAC,KAAD,CAAS5pB,UAAWL,EAAQiqB,WAIhC,OACE,kBAAC,KAAD,CACEjZ,KAAMlR,KAAK1D,MAAM4G,KAAKgO,KACtBU,QAAS5R,KAAK1D,MAAM6G,YAAYvB,cAEhC,yBAAKwoB,SAAU,EAAGxJ,KAAK,UACpBsJ,Q,GAlBa7X,IAAMrW,WAyCfgF,mBACbE,sBAtDa,SAAAC,GAAK,MAAK,CACvBJ,KAAM,CACJqB,QAAS,OACTkG,cAAe,SACf7G,WAAY,UACZF,OAAQ,SAEV4oB,QAAS,CACP/a,UAAW,YA+CbzT,aAdF,YAAsE,IAA3CuH,EAA0C,EAA1CA,KAA0C,IAApCqD,OAC/B,OADmE,EAA1BG,OAA0B,EAAlByE,aAC1C,CACLjI,WAIJ,SAA4BtF,GAC1B,MAAO,CACLuF,YAAaxB,YAAmBwB,EAAavF,OAIlCoD,CAMbipB,I,yDCpBajpB,eACbE,sBA5Ca,SAAAC,GAAK,MAAK,CACvBwL,QAAS,CACPvK,QAAS,OACTkG,cAAe,SACf/F,eAAgB,SAChBqF,gBAAiB,QACjBlG,WAAY,SACZY,MAAO,QACPf,OAAQ,aAqCV5F,aAJsB,SAAC,GAAD,MAAqB,CAAEI,KAAvB,EAAGA,KAA0BmH,KAA7B,EAASA,SAElBlC,EA/BI,SAAC,GAOb,IANMhF,EAMP,EANJC,UACAC,EAKI,EALJA,cACAH,EAII,EAJJA,KACAmH,EAGI,EAHJA,KACAhD,EAEI,EAFJA,QACG/D,EACC,kBACJ,OAAI+G,EAAKmnB,oBAEL,yBAAK9pB,UAAWL,EAAQyM,SACtB,kBAAC,KAAD,OAKJ,kBAACvQ,EAAA,EAAD,iBACMD,EADN,CAEEE,OAAQ,SAAAC,GAAK,OACXP,EAAK8E,QACH,kBAAC7E,EAAcM,GAEf,kBAACE,EAAA,EAAD,CAAUC,GAAIP,WCtCjB,SAASouB,GAAYvuB,EAAM4B,GAChC,OAAO,SAAAC,GAEL,OADAA,EAAS2sB,MACFrtB,EAAQ,8BAA+B,CAC5CW,OAAQ,MACRC,KAAM,OACNC,QAAS,CACPU,cAAc,UAAD,OAAY1C,EAAKgD,eAG/BhC,MAAK,SAAAD,GAAI,OAAIc,EAAS4sB,GAAsB1tB,OAC5CC,MAAK,kBAAMY,EAAQS,KAAK,mBACxBb,OAAM,SAAA0B,GAAC,OAAItB,EAAQS,KAAK,cAIxB,SAASmsB,KACd,MAAO,CAAE5qB,KzCgBsB,qByCb1B,SAAS6qB,GAAT,GACL,MAAO,CAAE7qB,KzCciC,+ByCdS0f,OADH,EAAVA,QAIjC,SAASoL,GAAsBpL,GACpC,MAAO,CAAE1f,KzCSiC,+ByCTS0f,UCjBrD,IAwBMqL,G,iKACJ,WACE1qB,KAAK1D,MAAMquB,cAAcL,YAAYtqB,KAAK1D,MAAMP,KAAMiE,KAAK1D,MAAMqB,W,oBAEnE,WAAU,IAAD,OACCuC,EAAYF,KAAK1D,MAAjB4D,QACR,OACE,yBAAKK,UAAWL,EAAQa,MACtB,kBAAC,IAAD,CAAQR,UAAWL,EAAQwU,OAAQjU,QAAS,kBAAM,EAAKyI,gBAAvD,oB,GARiBlN,aAgCVgF,mBACbC,IACAC,sBA1Da,SAAAC,GAAK,MAAK,CACvBJ,KAAM,CACJ6L,KAAM,EACNC,SAAU,OACVtK,eAAgB,SAChBqF,gBAAiB,QACjBkF,aAAc,SACdxK,MAAO,QACPyK,UAAW,QACXxL,OAAQ,OACRyL,UAAW,GAEb0H,OAAQ,CACNrF,MAAO,CACLjN,QAAS,QAEXZ,MAAO,QACPmH,QAAS,OACTlH,WAAYO,KAAM,KAClBI,QAAS,cACThB,OAAQD,EAAME,QAAQC,KAAO,OAuC/B3F,aAfF,YACE,MAAO,CACLI,KAF+B,EAARA,SAM3B,SAA4B6B,GAC1B,MAAO,CACL+sB,cAAehpB,YAAmBgpB,EAAe/sB,OAItCoD,CAOb0pB,IC1CIhF,I,8KACJ,WACO1lB,KAAK1D,MAAM+iB,QAAuC,IAA7Brf,KAAK1D,MAAM+iB,OAAOtZ,QAC1C/F,KAAK1D,MAAMquB,cAAcL,YAAYtqB,KAAK1D,MAAMP,KAAMiE,KAAK1D,MAAMqB,W,oBAGrE,WACE,MAA4BqC,KAAK1D,MAAzB+iB,EAAR,EAAQA,OAAQnf,EAAhB,EAAgBA,QAEZ0qB,EAAWvL,EAAOxa,KAAI,SAACgmB,EAAOzd,GAAR,OACxB,wBAAI7M,UAAWL,EAAQmN,GAAIvL,IAAK+oB,EAAMvkB,KAAtC,YACQ8G,EAAM,EADd,iBACwByd,EAAMtf,MAD9B,sBACiDsf,EAAMvkB,SAGzD,OACE,yBAAK/F,UAAWL,EAAQa,MACtB,wBAAIR,UAAWL,EAAQoN,IAAKsd,Q,GAhBX5uB,cAuCVgF,mBACbC,IACAC,sBAhEa,SAAAC,GAAK,MAAK,CACvBJ,KAAM,CACJqB,QAAS,OACTwK,KAAM,EACNC,SAAU,OACVtK,eAAgB,SAChBqF,gBAAiB,QACjBkF,aAAc,SACdxK,MAAO,QACPyK,UAAW,QACXxL,OAAQ,OACRyL,UAAW,GAEbM,GAAI,CACFC,UAAW,OACX7K,UAAW,UAEb2K,GAAI,CACF1K,SAAU,QACVnB,MAAO,aA8CT7F,aAhBF,YACE,MAAO,CACL0jB,OAFmD,EAA5BA,OAAUA,OAGjCtjB,KAHmD,EAARA,SAO/C,SAA4B6B,GAC1B,MAAO,CACL+sB,cAAehpB,YAAmBgpB,EAAe/sB,OAItCoD,CAOb0kB,IC3BaoF,G,4JA9Bb,WACE,OACE,yBAAK1nB,GAAG,OAAO/C,MAAO,CAAE0qB,UAAW,WACjC,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,EAAD,KACE,kBAAC,GAAD,CACEC,KAAK,SACL/uB,UAAWyuB,GACXxuB,cAAc,WAEhB,kBAACE,EAAA,EAAD,CAAO6uB,OAAK,EAACD,KAAK,IAAI/uB,UAAWuP,KACjC,kBAACpP,EAAA,EAAD,CAAO6uB,OAAK,EAACD,KAAK,iBAAiB/uB,UAAWqZ,KAC9C,kBAAClZ,EAAA,EAAD,CAAO6uB,OAAK,EAACD,KAAK,mBAAmB/uB,UAAWiR,KAChD,kBAAC,EAAD,CACE8d,KAAK,WACL/uB,UAAWub,GACXtb,cAAc,WAEhB,kBAACE,EAAA,EAAD,CAAO6uB,OAAK,EAACD,KAAK,WAAW/uB,UAAWub,KACxC,kBAACpb,EAAA,EAAD,CAAO4uB,KAAK,UAAU/uB,UAAW6lB,KACjC,kBAAC1lB,EAAA,EAAD,CAAO4uB,KAAK,SAAS/uB,UAAWwR,KAChC,kBAACrR,EAAA,EAAD,CAAO4uB,KAAK,UAAU/uB,UAAWsT,KACjC,kBAACnT,EAAA,EAAD,CAAO4uB,KAAK,eAAe/uB,UAAWypB,W,GAzBpB1pB,a,UCNtBkvB,GAAe,CACnB3kB,OAAQ,GACRE,KAAM,EACN3C,MAAO,GACP8B,QAAS,GACTc,OAAQ,CACNmC,OAAQ,GACR8B,QAAS,IAEXwgB,iBAAkB,EAClBpf,cAAe,EACfrI,WAAW,EACX0nB,UAAU,EACVC,mBAAmB,EACnB9e,oBAAoB,EACpBd,QAAQ,EACRvG,OAAQ,GACRiG,aAAc,CACZtC,OAAQ,GACR8B,QAAS,IAEX0B,YAAa,IAeTif,GAAyB,SAACzZ,EAAM0Z,GACpC,IAAIC,EAAkB,GAatB,OAZA3Z,EAAK2E,SAAQ,SAAAiV,GACPA,IACFD,EAAgBC,EAAOnlB,KAAOmlB,EAAOlgB,UAGzCggB,EAAM/U,SAAQ,SAAAiV,QACwBpO,IAAhCmO,EAAgBC,EAAOnlB,KACzBklB,EAAgBC,EAAOnlB,MAAQmlB,EAAOlgB,MAEtCigB,EAAgBC,EAAOnlB,KAAOmlB,EAAOlgB,SAGlC1F,OAAOC,KAAK0lB,GAAiB3mB,KAAI,SAAAC,GACtC,MAAO,CACLwB,IAAKxB,EACLyG,MAAOigB,EAAgB1mB,QAKvB4mB,GAAoB,SAACnlB,EAAQ4E,GACjC,IAAQtC,EAAoBsC,EAApBtC,OAAQ8B,EAAYQ,EAAZR,QACZghB,EAAiBplB,EAAOiK,QAC5B,GAAI3K,OAAOC,KAAK+C,GAAQ9C,QAAUF,OAAOC,KAAK6E,GAAS5E,OAAQ,CAC7D,IAAMH,EAAO,uBACRC,OAAOC,KAAK+C,GAAQhE,KAAI,SAAA/C,GAAG,OAAI+G,EAAO/G,OAD9B,aAER+D,OAAOC,KAAK6E,GAAS9F,KAAI,SAAA/C,GAAG,OAAI6I,EAAQ7I,QAE7C6pB,EAAiBA,EAAenlB,QAAO,SAAA1B,GAAI,OAAIc,EAAQgmB,MAAK,SAAA7gB,GAAE,OAAIA,EAAGjG,SAEvE,OAAO6mB,GAGM,SAAS7nB,KAAqC,IAA/BlI,EAA8B,uDAAtBsvB,GAAcW,EAAQ,uCAC1D,OAAQA,EAAOlsB,MACb,I7CjEkC,yB6CkElC,I7C/DkC,yB6CgEhC,OAAO,2BACF/D,GADL,IAEEkI,MAAM,2BACDlI,EAAMkI,OADN,IAEHkD,SAAU6kB,EAAO7kB,aAIvB,I7C7E6B,oB6C8E3B,IAAI8kB,EAAmBlwB,EAAMuP,aAC7B,EAA6B0gB,EAAOnkB,QAA9BD,EAAN,EAAMA,MAAO3F,EAAb,EAAaA,IAAK0E,EAAlB,EAAkBA,OAMlB,YALqC6W,IAAjCyO,EAAiBrkB,GAAO3F,UACnBgqB,EAAiBrkB,GAAO3F,GAE/BgqB,EAAiBrkB,GAAO3F,GAAO0E,EAE1B,2BACF5K,GADL,IAEEuP,aAAc,CACZR,QAASmhB,EAAiBnhB,QAC1B9B,OAAQijB,EAAiBjjB,QAE3BwD,YAAaqf,GAAkB9vB,EAAM2K,OAAQulB,KAGjD,I7C/FwB,e6CgGtB,OAAO,2BACFlwB,GADL,IAEE6P,QAAQ,IAEZ,I7C5GwB,e6C6GtB,OAAO,2BACF7P,GADL,IAEEkI,MAAOlI,EAAM2K,OAAOC,QAAO,SAAA1B,GAAI,OAAIA,EAAKwB,MAAQulB,EAAO/nB,SAAOsX,QAElE,I7ClH2B,kB6CmHzB,OAAO,2BACFxf,GADL,IAEE2K,OAAQslB,EAAOtlB,OACfE,KAAMolB,EAAOplB,KACbb,QAASimB,EAAOjmB,QAChBulB,iBAAkBU,EAAOV,iBACzBpf,cAAe8f,EAAO9f,cACtBM,YAAaqf,GAAkBG,EAAOtlB,OAAQ3K,EAAMuP,gBAExD,I7C1HmC,0B6C2HjC,OAAO,2BACFvP,GADL,IAEE2K,OAAQslB,EAAOtlB,OACfE,KAAMolB,EAAOplB,KACbb,QAASimB,EAAOjmB,QAChBulB,iBAAkBU,EAAOV,iBACzBpf,cAAe8f,EAAO9f,cACtBrF,OAAQ,CACNmC,OAASgjB,EAAOnlB,QAAUmlB,EAAOnlB,OAAOmC,QAAW,GACnD8B,QAAUkhB,EAAOnlB,QAAUmlB,EAAOnlB,OAAOiE,SAAY,IAEvD0B,YAAaqf,GAAkBG,EAAOtlB,OAAQ3K,EAAMuP,gBAExD,I7C3IoC,2B6C4IlC,OAAO,2BACFvP,GADL,IAEEsJ,OAAQ2mB,EAAO3mB,SAEnB,I7CvI+B,sB6CwI7B,OAAO,2BACFtJ,GADL,IAEE2K,OAAQslB,EAAOtlB,OACfE,KAAMolB,EAAOplB,KACbb,QAASimB,EAAOjmB,QAChBulB,iBAAkBU,EAAOV,iBACzB1f,QAAQ,EACR/E,OAAQ,CACNmC,OACGgjB,EAAOnlB,QACN4kB,GACE1vB,EAAM8K,OAAOmC,OACbgjB,EAAOnlB,OAAOmC,SAElB,GACF8B,QACGkhB,EAAOnlB,QACN4kB,GACE1vB,EAAM8K,OAAOiE,QACbkhB,EAAOnlB,OAAOiE,UAElB,IAEJ0B,YAAaqf,GAAkBG,EAAOtlB,OAAQ3K,EAAMuP,gBAExD,I7CpKgC,uB6CqK9B,OAAO,2BAAKvP,GAAZ,IAAmBkI,MAAO+nB,EAAO/nB,QACnC,I7CrKsB,a6CsKpB,OAAO,2BAAKlI,GAAZ,IAAmB8H,WAAY9H,EAAM8H,YAEvC,QACE,OAAO9H,GC3Kb,IAAMsvB,GAAe,CACnBa,YAAa,GACbC,gBAAiB,GACjBC,aAAc,GACdC,iBAAkB,GAClBC,kBAAmB,GACnBC,sBAAuB,GACvBC,qBAAsB,IAGT,SAASrkB,KAAsC,IAA/BpM,EAA8B,uDAAtBsvB,GAAcW,EAAQ,uCAC3D,OAAQA,EAAOlsB,MACb,I9CIuB,c8CHrB,IAAI2sB,EAAQ,2BACP1wB,GADO,mBAETiwB,EAAO/pB,IAAM,KAEhB,OAAO,eAAKwqB,GAEd,I9CvB2B,kB8C4BzB,OAJAA,EAAQ,2BACH1wB,GADG,IAENswB,iBAAkB,KAEb,eAAKI,GAEd,I9C5BmC,0B8CiCjC,OAJAA,EAAQ,2BACH1wB,GADG,IAENuwB,kBAAmB,KAEd,eAAKG,GAEd,I9CtCoC,2B8C2ClC,OAJAA,EAAQ,2BACH1wB,GADG,IAENwwB,sBAAuB,KAElB,eAAKE,GAEd,I9CvCgC,uB8C4C9B,OAJAA,EAAQ,2BACH1wB,GADG,IAENywB,qBAAsB,KAEjB,eAAKC,GAEd,I9CRyB,gB8CavB,OAJAA,EAAQ,2BACH1wB,GADG,IAEN2wB,WAAY,KAEP,eAAKD,GAEd,I9CdsB,a8CepB,IAAM9uB,EAAQquB,EAAOruB,MAAMA,MAAMA,MACjC,OAAO,2BACF5B,GADL,IAEEmwB,YAAavuB,EAAMmD,MAAQ,GAC3BqrB,gBAAiBxuB,EAAM8Q,UAAY,GACnC2d,aAAczuB,EAAM6Q,OAAS,GAC7Bke,WACY,iBAAV/uB,EAA2B,+BAAiC,KAGlE,I9CjEqC,4B8CkEnC,OAAO,2BACF5B,GADL,IAEEywB,qBAAsBR,EAAOruB,QAGjC,I9CjFgC,uB8CkF9B,OAAO,2BACF5B,GADL,IAEEswB,iBAAkBL,EAAOruB,QAG7B,I9CrFiC,wB8CuF/B,OADA4B,QAAQC,IAAI,mBAAoBwsB,EAAOruB,OAChC,2BACF5B,GADL,IAEEuwB,kBAAmBN,EAAOruB,QAG9B,I9C1FoC,2B8C2FlC,OAAO,2BACF5B,GADL,IAEEwwB,sBAAuBP,EAAOruB,QAGlC,QACE,OAAO5B,GClGb,IAAMsvB,GAAe,GAEN,SAASpnB,KAAqC,IAA/BlI,EAA8B,uDAAtBsvB,GAAcW,EAAQ,uCAC1D,OAAQA,EAAOlsB,MACb,I/CRwB,e+CSxB,I/CPyB,gB+CQzB,I/CI2B,kB+CH3B,I/CD6B,oB+CE3B,OAAOksB,EACT,QACE,OAAOjwB,GCjBN,ICoBH4wB,GAXAtB,GAAe,CACjBnsB,WAAY,GACZD,KAAM,CACJF,YAAa,CACX+Y,cAAe,GACfD,mBAAoB,KAGxBnb,UAAU,EACVsE,SAAS,GAGX,IACE2rB,GAAU,2BAAQtB,IDtBK,WACvB,IACE,IAAMuB,EAAkBC,aAAaC,QAAQ,SAC7C,GAAwB,OAApBF,EACF,OAEF,OAAOxuB,KAAK2uB,MAAMH,GAClB,MAAOI,GACP,QCciCC,IACnC,MAAO7tB,IACPutB,GAAatB,GAGA,SAASnvB,KAAkC,IAA7BH,EAA4B,uDAApB4wB,GAAYX,EAAQ,uCACvD,OAAQA,EAAOlsB,MACb,IjDwByB,gBiDvBvB,IAAIotB,EAMJ,OAFEA,EAHGlB,EAAO9vB,KAAK+C,KAAKF,YAGLitB,EAAO9vB,KAAK+C,KAAKF,YAFjBssB,GAAapsB,KAAKF,YAI5B,CACLG,WAAY8sB,EAAO9vB,KAAKgD,WACxBD,KAAK,uCACAlD,EAAMkD,MACN+sB,EAAO9vB,KAAK+C,MAFb,IAGFF,YAAY,2BAAMhD,EAAMkD,KAAKF,aAAgBmuB,KAE/CxwB,UAAU,GAEd,IjDUkB,SiDThB,OAAO2uB,GAGT,IjDS8B,qBiDR5B,OAAO,2BACFtvB,GADL,IAEEkD,KAAK,2BACAlD,EAAMkD,MADP,IAEFF,YAAY,2BAAMhD,EAAMkD,KAAKF,aAAgBitB,EAAOjtB,iBAI1D,IjDI4B,mBiDH1B,OAAO,2BACFhD,GADL,IAEEiF,SAAS,IAGb,IjDH+B,sBiDI7B,OAAO,2BACFjF,GADL,IAEEiF,SAAS,IAGb,QACE,OAAOjF,GChEb,IAAMsvB,GAAe,CACnBha,MAAM,EACNmZ,qBAAqB,GAGR,SAASnnB,KAAoC,IAA/BtH,EAA8B,uDAAtBsvB,GAAcW,EAAQ,uCACzD,OAAQA,EAAOlsB,MACb,IlD8ByB,gBkD7BvB,OAAO,2BAAK/D,GAAZ,IAAmBsV,MAAOtV,EAAMsV,OAElC,IlD2CuB,ckDzCrB,OADA9R,QAAQC,IAAI,wBACL,2BAAKzD,GAAZ,IAAmByuB,qBAAqB,IAE1C,IlDyC4B,mBkDxC5B,IlDuC+B,sBkDrC7B,OADAjrB,QAAQC,IAAI,sBACL,2BAAKzD,GAAZ,IAAmByuB,qBAAqB,IAE1C,QACE,OAAOzuB,GCyBb,IAAMsvB,GAAe,CACnB8B,gBAAgB,EAChBC,gBAAgB,EAChBxK,sBAAsB,EACtBK,sBAAsB,EACtBK,2BAA2B,EAC3BK,kBAAkB,EAClBK,yBAAyB,EACzBK,0BAA0B,EAC1BK,2BAA2B,EAC3BK,uBAAuB,EACvBK,gCAAgC,EAChCK,0BAA0B,EAC1BK,sBAAsB,EACtBK,qBAAqB,EACrBK,6BAA6B,EAC7BK,oBAAoB,EACpBK,yBAAyB,EACzBK,gBAAgB,EAChB8F,iBAAiB,EACjBC,iBAAiB,EACjBzK,iBAAiB,EACjBK,iBAAiB,EACjBK,sBAAsB,EACtBK,aAAa,EACbK,oBAAoB,EACpBK,qBAAqB,EACrBK,sBAAsB,EACtBK,kBAAkB,EAClBK,2BAA2B,EAC3BK,qBAAqB,EACrBK,iBAAiB,EACjBK,gBAAgB,EAChBK,wBAAwB,EACxBK,eAAe,EACfK,oBAAoB,EACpBK,WAAW,EACXzE,uBAAwB,GACxBK,uBAAwB,GACxBK,4BAA6B,GAC7BK,mBAAoB,GACpBK,0BAA2B,GAC3BK,2BAA4B,GAC5BK,4BAA6B,GAC7BK,wBAAyB,GACzBK,iCAAkC,GAClCK,2BAA4B,GAC5BK,uBAAwB,GACxBK,sBAAuB,GACvBK,8BAA+B,GAC/BK,qBAAsB,GACtBK,0BAA2B,GAC3BK,iBAAkB,GAClB5E,kBAAmB,MACnBK,kBAAmB,OACnBK,uBAAwB,KACxBK,cAAe,OACfK,qBAAsB,OACtBK,sBAAuB,UACvBK,uBAAwB,KACxBK,mBAAoB,MACpBK,4BAA6B,MAC7BK,sBAAuB,2BACvBK,kBAAmB,aACnBK,iBAAkB,QAClBK,yBAA0B,MAC1BK,gBAAiB,WACjBK,qBAAsB,MACtBK,YAAa,QAGT0F,GAAiB,SAAApxB,GACrB,OACEA,EAAM8mB,iBACN9mB,EAAMmnB,iBACNnnB,EAAMwnB,sBACNxnB,EAAM6nB,aACN7nB,EAAMkoB,oBAIJoJ,GAAkB,SAAAtxB,GACtB,OACEA,EAAM6mB,sBACN7mB,EAAMknB,sBACNlnB,EAAMunB,2BACNvnB,EAAM4nB,kBACN5nB,EAAMioB,yBAIJsJ,GAAkB,SAAAvxB,GACtB,OACEA,EAAMsoB,0BACNtoB,EAAM2oB,2BACN3oB,EAAMgpB,uBACNhpB,EAAMqpB,gCACNrpB,EAAM0pB,0BACN1pB,EAAM+pB,sBACN/pB,EAAMoqB,qBACNpqB,EAAMyqB,6BACNzqB,EAAM8qB,oBACN9qB,EAAMmrB,yBACNnrB,EAAMwxB,iBAIJH,GAAiB,SAAArxB,GACrB,OACEA,EAAMuoB,qBACNvoB,EAAM4oB,sBACN5oB,EAAMipB,kBACNjpB,EAAMspB,2BACNtpB,EAAM2pB,qBACN3pB,EAAMgqB,iBACNhqB,EAAMqqB,gBACNrqB,EAAM0qB,wBACN1qB,EAAM+qB,eACN/qB,EAAMorB,oBACNprB,EAAMyrB,WAIK,SAAS7E,KAAwC,IAA/B5mB,EAA8B,uDAAtBsvB,GAAcW,EAAQ,uCAC7D,OAAQA,EAAOlsB,MACb,InD9G6B,oBmD+G3B,OAAO,2BAAK/D,GAAZ,uCAAiCiwB,EAAO7S,SAAW,IACrD,InD9G+B,sBmD+G/B,InDzG+B,sBmD0G/B,InDnGF,6BmDoGE,InD9F2B,kBmD+F3B,InD3FmC,0BmD4FnC,InDtFoC,2BmDuFpC,InDhFF,4BmDiFE,InD3EiC,wBmD4EjC,InDrEF,kCmDsEE,InDhEoC,2BmDiEpC,InD3DgC,uBmD4DhC,InDtD8B,qBmDuD9B,InDjDF,8BmDkDE,InD5C6B,oBmD6C7B,InDxCmC,0BmDyCnC,InDnCyB,gBmDoCvB,OAAO6S,EACT,InD7HF,8BmD8HI,IAAIS,EAAQ,2BACP1wB,GADO,IAEV+mB,kBAAmBuI,GAAavI,kBAChCD,iBAAiB,EACjBE,uBAAwB,GACxBH,sBAAsB,IAExB,OAAO,2BACF6J,GADL,IAEEU,eAAgBA,GAAeV,GAC/BY,gBAAiBA,GAAgBZ,KAErC,InDpIF,8BmD4II,OAPAA,EAAQ,2BACH1wB,GADG,IAENonB,kBAAmBkI,GAAalI,kBAChCD,iBAAiB,EACjBE,uBAAwB,GACxBH,sBAAsB,IAEjB,2BACFwJ,GADL,IAEEU,eAAgBA,GAAeV,GAC/BY,gBAAiBA,GAAgBZ,KAGrC,InD3IF,qCmDmJI,OAPAA,EAAQ,2BACH1wB,GADG,IAENynB,uBAAwB6H,GAAa7H,uBACrCD,sBAAsB,EACtBE,4BAA6B,GAC7BH,2BAA2B,IAEtB,2BACFmJ,GADL,IAEEU,eAAgBA,GAAeV,GAC/BY,gBAAiBA,GAAgBZ,KAGrC,InDpJmC,0BmD4JjC,OAPAA,EAAQ,2BACH1wB,GADG,IAEN8nB,cAAewH,GAAaxH,cAC5BD,aAAa,EACbE,mBAAoB,GACpBH,kBAAkB,IAEb,2BACF8I,GADL,IAEEU,eAAgBA,GAAeV,GAC/BY,gBAAiBA,GAAgBZ,KAGrC,InD7JF,kCmDqKI,OAPAA,EAAQ,2BACH1wB,GADG,IAENmoB,qBAAsBmH,GAAanH,qBACnCD,oBAAoB,EACpBE,0BAA2B,GAC3BH,yBAAyB,IAEpB,2BACFyI,GADL,IAEEU,eAAgBA,GAAeV,GAC/BY,gBAAiBA,GAAgBZ,KAGrC,InDrKF,mCmD6KI,OAPAA,EAAQ,2BACH1wB,GADG,IAENwoB,sBAAuB8G,GAAa9G,sBACpCD,qBAAqB,EACrBE,2BAA4B,GAC5BH,0BAA0B,IAErB,2BACFoI,GADL,IAEEW,eAAgBA,GAAerxB,GAC/BuxB,gBAAiBA,GAAgBb,KAErC,InD3KF,oCmDmLI,OAPAA,EAAQ,2BACH1wB,GADG,IAEN6oB,uBAAwByG,GAAazG,uBACrCD,sBAAsB,EACtBE,4BAA6B,GAC7BH,2BAA2B,IAEtB,2BACF+H,GADL,IAEEW,eAAgBA,GAAerxB,GAC/BuxB,gBAAiBA,GAAgBb,KAGrC,InDnLF,gCmD2LI,OAPAA,EAAQ,2BACH1wB,GADG,IAENkpB,mBAAoBoG,GAAapG,mBACjCD,kBAAkB,EAClBE,wBAAyB,GACzBH,uBAAuB,IAElB,2BACF0H,GADL,IAEEW,eAAgBA,GAAerxB,GAC/BuxB,gBAAiBA,GAAgBb,KAGrC,InD1LF,0CmDkMI,OAPAA,EAAQ,2BACH1wB,GADG,IAENupB,4BAA6B+F,GAAa/F,4BAC1CD,2BAA2B,EAC3BE,iCAAkC,GAClCH,gCAAgC,IAE3B,2BACFqH,GADL,IAEEW,eAAgBA,GAAerxB,GAC/BuxB,gBAAiBA,GAAgBb,KAGrC,InDlMF,mCmD0MI,OAPAA,EAAQ,2BACH1wB,GADG,IAEN4pB,sBAAuB0F,GAAa1F,sBACpCD,qBAAqB,EACrBE,2BAA4B,GAC5BH,0BAA0B,IAErB,2BACFgH,GADL,IAEEW,eAAgBA,GAAerxB,GAC/BuxB,gBAAiBA,GAAgBb,KAGrC,InD1MF,+BmDkNI,OAPAA,EAAQ,2BACH1wB,GADG,IAENiqB,kBAAmBqF,GAAarF,kBAChCD,iBAAiB,EACjBE,uBAAwB,GACxBH,sBAAsB,IAEjB,2BACF2G,GADL,IAEEW,eAAgBA,GAAerxB,GAC/BuxB,gBAAiBA,GAAgBb,KAGrC,InDlNF,6BmD0NI,OAPAA,EAAQ,2BACH1wB,GADG,IAENsqB,iBAAkBgF,GAAahF,iBAC/BD,gBAAgB,EAChBE,sBAAuB,GACvBH,qBAAqB,IAEhB,2BACFsG,GADL,IAEEW,eAAgBA,GAAerxB,GAC/BuxB,gBAAiBA,GAAgBb,KAGrC,InD1NF,sCmDkOI,OAPAA,EAAQ,2BACH1wB,GADG,IAEN2qB,yBAA0B2E,GAAa3E,yBACvCD,wBAAwB,EACxBE,8BAA+B,GAC/BH,6BAA6B,IAExB,2BACFiG,GADL,IAEEW,eAAgBA,GAAerxB,GAC/BuxB,gBAAiBA,GAAgBb,KAGrC,InDlOF,4BmD0OI,OAPAA,EAAQ,2BACH1wB,GADG,IAENgrB,gBAAiBsE,GAAatE,gBAC9BD,eAAe,EACfE,qBAAsB,GACtBH,oBAAoB,IAEf,2BACF4F,GADL,IAEEW,eAAgBA,GAAerxB,GAC/BuxB,gBAAiBA,GAAgBb,KAGrC,InD3OF,kCmDmPI,OAPAA,EAAQ,2BACH1wB,GADG,IAENqrB,qBAAsBiE,GAAajE,qBACnCD,oBAAoB,EACpBE,0BAA2B,GAC3BH,yBAAyB,IAEpB,2BACFuF,GADL,IAEEW,eAAgBA,GAAerxB,GAC/BuxB,gBAAiBA,GAAgBb,KAGrC,InDpPiC,wBmD4P/B,OAPAA,EAAQ,2BACH1wB,GADG,IAEN0rB,YAAa4D,GAAa5D,YAC1BD,WAAW,EACXE,iBAAkB,GAClBH,gBAAgB,IAEX,2BACFkF,GADL,IAEEW,eAAgBA,GAAerxB,GAC/BuxB,gBAAiBA,GAAgBb,KAGrC,InDzVF,4BmDkWI,OARAA,EAAQ,2BACH1wB,GADG,IAEN8mB,iBAAiB,EACjBC,kBAAmB,GACnBC,uBAAwBiJ,EAAOruB,MAAMyG,QACrC+oB,gBAAgB,EAChBvK,sBAAsB,IAEjB,2BAAK6J,GAAZ,IAAsBY,gBAAiBA,GAAgBZ,KAEzD,InD9VF,4BmDuWI,OARAA,EAAQ,2BACH1wB,GADG,IAENmnB,iBAAiB,EACjBC,kBAAmB,GACnBC,uBAAwB4I,EAAOruB,MAAMyG,QACrC+oB,gBAAgB,EAChBlK,sBAAsB,IAEjB,2BAAKwJ,GAAZ,IAAsBY,gBAAiBA,GAAgBZ,KAEzD,InDlWF,mCmD2WI,OARAA,EAAQ,2BACH1wB,GADG,IAENwnB,sBAAsB,EACtBC,uBAAwB,GACxBC,4BAA6BuI,EAAOruB,MAAMyG,QAC1C+oB,gBAAgB,EAChB7J,2BAA2B,IAEtB,2BAAKmJ,GAAZ,IAAsBY,gBAAiBA,GAAgBZ,KAEzD,InDzWiC,wBmDkX/B,OARAA,EAAQ,2BACH1wB,GADG,IAEN6nB,aAAa,EACbC,cAAe,GACfC,mBAAoBkI,EAAOruB,MAAMyG,QACjC+oB,gBAAgB,EAChBxJ,kBAAkB,IAEb,2BAAK8I,GAAZ,IAAsBY,gBAAiBA,GAAgBZ,KAEzD,InD9WF,gCmDuXI,OARAA,EAAQ,2BACH1wB,GADG,IAENkoB,oBAAoB,EACpBC,qBAAsB,GACtBC,0BAA2B6H,EAAOruB,MAAMyG,QACxC+oB,gBAAgB,EAChBnJ,yBAAyB,IAEpB,2BAAKyI,GAAZ,IAAsBY,gBAAiBA,GAAgBZ,KAEzD,InDnXF,iCmD4XI,OARAA,EAAQ,2BACH1wB,GADG,IAENuoB,qBAAqB,EACrBC,sBAAuB,GACvBC,2BAA4BwH,EAAOruB,MAAMyG,QACzCgpB,gBAAgB,EAChB/I,0BAA0B,IAErB,2BAAKoI,GAAZ,IAAsBa,gBAAiBA,GAAgBb,KAEzD,InDvXF,kCmDgYI,OARAA,EAAQ,2BACH1wB,GADG,IAEN4oB,sBAAsB,EACtBC,uBAAwB,GACxBC,4BAA6BmH,EAAOruB,MAAMyG,QAC1CgpB,gBAAgB,EAChB1I,2BAA2B,IAEtB,2BAAK+H,GAAZ,IAAsBa,gBAAiBA,GAAgBb,KAEzD,InD5XF,8BmDqYI,OARAA,EAAQ,2BACH1wB,GADG,IAENipB,kBAAkB,EAClBC,mBAAoB,GACpBC,wBAAyB8G,EAAOruB,MAAMyG,QACtCgpB,gBAAgB,EAChBrI,uBAAuB,IAElB,2BAAK0H,GAAZ,IAAsBa,gBAAiBA,GAAgBb,KAEzD,InDhYF,wCmDyYI,OARAA,EAAQ,2BACH1wB,GADG,IAENspB,2BAA2B,EAC3BC,4BAA6B,GAC7BC,iCAAkCyG,EAAOruB,MAAMyG,QAC/CgpB,gBAAgB,EAChBhI,gCAAgC,IAE3B,2BAAKqH,GAAZ,IAAsBa,gBAAiBA,GAAgBb,KAEzD,InDrYF,iCmD8YI,OARAA,EAAQ,2BACH1wB,GADG,IAEN2pB,qBAAqB,EACrBC,sBAAuB,GACvBC,2BAA4BoG,EAAOruB,MAAMyG,QACzCgpB,gBAAgB,EAChB3H,0BAA0B,IAErB,2BAAKgH,GAAZ,IAAsBa,gBAAiBA,GAAgBb,KAEzD,InD1YF,6BmDmZI,OARAA,EAAQ,2BACH1wB,GADG,IAENgqB,iBAAiB,EACjBC,kBAAmB,GACnBC,uBAAwB+F,EAAOruB,MAAMyG,QACrCgpB,gBAAgB,EAChBtH,sBAAsB,IAEjB,2BAAK2G,GAAZ,IAAsBa,gBAAiBA,GAAgBb,KAEzD,InDhZoC,2BmDyZlC,OARAA,EAAQ,2BACH1wB,GADG,IAENqqB,gBAAgB,EAChBC,iBAAkB,GAClBC,sBAAuB0F,EAAOruB,MAAMyG,QACpCgpB,gBAAgB,EAChBjH,qBAAqB,IAEhB,2BAAKsG,GAAZ,IAAsBa,gBAAiBA,GAAgBb,KAEzD,InDpZF,oCmD6ZI,OARAA,EAAQ,2BACH1wB,GADG,IAEN0qB,wBAAwB,EACxBC,yBAA0B,GAC1BC,8BAA+BqF,EAAOruB,MAAMyG,QAC5CgpB,gBAAgB,EAChB5G,6BAA6B,IAExB,2BAAKiG,GAAZ,IAAsBa,gBAAiBA,GAAgBb,KAEzD,InD1ZmC,0BmDmajC,OARAA,EAAQ,2BACH1wB,GADG,IAEN+qB,eAAe,EACfC,gBAAiB,GACjBC,qBAAsBgF,EAAOruB,MAAMyG,QACnCgpB,gBAAgB,EAChBvG,oBAAoB,IAEf,2BAAK4F,GAAZ,IAAsBa,gBAAiBA,GAAgBb,KAEzD,InD/ZF,gCmDwaI,OARAA,EAAQ,2BACH1wB,GADG,IAENorB,oBAAoB,EACpBC,qBAAsB,GACtBC,0BAA2B2E,EAAOruB,MAAMyG,QACxCgpB,gBAAgB,EAChBlG,yBAAyB,IAEpB,2BAAKuF,GAAZ,IAAsBa,gBAAiBA,GAAgBb,KAEzD,InDta+B,sBmD+a7B,OARAA,EAAQ,2BACH1wB,GADG,IAENyrB,WAAW,EACXC,YAAa,GACbC,iBAAkBsE,EAAOruB,MAAMyG,QAC/BgpB,gBAAgB,EAChB7F,gBAAgB,IAEX,2BAAKkF,GAAZ,IAAsBa,gBAAiBA,GAAgBb,KAEzD,QACE,OAAO1wB,GC7kBb,IAAMsvB,GAAe,CACnBmC,UAAU,EACVhO,OAAQ,IAGK,SAASnc,KAAoC,IAA/BtH,EAA8B,uDAAtBsvB,GAAcW,EAAQ,uCACzD,OAAQA,EAAOlsB,MACb,IpDwBwC,+BoDvBtC,MAAO,CACL0f,OAAQ,GACRgO,UAAU,GAEd,IpDoBwC,+BoDnBtC,MAAO,CACLhO,OAAQwM,EAAOxM,OACfgO,UAAU,GAEd,IpDa6B,oBoDZ3B,OAAO,2BACFzxB,GADL,IAEEyxB,UAAU,IAEd,QACE,OAAOzxB,G,kCChBP+B,GAAU2vB,OAKVC,GAAaC,aAAiB7vB,ICRpC,IAAMA,GAAU2vB,OACVG,GDUGC,YACLC,YAAgB,CACdtO,UACAnc,QACAsf,YACAzmB,QACAiM,UACAzB,UACAqnB,WACAC,OAAQC,OAEVtqB,OAAOuqB,8BACLvqB,OAAOuqB,+BACTC,YAAgBC,KAAOV,KCrB3BE,GAAMS,UACJviB,MAAS,YNFc,SAAA/P,GACvB,IACE,IAAM6wB,EAAkBxuB,KAAKC,UAAUtC,GACvC8wB,aAAayB,QAAQ,QAAS1B,GAC9B,MAAOI,KMDPuB,CAAUX,GAAMY,WAAWtyB,QAC1B,MAGLuyB,IAASjyB,OACP,kBAAC,IAAD,CAAUoxB,MAAOA,IACf,kBAAC,KAAD,CAAiB9vB,QAASA,IACxB,kBAAC,GAAD,QAGJyL,SAASC,eAAe,W","file":"static/js/main.45964637.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mongoleaf.0ebc1843.png\";","module.exports = __webpack_public_path__ + \"static/media/pixelatedLeaf.6c93bd20.svg\";","import { connect } from \"react-redux\"\nimport { Switch } from \"react-router-dom\"\nconst ConnectedSwitch = connect(state => ({\n  location: state.location,\n}))(Switch)\n\nexport default ConnectedSwitch\n","import React from \"react\"\nimport { Route, Redirect } from \"react-router-dom\"\nimport { connect } from \"react-redux\"\n\nconst PrivateRoute = ({\n  component: Component,\n  redirectRoute,\n  user,\n  ...rest\n}) => {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        user.loggedIn ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to={redirectRoute} />\n        )\n      }\n    />\n  )\n}\n\nconst mapStateToProps = ({ user }) => ({ user })\n\nexport default connect(mapStateToProps)(PrivateRoute)\n","/**\n * Parses the JSON returned by a network request\n *\n * @param  {object} response A response from a network request\n *\n * @return {object}          The parsed JSON, status from the response\n */\nfunction parseJSON(response) {\n  return new Promise(resolve =>\n    response.json().then(json =>\n      resolve({\n        status: response.status,\n        ok: response.ok,\n        json\n      })\n    )\n  )\n}\n\n/**\n * Requests a URL, returning a promise\n *\n * @param  {string} url       The URL we want to request\n * @param  {object} [options] The options we want to pass to \"fetch\"\n *\n * @return {Promise}           The request promise\n */\nexport default function request(url, options) {\n  return new Promise((resolve, reject) => {\n    fetch(url, options)\n      .then(parseJSON)\n      .then(response => {\n        if (response.ok) {\n          return resolve(response.json)\n        }\n        // extract the error from the server's json\n        return reject(response.json)\n      })\n      .catch(error =>\n        reject({\n          error\n        })\n      )\n  })\n}\n\nexport function requestWithStatus(url, options) {\n  return new Promise((resolve, reject) => {\n    fetch(url, options)\n      .then(parseJSON)\n      .then(response => {\n        let { json, status, ok } = response\n        if (response.ok) {\n          return resolve({ json, status, ok })\n        }\n        // extract the error from the server's json\n        return reject({ json, status, ok })\n      })\n      .catch(error =>\n        reject({\n          error\n        })\n      )\n  })\n}\n","import * as types from \"./actionTypes\"\nimport request from \"./request\"\n\nexport function login(json, history) {\n  return dispatch => {\n    return request(`/api/v1/user/login`, {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify(json),\n    })\n      .then(user => dispatch(loginSuccess(user)))\n      .then(history.push(\"/\"))\n      .catch(error => dispatch(loginFail({ error })))\n  }\n}\n\nexport function register(json, history) {\n  return dispatch => {\n    return request(`/api/v1/user/register`, {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify(json),\n    })\n      .then(user => {\n        dispatch(loginSuccess(user))\n      })\n      .then(history.push(\"/\"))\n      .catch(error => {\n        return dispatch(loginFail({ error }))\n      })\n  }\n}\n\nexport function logout(token) {\n  return dispatch => {\n    return request(`/api/v1/user/logout`, {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"content-type\": \"application/json\",\n      },\n    })\n      .then(dispatch(loggedOut()))\n      .catch(dispatch(loggedOut()))\n  }\n}\n\nexport function updatePrefs(preferences, user) {\n  return dispatch => {\n    let updatedPreferences = { ...user.info.preferences, ...preferences }\n    return request(`/api/v1/user/update-preferences`, {\n      method: \"PUT\",\n      mode: \"cors\",\n      headers: {\n        Authorization: `Bearer ${user.auth_token}`,\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({ preferences: updatedPreferences }),\n    })\n      .then(dispatch(savePrefs(preferences)))\n      .catch(e => dispatch(failSavePrefs()))\n  }\n}\n\nexport function checkAdminStatus(user) {\n  console.log(\"check admin status beginning function\")\n  return dispatch => {\n    dispatch(beginAdminCheck())\n    return request(`/api/v1/user/admin`, {\n      method: \"GET\",\n      mode: \"cors\",\n      headers: {\n        Authorization: `Bearer ${user.auth_token}`,\n        \"content-type\": \"application/json\",\n      },\n    })\n      .then(json => checkAdminReturn(json))\n      .then(() => dispatch(adminSuccess()))\n      .catch(() => dispatch(adminFail()))\n  }\n}\n\nfunction checkAdminReturn(json) {\n  if (!json.status === \"success\") {\n    throw new Error(\"not authorized\")\n  }\n  return json\n}\n\nexport function beginAdminCheck() {\n  return { type: types.CHECK_ADMIN }\n}\n\nexport function adminSuccess() {\n  console.log(\"admin check ok\")\n  return { type: types.CHECK_ADMIN_SUCCESS }\n}\n\nexport function adminFail() {\n  console.log(\"admin check fail\")\n  return { type: types.CHECK_ADMIN_FAIL }\n}\n\nexport function savePrefs(preferences) {\n  return { type: types.SAVE_PREFS_SUCCESS, preferences }\n}\n\nexport function failSavePrefs() {\n  return {\n    type: types.SAVE_PREFS_FAIL,\n    error: \"Failed to save user preference\",\n  }\n}\n\nexport function loggedOut() {\n  return { type: types.LOGOUT }\n}\n\nexport function loginSuccess(user) {\n  return { type: types.LOGIN_SUCCESS, user }\n}\n\nexport function loginFail(error) {\n  return { type: types.LOGIN_FAIL, error }\n}\n","/**\n * Movie actions\n */\nexport const FETCH_MOVIES = \"FETCH_MOVIES\"\nexport const FETCH_MOVIES_FAILURE = \"FETCH_MOVIES_FAILURE\"\nexport const SEARCH_MOVIES = \"SEARCH_MOVIES\"\nexport const SEARCH_MOVIES_FAILURE = \"SEARCH_MOVIES_FAILURE\"\nexport const SEARCH_COUNTRIES = \"SEARCH_COUNTRIES\"\nexport const SEARCH_COUNTRIES_FAILURE = \"SEARCH_COUNTRIES_FAILURE\"\nexport const RECEIVED_COUNTRY_RESULTS = \"RECEIVED_COUNTRY_RESULTS\"\nexport const RECEIVED_MOVIES = \"RECEIVED_MOVIES\"\nexport const MOVIE_DETAIL = \"MOVIE_DETAIL\"\nexport const RECEIVED_SEARCH_RESULTS = \"RECEIVED_SEARCH_RESULTS\"\nexport const FETCH_MOVIE_BY_ID = \"FETCH_MOVIE_BY_ID\"\nexport const FETCH_MOVIE_BY_ID_FAILURE = \"FETCH_MOVIE_BY_ID_FAILURE\"\nexport const RECEIVED_MOVIE_BY_ID = \"RECEIVED_MOVIE_BY_ID\"\nexport const VIEW_MOVIE = \"VIEW_MOVIE\"\nexport const PAGINATE_MOVIES = \"PAGINATE_MOVIES\"\nexport const RECEIVED_PAGINATION = \"RECEIVED_PAGINATION\"\nexport const BEGIN_PAGING = \"BEGIN_PAGING\"\nexport const PROP_FACET_FILTER = \"PROP_FACET_FILTER\"\nexport const SUBMIT_COMMENT = \"SUBMIT_COMMENT\"\nexport const SUBMIT_COMMENT_SUCCESS = \"SUBMIT_COMMENT_SUCCESS\"\nexport const SUBMIT_COMMENT_FAIL = \"SUBMIT_COMMENT_FAIL\"\nexport const UPDATE_COMMENT = \"UPDATE_COMMENT\"\nexport const UPDATE_COMMENT_SUCCESS = \"UPDATE_COMMENT_SUCCESS\"\nexport const UPDATE_COMMENT_FAIL = \"UPDATE_COMMENT_FAIL\"\nexport const DELETE_COMMENT = \"DELETE_COMMENT\"\nexport const DELETE_COMMENT_SUCCESS = \"DELETE_COMMENT_SUCCESS\"\nexport const DELETE_COMMENT_FAIL = \"DELETE_COMMENT_FAIL\"\nexport const CLEAR_ERROR = \"CLEAR_ERROR\"\n\n/**\n * Report Actions\n */\n\nexport const FETCH_USER_REPORT = \"FETCH_USER_REPORT\"\nexport const RECEIVED_USER_REPORT_FAILURE = \"RECEIVED_USER_REPORT_FAILURE\"\nexport const RECEIVED_USER_REPORT_SUCCESS = \"RECEIVED_USER_REPORT_SUCCESS\"\n\n/**\n * Miscellaneous actions\n */\n\nexport const TOGGLE_DRAWER = \"TOGGLE_DRAWER\"\nexport const NO_OP = \"NO_OP\"\n\n/**\n * User actions\n */\n\nexport const LOGIN = \"LOGIN\"\nexport const REGISTER = \"REGISTER\"\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\"\nexport const LOGIN_FAIL = \"LOGIN_FAIL\"\nexport const LOGOUT = \"LOGOUT\"\nexport const UPDATE_PREFS = \"UPDATE_PREFS\"\nexport const SAVE_PREFS = \"SAVE_PREFS\"\nexport const SAVE_PREFS_SUCCESS = \"SAVE_PREFS_SUCCESS\"\nexport const SAVE_PREFS_FAIL = \"SAVE_PREFS_FAIL\"\nexport const CHECK_ADMIN = \"CHECK_ADMIN\"\nexport const CHECK_ADMIN_SUCCESS = \"CHECK_ADMIN_SUCCESS\"\nexport const CHECK_ADMIN_FAIL = \"CHECK_ADMIN_FAIL\"\n\n/**\n * Validation Actions\n */\nexport const VALIDATING_TICKET = \"VALIDATING_TICKET\"\n\nexport const VALIDATE_CONNECTION = \"VALIDATE_CONNECTION\"\nexport const VALIDATE_CONNECTION_SUCCESS =\n  \"VALIDATE_CONNECTION_SUCCESS\"\nexport const VALIDATE_CONNECTION_ERROR =\n  \"VALIDATE_CONNECTION_ERROR\"\n\nexport const VALIDATE_PROJECTION = \"VALIDATE_PROJECTION\"\nexport const VALIDATE_PROJECTION_SUCCESS =\n  \"VALIDATE_PROJECTION_SUCCESS\"\nexport const VALIDATE_PROJECTION_ERROR =\n  \"VALIDATE_PROJECTION_ERROR\"\n\nexport const VALIDATE_TEXT_AND_SUBFIELD =\n  \"VALIDATE_TEXT_AND_SUBFIELD\"\nexport const VALIDATE_TEXT_AND_SUBFIELD_SUCCESS =\n  \"VALIDATE_TEXT_AND_SUBFIELD_SUCCESS\"\nexport const VALIDATE_TEXT_AND_SUBFIELD_ERROR =\n  \"VALIDATE_TEXT_AND_SUBFIELD_ERROR\"\n\nexport const VALIDATE_PAGING = \"VALIDATE_PAGING\"\nexport const VALIDATE_PAGING_SUCCESS = \"VALIDATE_PAGING_SUCCESS\"\nexport const VALIDATE_PAGING_ERROR = \"VALIDATE_PAGING_ERROR\"\n\nexport const VALIDATE_FACETED_SEARCH = \"VALIDATE_FACETED_SEARCH\"\nexport const VALIDATE_FACETED_SEARCH_SUCCESS =\n  \"VALIDATE_FACETED_SEARCH_SUCCESS\"\nexport const VALIDATE_FACETED_SEARCH_ERROR =\n  \"VALIDATE_FACETED_SEARCH_ERROR\"\n\nexport const VALIDATE_USER_MANAGEMENT = \"VALIDATE_USER_MANAGEMENT\"\nexport const VALIDATE_USER_MANAGEMENT_SUCCESS =\n  \"VALIDATE_USER_MANAGEMENT_SUCCESS\"\nexport const VALIDATE_USER_MANAGEMENT_ERROR =\n  \"VALIDATE_USER_MANAGEMENT_ERROR\"\n\nexport const VALIDATE_USER_PREFERENCES =\n  \"VALIDATE_USER_PREFERENCES\"\nexport const VALIDATE_USER_PREFERENCES_SUCCESS =\n  \"VALIDATE_USER_PREFERENCES_SUCCESS\"\nexport const VALIDATE_USER_PREFERENCES_ERROR =\n  \"VALIDATE_USER_PREFERENCES_ERROR\"\n\nexport const VALIDATE_GET_COMMENTS = \"VALIDATE_GET_COMMENTS\"\nexport const VALIDATE_GET_COMMENTS_SUCCESS =\n  \"VALIDATE_GET_COMMENTS_SUCCESS\"\nexport const VALIDATE_GET_COMMENTS_ERROR =\n  \"VALIDATE_GET_COMMENTS_ERROR\"\n\nexport const VALIDATE_CREATE_UPDATE_COMMENTS =\n  \"VALIDATE_CREATE_UPDATE_COMMENTS\"\nexport const VALIDATE_CREATE_UPDATE_COMMENTS_SUCCESS =\n  \"VALIDATE_CREATE_UPDATE_COMMENTS_SUCCESS\"\nexport const VALIDATE_CREATE_UPDATE_COMMENTS_ERROR =\n  \"VALIDATE_CREATE_UPDATE_COMMENTS_ERROR\"\n\nexport const VALIDATE_DELETE_COMMENTS = \"VALIDATE_DELETE_COMMENTS\"\nexport const VALIDATE_DELETE_COMMENTS_SUCCESS =\n  \"VALIDATE_DELETE_COMMENTS_SUCCESS\"\nexport const VALIDATE_DELETE_COMMENTS_ERROR =\n  \"VALIDATE_DELETE_COMMENTS_ERROR\"\n\nexport const VALIDATE_USER_REPORT = \"VALIDATE_USER_REPORT\"\nexport const VALIDATE_USER_REPORT_SUCCESS =\n  \"VALIDATE_USER_REPORT_SUCCESS\"\nexport const VALIDATE_USER_REPORT_ERROR =\n  \"VALIDATE_USER_REPORT_ERROR\"\n\nexport const VALIDATE_MIGRATION = \"VALIDATE_MIGRATION\"\nexport const VALIDATE_MIGRATION_SUCCESS =\n  \"VALIDATE_MIGRATION_SUCCESS\"\nexport const VALIDATE_MIGRATION_ERROR = \"VALIDATE_MIGRATION_ERROR\"\n\nexport const VALIDATE_CONNECTION_POOLING =\n  \"VALIDATE_CONNECTION_POOLING\"\nexport const VALIDATE_CONNECTION_POOLING_SUCCESS =\n  \"VALIDATE_CONNECTION_POOLING_SUCCESS\"\nexport const VALIDATE_CONNECTION_POOLING_ERROR =\n  \"VALIDATE_CONNECTION_POOLING_ERROR\"\n\nexport const VALIDATE_TIMEOUTS = \"VALIDATE_TIMEOUTS\"\nexport const VALIDATE_TIMEOUTS_SUCCESS =\n  \"VALIDATE_TIMEOUTS_SUCCESS\"\nexport const VALIDATE_TIMEOUTS_ERROR = \"VALIDATE_TIMEOUTS_ERROR\"\n\nexport const VALIDATE_ERROR_HANDLING = \"VALIDATE_ERROR_HANDLING\"\nexport const VALIDATE_ERROR_HANDLING_SUCCESS =\n  \"VALIDATE_ERROR_HANDLING_SUCCESS\"\nexport const VALIDATE_ERROR_HANDLING_ERROR =\n  \"VALIDATE_ERROR_HANDLING_ERROR\"\n\nexport const VALIDATE_POLP = \"VALIDATE_POLP\"\nexport const VALIDATE_POLP_SUCCESS = \"VALIDATE_POLP_SUCCESS\"\nexport const VALIDATE_POLP_ERROR = \"VALIDATE_POLP_ERROR\"\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { Link } from \"react-router-dom\"\nimport Button from \"@material-ui/core/Button\"\nimport grey from \"@material-ui/core/colors/grey\"\nimport { connect } from \"react-redux\"\nimport { compose } from \"redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as userActions from \"../actions/userActions\"\nimport { withRouter } from \"react-router-dom\"\n\nconst mongoGrey = grey[900]\n\nconst styles = theme => ({\n  buttonStyle: {\n    margin: theme.spacing.unit - 2,\n    height: \"18px\",\n    color: \"white\",\n    background: mongoGrey,\n  },\n  root: {\n    alignItems: \"center\",\n  },\n})\n\nclass AccountPanel extends Component {\n  constructor(props) {\n    super(props)\n    this.logout = this.logout.bind(this)\n  }\n\n  logout() {\n    this.props.userActions.logout(\n      this.props.user.auth_token,\n      this.props.history,\n    )\n  }\n\n  clickAdmin() {\n    this.props.userActions.checkAdminStatus(this.props.user)\n  }\n\n  render() {\n    const { classes, user } = this.props\n    const LoginLogout = !user.loggedIn ? (\n      <Link to=\"/login\" style={{ textDecoration: \"none\" }}>\n        <Button className={classes.buttonStyle}>log in</Button>\n      </Link>\n    ) : (\n      <Link to=\"/\" style={{ textDecoration: \"none\" }}>\n        <Button className={classes.buttonStyle} onClick={this.logout}>\n          logout\n        </Button>\n      </Link>\n    )\n\n    const RegisterName = !user.loggedIn ? (\n      <Link to=\"/signup\" style={{ textDecoration: \"none\" }}>\n        <Button className={classes.buttonStyle}>sign up</Button>\n      </Link>\n    ) : (\n      <Link to=\"/account\" style={{ textDecoration: \"none\" }}>\n        <Button className={classes.buttonStyle}>{user.info.name}</Button>\n      </Link>\n    )\n    const AdminButton = user.loggedIn && user.info.isAdmin && (\n      <Link to=\"/admin\" style={{ textDecoration: \"none\" }}>\n        <Button\n          className={classes.buttonStyle}\n          onClick={() => this.clickAdmin()}\n        >\n          admin\n        </Button>\n      </Link>\n    )\n    return (\n      <div className={classes.root}>\n        {AdminButton}\n        {/* <Link to=\"/status\" style={{ textDecoration: \"none\" }}>\n          <Button className={classes.buttonStyle}>status</Button>\n        </Link> */}\n        {LoginLogout}\n        {RegisterName}\n      </div>\n    )\n  }\n}\n\nAccountPanel.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nconst mapStateToProps = ({ user }) => ({ user })\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    userActions: bindActionCreators(userActions, dispatch),\n  }\n}\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(mapStateToProps, mapDispatchToProps),\n)(AccountPanel)\n","import * as types from \"./actionTypes\"\n\nexport function toggleDrawer() {\n  return { type: types.TOGGLE_DRAWER }\n}\n\nexport function clearError(key) {\n  return { type: types.CLEAR_ERROR, key }\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport Typography from \"@material-ui/core/Typography\"\nimport AccountPanel from \"./AccountPanel\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport SearchIcon from \"@material-ui/icons/Search\"\nimport { Link } from \"react-router-dom\"\nimport green from \"@material-ui/core/colors/green\"\nimport leaf from \"../assets/mongoleaf.png\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as miscActions from \"../actions/miscActions\"\nimport { compose } from \"redux\"\n\nconst mongo = green[500]\n\nconst styles = {\n  root: {\n    borderBottom: \"1px solid gray\",\n  },\n  drawer: {\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    color: \"white\",\n  },\n  appbar: {\n    display: \"flex\",\n    height: \"120px\",\n    width: \"100vw\",\n    background: \"#000000\",\n    justifyContent: \"space-around\",\n    flexFlow: \"wrap\",\n    alignItems: \"center\",\n  },\n  typography: {\n    textAlign: \"center\",\n    fontSize: \"3em\",\n    color: mongo,\n    fontWeight: \"600\",\n    lineHeight: \"1.125\",\n    marginLeft: \"270px\",\n    fontFamily:\n      \"BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif\",\n  },\n  leaf: {\n    img: {\n      height: \"3em\",\n    },\n  },\n}\n\nfunction Header(props) {\n  const { classes } = props\n  return (\n    <div className={classes.root}>\n      <div className={classes.appbar}>\n        <IconButton\n          className={classes.drawer}\n          onClick={props.miscActions.toggleDrawer}\n        >\n          <SearchIcon />\n        </IconButton>\n        <Typography className={classes.typography} type=\"title\">\n          <Link style={{ textDecoration: \"none\", color: mongo }} to=\"/\">\n            mflix\n            <img\n              id=\"mongoleaf\"\n              src={leaf}\n              width=\"40px\"\n              height=\"40px\"\n              alt=\"leaf\"\n            />\n          </Link>\n        </Typography>\n        <AccountPanel />\n      </div>\n    </div>\n  )\n}\n\nHeader.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ misc }) {\n  return {\n    misc,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    miscActions: bindActionCreators(miscActions, dispatch),\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  connect(mapStateToProps, mapDispatchToProps),\n)(Header)\n","import * as types from \"./actionTypes\"\nimport request from \"./request\"\n\nconst { useFacets } = window.mflix || {\n  useFacets: false,\n}\n\nexport function viewMovie() {\n  return { type: types.VIEW_MOVIE }\n}\n\nexport function receivedMovies(json) {\n  return { type: types.RECEIVED_MOVIES, ...json }\n}\n\nexport function receivedSearchResults(json) {\n  return { type: types.RECEIVED_SEARCH_RESULTS, ...json }\n}\n\nexport function movieDetail(movie) {\n  return { type: types.MOVIE_DETAIL, movie: movie }\n}\n\nexport function fetchMovies() {\n  return dispatch => {\n    return fetch(`/api/v1/movies/`, {\n      method: \"GET\",\n      mode: \"cors\",\n    })\n      .then(response => response.json())\n      .then(json => dispatch(receivedMovies(json)))\n      .catch(e => dispatch(fetchMoviesError(e.message)))\n  }\n}\n\nexport function searchMovies(subfield, search, history) {\n  let query\n  let encodedSearch = encodeURI(search)\n  switch (subfield) {\n    case \"genre\":\n      query = `genre=${encodedSearch}`\n      break\n    case \"cast\":\n      query = `cast=${encodedSearch}`\n      break\n    default:\n      query = `text=${encodedSearch}`\n  }\n  if (useFacets && subfield === \"cast\") {\n    return searchByFacet(query, history)\n  }\n  return dispatch => {\n    return request(`/api/v1/movies/search?${query}`, {\n      method: \"GET\",\n      mode: \"cors\",\n    })\n      .then(json => dispatch(receivedSearchResults(json)))\n      .then(() => history.push(\"/\"))\n      .catch(e => dispatch(searchMoviesError(subfield)))\n  }\n}\n\nexport function searchByFacet(query, history) {\n  return dispatch => {\n    return request(`/api/v1/movies/facet-search?${query}`, {\n      method: \"GET\",\n      mode: \"cors\",\n    })\n      .then(json => dispatch(receivedSearchResults(json)))\n      .then(() => history.push(\"/\"))\n      .catch(e => dispatch(searchMoviesError(e.message)))\n  }\n}\n\nexport function searchCountries(search, history) {\n  return dispatch => {\n    let countries = search.split(\",\").map(elem => `countries=${elem.trim()}`)\n    let uri = `/api/v1/movies/countries?${encodeURI(countries.join(\"&\"))}`\n\n    return request(uri, {\n      method: \"GET\",\n      mode: \"cors\",\n    })\n      .then(json => dispatch(receivedCountryResults(json.titles)))\n      .then(() => history.push(\"/country-results\"))\n      .catch(e => dispatch(searchCountriesError(e.message)))\n  }\n}\n\nexport function receivedCountryResults(titles) {\n  return { type: types.RECEIVED_COUNTRY_RESULTS, titles }\n}\n\nexport function searchCountriesError(e) {\n  return {\n    type: types.SEARCH_COUNTRIES_FAILURE,\n    error: `Unable to fetch movies from this country`,\n  }\n}\n\nexport function receivedMovieByID(json) {\n  return { type: types.RECEIVED_MOVIE_BY_ID, movie: json.movie }\n}\n\nexport function fetchMovieByID(id, history) {\n  return dispatch => {\n    return fetch(`/api/v1/movies/id/${id}`, {\n      method: \"GET\",\n      mode: \"cors\",\n    })\n      .then(response => response.json())\n      .then(json => dispatch(receivedMovieByID(json)))\n      .then(() => history.replace(`/movies/id/${id}`))\n      .catch(e => dispatch(fetchMovieByIDError(e.message)))\n  }\n}\n\nexport function fetchMoviesError(e) {\n  return {\n    type: types.FETCH_MOVIES_FAILURE,\n    error: `Unable to fetch movies`,\n  }\n}\n\nexport function fetchMovieByIDError(e) {\n  return {\n    type: types.FETCH_MOVIE_BY_ID_FAILURE,\n    error: `Unable to fetch the movie by _id`,\n  }\n}\n\nexport function searchMoviesError(e) {\n  return {\n    type: types.SEARCH_MOVIES_FAILURE,\n    error: `Unable to search for ` + e + `.`,\n  }\n}\n\nexport function beginPaging() {\n  return { type: types.BEGIN_PAGING }\n}\n\nexport function paginate(currState, currPage, filters) {\n  return dispatch => {\n    let query\n    let url\n    if (Object.keys(filters).length !== 0) {\n      query = Object.keys(filters).reduce(\n        (acc, curr) => [...acc, `${curr}=${filters[curr]}`],\n        [],\n      )\n      query = \"?\" + query.join(\"&\") + `&page=${currPage + 1}`\n    } else {\n      query = `?page=${currPage + 1}`\n    }\n    if (Object.keys(filters).includes(\"cast\") && useFacets) {\n      url = `/api/v1/movies/facet-search${encodeURI(query)}`\n    } else {\n      url = `/api/v1/movies/search${encodeURI(query)}`\n    }\n    return request(url, {\n      method: \"GET\",\n      mode: \"cors\",\n    })\n      .then(json =>\n        dispatch(receivedPagination(currState, currPage, json, dispatch)),\n      )\n      .catch(e => dispatch(fetchMoviesError(e.message)))\n  }\n}\n\nexport function receivedPagination(currState, currPage, json, dispatch) {\n  let currentMovies = currState.map(elem => elem._id)\n  let movies = json.movies.filter(movie => !currentMovies.includes(movie._id))\n  movies = [...currState, ...movies]\n  let page = movies.length > currState.length ? json.page : currPage\n  if (page !== currPage) {\n    return {\n      type: types.RECEIVED_PAGINATION,\n      ...json,\n      movies,\n      page,\n      facets: json.facets,\n    }\n  } else {\n    return { type: types.NO_OP }\n  }\n}\n\nexport function submitComment(movieID, comment, token) {\n  return dispatch => {\n    return request(`/api/v1/movies/comment`, {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        movie_id: movieID,\n        comment,\n      }),\n    })\n      .then(json => dispatch(receivedCommentSubmissionOk(json)))\n      .catch(e => console.log(e))\n  }\n}\n\nexport function receivedCommentSubmissionOk(json) {\n  return { type: types.SUBMIT_COMMENT_SUCCESS, comments: json.comments }\n}\n\nexport function editComment(commentID, update, token, movie_id) {\n  return dispatch => {\n    return request(`/api/v1/movies/comment`, {\n      method: \"PUT\",\n      mode: \"cors\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        comment_id: commentID,\n        updated_comment: update,\n        movie_id,\n      }),\n    })\n      .then(json => dispatch(receivedCommentUpdateOk(json)))\n      .catch(e => console.log(e))\n  }\n}\n\nexport function receivedCommentUpdateOk(json) {\n  return { type: types.UPDATE_COMMENT_SUCCESS, comments: json.comments }\n}\n\nexport function deleteComment(comment_id, token, movie_id) {\n  return dispatch => {\n    return request(`/api/v1/movies/comment`, {\n      method: \"DELETE\",\n      mode: \"cors\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        comment_id,\n        movie_id,\n      }),\n    })\n      .then(json => dispatch(receivedCommentUpdateOk(json)))\n      .catch(e => console.log(e))\n  }\n}\n\nexport function applyFacetFilter(facet, key, filter) {\n  return { type: types.PROP_FACET_FILTER, payload: { facet, key, filter } }\n}\n","import React from \"react\";\n\nconst ErrorsDiv = props => {\n  return (\n    <div\n      style={{\n        backgroundColor: \"black\",\n        color: \"white\",\n        textAlign: \"center\"\n      }}\n    >\n      <i\n        className=\"material-icons red\"\n        onClick={() => props.dismiss(props.error)}\n      >\n        cancel\n      </i>\n      {props.msg}\n    </div>\n  );\n};\n\nexport default ErrorsDiv;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport * as movieActions from \"../actions/movieActions\";\nimport { clearError } from \"../actions/miscActions\";\nimport { compose } from \"redux\";\nimport ErrorsDiv from \"./ErrorsDiv\";\n\nclass Errors extends Component {\n  render() {\n    const { errors } = this.props;\n\n    let errMsgs = Object.keys(errors)\n      .filter(key => errors[key] !== \"\")\n      .map(key => {\n        return (\n          <div\n            key={key}\n            style={{\n              backgroundColor: \"black\",\n              color: \"white\",\n              textAlign: \"center\"\n            }}\n          >\n            <ErrorsDiv\n              msg={errors[key]}\n              dismiss={this.props.clearError}\n              error={key}\n            />\n          </div>\n        );\n      });\n    return <React.Fragment>{errMsgs}</React.Fragment>;\n  }\n}\n\nfunction mapStateToProps({ errors }) {\n  return {\n    errors\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    movieActions: bindActionCreators(movieActions, dispatch),\n    clearError: bindActionCreators(clearError, dispatch)\n  };\n}\n\nexport default compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(Errors);\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport green from \"@material-ui/core/colors/green\"\nimport { Link } from \"react-router-dom\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as movieActions from \"../actions/movieActions\"\nimport { compose } from \"redux\"\n\nconst mongo = green[500]\n\nconst getScoreBackground = score => {\n  if (score >= 8) {\n    return { backgroundColor: mongo }\n  }\n  if (score >= 6) {\n    return { backgroundColor: \"#3273dc\" }\n  }\n  if (score) {\n    return { backgroundColor: \"red\" }\n  }\n  return { backgroundColor: \"rgba(0, 0, 0, 0)\" }\n}\n\nconst styles = {\n  tile: {\n    display: \"inline-flex\",\n    background: \"#242424\",\n    margin: \"1vw\",\n    height: \"675px\",\n    width: \"320px\",\n    borderRadius: 4,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    textAlign: \"center\",\n  },\n  img: {\n    margin: \"15px\",\n    alignSelf: \"flex-center\",\n    width: \"90%\",\n    height: \"400px\",\n  },\n  title: {\n    color: mongo,\n    fontWeight: 320,\n    lineHeight: 1.125,\n    fontSize: \"1.125em\",\n    margin: \"10px\",\n    fontFamily:\n      \"BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif\",\n  },\n  infoContainer: {\n    margin: \"15px\",\n  },\n  year: {\n    borderRadius: \"100%\",\n    background: \"#363636\",\n    padding: \".25em .75em\",\n    marginRight: \"4px\",\n    color: \"#E0E0E0\",\n    fontSize: \".9rem\",\n    fontFamily:\n      \"Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif\",\n  },\n  rating: {\n    borderRadius: \"290486px\",\n    background: \"#ffdd57\",\n    padding: \".25em .75em\",\n    marginLeft: \"4px\",\n    color: \"black\",\n    fontSize: \".9rem\",\n    fontFamily:\n      \"Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif\",\n  },\n  cast: {\n    color: \"#E0E0E0\",\n    padding: \"0 15px\",\n    fontWeight: 300,\n    lineHeight: 1.2,\n    fontSize: \"18px\",\n  },\n  imdb: {\n    color: \"#e0e0e0\",\n    fontSize: \"14px\",\n  },\n  scoreBackground: {\n    color: \"#e0e0e0\",\n    padding: \"0 10px\",\n    borderRadius: \"4px\",\n    fontSize: \"14px\",\n  },\n}\n\nclass MovieTile extends Component {\n  constructor(props) {\n    super(props)\n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  imgEvent({ id, imgError }) {\n    let img = document.getElementById(id)\n    let canvas = img.parentNode\n    let ctx = canvas.getContext(\"2d\")\n    if (imgError) {\n      ctx.font = \"20pt Calibri\"\n      ctx.textAlign = \"center\"\n      ctx.fillStyle = \"white\"\n      ctx.fillText(\"Image failed to load\", 150, 222)\n    } else {\n      ctx.drawImage(img, 0, 0, 300, 444)\n    }\n  }\n\n  handleClick() {\n    this.props.movieActions.movieDetail(this.props.movie._id)\n  }\n  render() {\n    const { classes, movie } = this.props\n    const castText = movie.cast ? `Starring: ${movie.cast.join(\", \")}` : \"\"\n    const imdb =\n      movie.imdb && movie.imdb.rating ? `IMDB: ${movie.imdb.rating} / 10` : \"\"\n    return (\n      <div className={classes.tile} onClick={this.handleClick}>\n        <Link style={{ textDecoration: \"none\" }} to={`movies/id/${movie._id}`}>\n          <canvas width={300} height={444} className={classes.img}>\n            <img\n              id={movie._id}\n              className={classes.img}\n              src={movie.poster || \"\"}\n              alt={movie.title}\n              title={movie.title}\n              onLoad={() => this.imgEvent({ id: movie._id, imgError: false })}\n              onError={() => this.imgEvent({ id: movie._id, imgError: true })}\n            />\n          </canvas>\n          <p className={classes.title}>{movie.title}</p>\n          <div className={classes.infoContainer}>\n            <span className={classes.year}>{movie.year}</span>\n            {movie.rated && (\n              <span className={classes.rating}>{movie.rated}</span>\n            )}\n          </div>\n          <p className={classes.cast}>{castText}</p>\n          <div>\n            {imdb && (\n              <span\n                className={classes.scoreBackground}\n                style={getScoreBackground(movie.imdb.rating)}\n              >\n                {imdb}\n              </span>\n            )}\n          </div>\n        </Link>\n      </div>\n    )\n  }\n}\n\nMovieTile.propTypes = {\n  movie: PropTypes.object.isRequired,\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    movieActions: bindActionCreators(movieActions, dispatch),\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    () => ({}),\n    mapDispatchToProps\n  )\n)(MovieTile)\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as movieActions from \"../actions/movieActions\"\nimport { compose } from \"redux\"\nimport FormGroup from \"@material-ui/core/FormGroup\"\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\"\nimport Checkbox from \"@material-ui/core/Checkbox\"\nimport green from \"@material-ui/core/colors/green\"\n\nconst styles = {\n  root: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  facets: {\n    alignItems: \"center\",\n    background: \"black\",\n    color: \"white\",\n  },\n  checked: {\n    color: green[500],\n  },\n  label: {\n    color: green[500],\n  },\n}\n\nclass Facets extends Component {\n  constructor(props) {\n    super(props)\n    this.ratingFacet = this.ratingFacet.bind(this)\n    this.runtimeFacet = this.runtimeFacet.bind(this)\n    this.handleRatingFacetSelection = this.handleRatingFacetSelection.bind(this)\n    this.handleRuntimeFacetSelection = this.handleRuntimeFacetSelection.bind(\n      this\n    )\n  }\n  formGroup(facet, elem, label, fn) {\n    return (\n      <FormGroup row key={elem._id}>\n        <FormControlLabel\n          classes={{ label: this.props.classes.label }}\n          control={\n            <Checkbox\n              classes={{ default: this.props.classes.label }}\n              checked={this.props.facetFilters[facet][elem._id]}\n              onChange={fn(elem._id)}\n              value={elem._id + \"\"}\n            />\n          }\n          label={label}\n        />\n      </FormGroup>\n    )\n  }\n  runtimeFacet() {\n    const { classes } = this.props\n    const { runtime } = this.props.facets\n    return (\n      <div className={classes.root}>\n        <h4 style={{ color: \"white\", marginRight: \"20px\" }}>Runtime:</h4>\n        {runtime.map(elem => {\n          switch (elem._id + \"\") {\n            case \"0\":\n              return this.formGroup(\n                \"runtime\",\n                elem,\n                `0-59 (${elem.count})`,\n                this.handleRuntimeFacetSelection\n              )\n            case \"60\":\n              return this.formGroup(\n                \"runtime\",\n                elem,\n                `60-89 (${elem.count})`,\n                this.handleRuntimeFacetSelection\n              )\n            case \"90\":\n              return this.formGroup(\n                \"runtime\",\n                elem,\n                `90-119 (${elem.count})`,\n                this.handleRuntimeFacetSelection\n              )\n            case \"120\":\n              return this.formGroup(\n                \"runtime\",\n                elem,\n                `120-180 (${elem.count})`,\n                this.handleRuntimeFacetSelection\n              )\n            case \"180\":\n              return this.formGroup(\n                \"runtime\",\n                elem,\n                `180+ (${elem.count})`,\n                this.handleRuntimeFacetSelection\n              )\n            default:\n              return this.formGroup(\n                \"runtime\",\n                elem,\n                `other (${elem.count})`,\n                this.handleRuntimeFacetSelection\n              )\n          }\n        })}\n      </div>\n    )\n  }\n  ratingFacet() {\n    const { classes } = this.props\n    const { rating } = this.props.facets\n    return (\n      <div className={classes.root}>\n        <h4 style={{ color: \"white\", marginRight: \"20px\" }}>Rating:</h4>\n        {rating.map(elem => {\n          switch (elem._id + \"\") {\n            case \"0\":\n              return this.formGroup(\n                \"rating\",\n                elem,\n                `0-49 (${elem.count})`,\n                this.handleRatingFacetSelection\n              )\n            case \"50\":\n              return this.formGroup(\n                \"rating\",\n                elem,\n                `50-69 (${elem.count})`,\n                this.handleRatingFacetSelection\n              )\n            case \"70\":\n              return this.formGroup(\n                \"rating\",\n                elem,\n                `70-89 (${elem.count})`,\n                this.handleRatingFacetSelection\n              )\n            case \"90\":\n              return this.formGroup(\n                \"rating\",\n                elem,\n                `90+ (${elem.count})`,\n                this.handleRatingFacetSelection\n              )\n            default:\n              return this.formGroup(\n                \"rating\",\n                elem,\n                `other (${elem.count})`,\n                this.handleRatingFacetSelection\n              )\n          }\n        })}\n      </div>\n    )\n  }\n  handleRatingFacetSelection = name => event => {\n    let filter\n    switch (name + \"\") {\n      case \"0\":\n        filter = movie =>\n          movie.metacritic && (movie.metacritic >= 0 && movie.metacritic < 50)\n        break\n      case \"50\":\n        filter = movie =>\n          movie.metacritic && (movie.metacritic >= 50 && movie.metacritic < 70)\n        break\n\n      case \"70\":\n        filter = movie =>\n          movie.metacritic && (movie.metacritic >= 70 && movie.metacritic < 90)\n        break\n      case \"90\":\n        filter = movie => movie.metacritic && movie.metacritic >= 90\n        break\n\n      default:\n        filter = movie =>\n          !movie.metacritic || typeof movie.metacritic === \"string\"\n    }\n    this.props.movieActions.applyFacetFilter(\"rating\", name, filter)\n  }\n\n  handleRuntimeFacetSelection = name => event => {\n    let filter\n    switch (name + \"\") {\n      case \"0\":\n        filter = movie =>\n          movie.runtime && (movie.runtime >= 0 && movie.runtime < 60)\n        break\n      case \"60\":\n        filter = movie =>\n          movie.runtime && (movie.runtime >= 60 && movie.runtime < 90)\n        break\n\n      case \"90\":\n        filter = movie =>\n          movie.runtime && (movie.runtime >= 90 && movie.runtime < 120)\n        break\n      case \"120\":\n        filter = movie =>\n          movie.runtime && (movie.runtime >= 120 && movie.runtime < 180)\n        break\n\n      case \"180\":\n        filter = movie => movie.runtime && movie.runtime >= 180\n        break\n\n      default:\n        filter = movie =>\n          !movie.runtime || (!movie.runtime < 0 && movie.runtime <= Infinity)\n    }\n    this.props.movieActions.applyFacetFilter(\"runtime\", name, filter)\n  }\n\n  render() {\n    const { classes } = this.props\n    const ratingFacet = this.ratingFacet()\n    const runtimeFacet = this.runtimeFacet()\n    return (\n      <div>\n        <div className={classes.facets}>\n          {Object.keys(this.props.facets.rating).length > 0 && ratingFacet}\n        </div>\n        <div className={classes.facets}>\n          {Object.keys(this.props.facets.runtime).length > 0 && runtimeFacet}\n        </div>\n      </div>\n    )\n  }\n}\n\nFacets.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ misc, movies: { facets, facetFilters } }) {\n  return {\n    facets,\n    facetFilters,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    movieActions: bindActionCreators(movieActions, dispatch),\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(Facets)\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport throttle from \"lodash.throttle\"\nimport GridList from \"@material-ui/core/GridList\"\nimport MovieTile from \"../components/MovieTile\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as movieActions from \"../actions/movieActions\"\nimport { compose } from \"redux\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\nimport Facets from \"../components/Facets\"\n\nconst styles = theme => ({\n  root: {\n    flex: 1,\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    alignContent: \"center\",\n    width: \"100vw\",\n    minHeight: \"100vh\",\n    height: \"100%\",\n    flexBasis: 0,\n  },\n  gridList: {\n    height: \"100%\",\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    width: \"100vw\",\n    flexBasis: 0,\n    flexGrow: 0,\n  },\n  loading: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    alignItems: \"center\",\n    width: \"100vw\",\n    height: \"100vh\",\n  },\n})\n\nclass MovieGrid extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      paging: false,\n      movies: [],\n    }\n    this.onScroll = throttle(this.onScroll.bind(this), 1000)\n  }\n  componentDidMount() {\n    if (!this.props.movies || this.props.movies.movies.length === 0) {\n      this.props.movieActions.fetchMovies()\n    }\n    window.addEventListener(\"scroll\", this.onScroll, true)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.onScroll, true)\n    this.onScroll.cancel()\n  }\n\n  componentWillReceiveProps(props) {\n    if (props.movies.movies.length === props.movies.total_results) {\n      this.setState({ paging: false })\n      this.onScroll.cancel()\n      window.removeEventListener(\"scroll\", this.onScroll, true)\n    }\n    if (!props.movies.paging) {\n      this.setState({ paging: false })\n      this.onScroll.cancel()\n    }\n  }\n\n  onScroll() {\n    const scroll = document.getElementById(\"root\")\n    if (\n      !this.props.movies.paging &&\n      document.body.offsetHeight + window.pageYOffset >=\n        scroll.scrollHeight - 1500 &&\n      this.props.movies.movies.length !== this.props.movies.total_results\n    ) {\n      this.props.movieActions.beginPaging()\n      this.props.movieActions.paginate(\n        this.props.movies.movies,\n        this.props.movies.page,\n        this.props.movies.filters\n      )\n    }\n  }\n\n  render() {\n    const { classes } = this.props\n    const movies = this.props.movies.shownMovies\n    if (\n      !movies ||\n      (movies.length === 0 &&\n        (!this.props.errors.FetchMovieFailure ||\n          !this.props.searchMovieFailure))\n    ) {\n      return (\n        <div className={classes.loading}>\n          <CircularProgress />\n        </div>\n      )\n    } else {\n      return (\n        <div\n          className={this.props.classes.root}\n          onScroll={this.onScroll}\n          id=\"scroll\"\n        >\n          <Facets />\n          <GridList\n            cellHeight={600}\n            className={this.props.classes.gridList}\n            cols={4}\n          >\n            {movies.map(movie => <MovieTile key={movie._id} movie={movie} />)}\n          </GridList>\n        </div>\n      )\n    }\n  }\n}\n\nMovieGrid.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ movies, errors }) {\n  return {\n    movies,\n    errors,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    movieActions: bindActionCreators(movieActions, dispatch),\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(MovieGrid)\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as movieActions from \"../actions/movieActions\"\nimport { compose } from \"redux\"\nimport { withRouter } from \"react-router-dom\"\n\nconst styles = theme => ({\n  root: {\n    display: \"flex\",\n    flex: 1,\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    alignContent: \"center\",\n    width: \"100vw\",\n    minHeight: \"100vh\",\n    height: \"100%\",\n    flexBasis: 0,\n  },\n  ul: {\n    listStyle: \"none\",\n    textAlign: \"center\",\n  },\n  li: {\n    fontSize: \"2em\",\n    color: \"green\",\n    cursor: \"pointer\",\n  },\n})\n\nclass CountryResults extends Component {\n  handleClick = id => {\n    this.props.movieActions.fetchMovieByID(id, this.props.history)\n  }\n  render() {\n    const {\n      classes,\n      movies: { titles },\n    } = this.props\n\n    let titlesList = titles.map((title, idx) => (\n      <li\n        className={classes.li}\n        key={idx}\n        onClick={() => this.handleClick(title._id)}\n      >\n        {title.title}\n      </li>\n    ))\n    return (\n      <div className={classes.root}>\n        <ul className={classes.ul}>{titlesList}</ul>\n      </div>\n    )\n  }\n}\n\nCountryResults.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ movies, errors }) {\n  return {\n    movies,\n    errors,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    movieActions: bindActionCreators(movieActions, dispatch),\n  }\n}\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(CountryResults)\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport * as userActions from \"../actions/userActions\";\nimport { compose } from \"redux\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport Email from \"@material-ui/icons/Email\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport { withRouter } from \"react-router-dom\";\n\nimport green from \"@material-ui/core/colors/green\";\n\nconst mongo = green[500];\n\nconst styles = theme => ({\n  root: {\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    alignContent: \"center\",\n    width: \"100vw\",\n    height: \"100vh\",\n    display: \"flex\"\n  },\n  form: {\n    display: \"inline-flex\",\n    flexDirection: \"column\",\n    color: \"white\",\n    margin: \"3%\",\n    padding: \"25px\",\n    background: \"#363636\",\n    marginTop: \"5%\",\n    borderRadius: \"8px\",\n    width: \"320px\",\n    height: \"450px\"\n  },\n  input: {\n    color: \"white\",\n    background: \"#e0e0e0\"\n  },\n  newUser: {\n    margin: theme.spacing.unit,\n    color: \"white\"\n  },\n  inputStyle: {\n    fontSize: \"18px\",\n    color: \"white\",\n    borderRadius: \"4px\"\n  },\n  buttonOk: {\n    margin: theme.spacing.unit,\n    height: \"18px\",\n    color: \"white\",\n    background: mongo,\n    alignSelf: \"flex-end\"\n  },\n  buttonNope: {\n    margin: theme.spacing.unit,\n    height: \"18px\",\n    color: \"white\",\n    background: \"red\",\n    alignSelf: \"flex-end\"\n  },\n  buttonRow: {\n    margin: theme.spacing.unit,\n    marginTop: \"auto\",\n    display: \"inline-flex\",\n    flexDirection: \"row\",\n    alignSelf: \"flex-end\",\n    justifyContent: \"flex-end\"\n  }\n});\n\nclass LoginCard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      showPassword: false,\n      emailReadOnly: true,\n      passwordReadOnly: true\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.props.userActions.login(\n      {\n        password: this.state.password,\n        email: this.state.email\n      },\n      this.props.history\n    );\n  }\n\n  handleChange = prop => event => {\n    this.setState({ [prop]: event.target.value });\n  };\n\n  handleMouseDownPassword = event => {\n    event.preventDefault();\n  };\n\n  handleClickShowPasssword = () => {\n    this.setState({ showPassword: !this.state.showPassword });\n  };\n\n  handleFocusEmail = () => {\n    this.setState({ emailReadOnly: false });\n  };\n\n  handleFocusPassword = () => {\n    this.setState({ passwordReadOnly: false });\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <form className={classes.form}>\n          <div className={classes.newUser}>\n            <h3>Existing User?</h3>\n            <p>\n              Sign in below. Don't have an account?{\" \"}\n              <Link\n                to=\"signup\"\n                style={{ textDecoration: \"none\", color: \"gray\" }}\n              >\n                Click here\n              </Link>\n            </p>\n          </div>\n          <input type=\"text\" style={{ display: \"none\" }} />\n          <input type=\"password\" style={{ display: \"none\" }} />\n          <FormControl className={classes.newUser}>\n            <InputLabel style={{ color: \"white\" }} htmlFor=\"email\">\n              Email\n            </InputLabel>\n            <Input\n              style={{ color: \"white\" }}\n              id=\"adornment-login-email\"\n              type=\"email\"\n              readOnly={this.state.emailReadOnly}\n              onFocus={this.handleFocusEmail}\n              value={this.state.email}\n              autoComplete=\"email\"\n              onChange={this.handleChange(\"email\")}\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <IconButton className={classes.newUser}>\n                    <Email />\n                  </IconButton>\n                </InputAdornment>\n              }\n            />\n          </FormControl>\n          <FormControl style={{ color: \"white\" }} className={classes.newUser}>\n            <InputLabel style={{ color: \"white\" }} htmlFor=\"password\">\n              Password\n            </InputLabel>\n            <Input\n              style={{ color: \"white\" }}\n              id=\"adornment-login-password\"\n              autoComplete=\"off\"\n              readOnly={this.state.passwordReadOnly}\n              type={this.state.showPassword ? \"text\" : \"password\"}\n              value={this.state.password}\n              onFocus={this.handleFocusPassword}\n              onChange={this.handleChange(\"password\")}\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    className={classes.newUser}\n                    onClick={this.handleClickShowPasssword}\n                    onMouseDown={this.handleMouseDownPassword}\n                  >\n                    {this.state.showPassword ? (\n                      <VisibilityOff />\n                    ) : (\n                      <Visibility />\n                    )}\n                  </IconButton>\n                </InputAdornment>\n              }\n            />\n          </FormControl>\n          <div className={classes.buttonRow}>\n            <Button className={classes.buttonNope}>\n              <Link style={{ textDecoration: \"none\", color: \"white\" }} to=\"/\">\n                Cancel\n              </Link>\n            </Button>\n            <Button className={classes.buttonOk} onClick={this.handleSubmit}>\n              Log In\n            </Button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nLoginCard.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nfunction mapStateToProps({ user }) {\n  return {\n    user\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    userActions: bindActionCreators(userActions, dispatch)\n  };\n}\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(LoginCard);\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport * as userActions from \"../actions/userActions\";\nimport { compose } from \"redux\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport Email from \"@material-ui/icons/Email\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport Button from \"@material-ui/core/Button\";\nimport { Link } from \"react-router-dom\";\nimport { withRouter } from \"react-router-dom\";\n\nimport green from \"@material-ui/core/colors/green\";\n\nconst mongo = green[500];\n\nconst styles = theme => ({\n  root: {\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    alignContent: \"center\",\n    width: \"100vw\",\n    height: \"100vh\",\n    display: \"flex\"\n  },\n  form: {\n    display: \"inline-flex\",\n    flexDirection: \"column\",\n    color: \"white\",\n    margin: \"3%\",\n    padding: \"25px\",\n    background: \"#363636\",\n    marginTop: \"5%\",\n    borderRadius: \"8px\",\n    width: \"320px\",\n    height: \"450px\"\n  },\n  input: {\n    color: \"white\"\n  },\n  newUser: {\n    margin: theme.spacing.unit,\n    color: \"white\"\n  },\n  inputStyle: {\n    fontSize: \"18px\",\n    color: \"white\",\n    borderRadius: \"4px\"\n  },\n  buttonOk: {\n    margin: theme.spacing.unit,\n    height: \"18px\",\n    color: \"white\",\n    background: mongo,\n    alignSelf: \"flex-end\"\n  },\n  buttonNope: {\n    margin: theme.spacing.unit,\n    height: \"18px\",\n    color: \"white\",\n    background: \"red\",\n    alignSelf: \"flex-end\"\n  },\n  buttonRow: {\n    margin: theme.spacing.unit,\n    marginTop: \"auto\",\n    display: \"inline-flex\",\n    flexDirection: \"row\",\n    alignSelf: \"flex-end\",\n    justifyContent: \"flex-end\"\n  }\n});\n\nclass SignupCard extends Component {\n  state = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    showPassword: false\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.userActions.register(\n      {\n        name: this.state.name,\n        email: this.state.email,\n        password: this.state.password\n      },\n      this.props.history\n    );\n  };\n\n  handleChange = prop => event => {\n    this.setState({ [prop]: event.target.value });\n  };\n\n  handleMouseDownPassword = event => {\n    event.preventDefault();\n  };\n\n  handleClickShowPasssword = () => {\n    this.setState({ showPassword: !this.state.showPassword });\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <form className={classes.form} onSubmit={this.handleSubmit}>\n          <div className={classes.newUser}>\n            <h3>New User?</h3>\n            <p>Make an account by filling out the form below.</p>\n          </div>\n\n          <FormControl className={classes.newUser}>\n            <InputLabel style={{ color: \"white\" }} htmlFor=\"name\">\n              Name\n            </InputLabel>\n            <Input\n              id=\"adornment-name\"\n              autoCapitalize=\"name\"\n              style={{ color: \"white\" }}\n              value={this.state.name}\n              onChange={this.handleChange(\"name\")}\n              autoComplete=\"name\"\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <IconButton className={classes.newUser}>\n                    <AccountCircle />\n                  </IconButton>\n                </InputAdornment>\n              }\n            />\n          </FormControl>\n          <FormControl className={classes.newUser}>\n            <InputLabel style={{ color: \"white\" }} htmlFor=\"password\">\n              Email\n            </InputLabel>\n            <Input\n              id=\"adornment-email\"\n              style={{ color: \"white\" }}\n              type=\"email\"\n              value={this.state.email}\n              onChange={this.handleChange(\"email\")}\n              autoComplete=\"email\"\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <IconButton className={classes.newUser}>\n                    <Email />\n                  </IconButton>\n                </InputAdornment>\n              }\n            />\n          </FormControl>\n          <FormControl style={{ color: \"white\" }} className={classes.newUser}>\n            <InputLabel style={{ color: \"white\" }} htmlFor=\"password\">\n              Password\n            </InputLabel>\n            <Input\n              style={{ color: \"white\" }}\n              id=\"adornment-password\"\n              type={this.state.showPassword ? \"text\" : \"password\"}\n              value={this.state.password}\n              onChange={this.handleChange(\"password\")}\n              autoComplete=\"password\"\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    className={classes.newUser}\n                    onClick={this.handleClickShowPasssword}\n                  >\n                    {this.state.showPassword ? (\n                      <VisibilityOff />\n                    ) : (\n                      <Visibility />\n                    )}\n                  </IconButton>\n                </InputAdornment>\n              }\n            />\n          </FormControl>\n          <div className={classes.buttonRow}>\n            <Button className={classes.buttonNope}>\n              <Link style={{ textDecoration: \"none\", color: \"white\" }} to=\"/\">\n                Cancel\n              </Link>\n            </Button>\n            <Button type=\"submit\" className={classes.buttonOk}>\n              Sign Up\n            </Button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nSignupCard.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nfunction mapStateToProps({ user }) {\n  return {\n    user\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    userActions: bindActionCreators(userActions, dispatch)\n  };\n}\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(SignupCard);\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\n\nconst getScoreBackground = score => {\n  let normalized = score\n  if (score <= 10) {\n    normalized = score * 10\n  }\n  if (normalized >= 80) {\n    return {\n      width: `${normalized}%`,\n    }\n  }\n  if (normalized >= 60) {\n    return {\n      width: `${normalized}%`,\n    }\n  }\n  if (normalized) {\n    return {\n      width: `${normalized}%`,\n    }\n  }\n}\n\nconst styles = theme => ({\n  progressBar: {\n    marginTop: \"15px\",\n    height: \"20px\",\n    width: \"100%\",\n    background: \"#555\",\n    borderRadius: \"25px\",\n    boxShadow: \"inset 0 -1px 1px rgba(255, 255, 255, 0.3)\",\n    \"& > span\": {\n      display: \"block\",\n      height: \"100%\",\n      borderTopLeftRadius: \"20px\",\n      borderBottomLeftRadius: \"20px\",\n      backgroundImage:\n        \"linear-gradient(center bottom, rgb(43,194,83) 37%, rgb(84,240,84) 69%)\",\n      boxShadow:\n        \"inset 0 2px 9px  rgba(255,255,255,0.3), inset 0 -2px 6px rgba(0,0,0,0.4)\",\n      overflow: \"hidden\",\n    },\n  },\n})\n\nconst RatingBar = props => {\n  const { classes, ratings } = props\n  const bars = Object.keys(ratings).map((elem, ix) => {\n    let info = getScoreBackground(ratings[elem][elem])\n    let displayName = elem.charAt(0).toUpperCase() + elem.slice(1)\n    let stats = ratings[elem].total && ratings[elem].total\n    return (\n      <div key={ix}>\n        <h4 style={{ color: \"white\", textAlign: \"justify\" }}>\n          {displayName} Rating: {ratings[elem][elem].toLocaleString()}{\" \"}\n          {stats && `(from ${new Intl.NumberFormat().format(stats)} reviews)`}\n        </h4>\n        <div key={ix} className={classes.progressBar}>\n          <span\n            style={{\n              backgroundColor: ratings[elem].backgroundColor,\n              width: info.width,\n            }}\n          />\n          <p\n            style={{\n              width: \"100%\",\n              height: \"100%\",\n              margin: \"0 auto\",\n              top: \"-100%\",\n              position: \"relative\",\n              color: \"white\",\n            }}\n          />\n        </div>\n      </div>\n    )\n  })\n\n  return <div>{bars}</div>\n}\n\nRatingBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nexport default withStyles(styles)(RatingBar)\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport Modal from \"@material-ui/core/Modal\"\nimport YouTube from \"react-youtube\"\nimport { connect } from \"react-redux\"\nimport { compose } from \"redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as movieActions from \"../actions/movieActions\"\n\nfunction getModalStyle() {\n  const top = 50\n  const left = 50\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  }\n}\n\nconst styles = theme => ({\n  paper: {\n    position: \"absolute\",\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing.unit * 4,\n  },\n})\n\nconst randomVideo = () => {\n  let roll = Math.random()\n  if (roll < 0.5) {\n    return \"6gGXnE1Dbh0\"\n  } else {\n    return \"dQw4w9WgXcQ\"\n  }\n}\n\nclass ViewModal extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      open: props.open,\n    }\n    this.handleReady = this.handleReady.bind(this)\n  }\n\n  handleReady(e) {\n    const video = document.querySelector(\"video\")\n    if (video) {\n      video.play()\n      video.autoplay = true\n    }\n  }\n\n  handleClose = () => {\n    this.props.movieActions.viewMovie()\n  }\n\n  render() {\n    const opts = {\n      height: \"390\",\n      width: \"640\",\n    }\n    const { classes } = this.props\n\n    return (\n      <div allow=\"autoplay\">\n        <Modal\n          aria-labelledby=\"video-viewer\"\n          aria-describedby=\"watch-video\"\n          open={this.props.displayModal}\n          onClose={this.handleClose}\n        >\n          <div style={getModalStyle()} className={classes.paper}>\n            <YouTube\n              videoId={randomVideo()}\n              opts={opts}\n              onReady={this.handleReady}\n            />\n          </div>\n        </Modal>\n      </div>\n    )\n  }\n}\n\nViewModal.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ movies: { viewMovie } }, { match }) {\n  return {\n    displayModal: viewMovie,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    movieActions: bindActionCreators(movieActions, dispatch),\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(ViewModal)\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport Card from \"@material-ui/core/Card\"\nimport CardHeader from \"@material-ui/core/CardHeader\"\nimport CardContent from \"@material-ui/core/CardContent\"\nimport Avatar from \"@material-ui/core/Avatar\"\nimport green from \"@material-ui/core/colors/green\"\nimport red from \"@material-ui/core/colors/red\"\nimport Button from \"@material-ui/core/Button\"\n\nconst styles = theme => ({\n  card: {\n    width: \"65vw\",\n    borderRadius: \"5px\",\n    margin: \"1%\",\n  },\n  avatar: {\n    backgroundColor: green[500],\n  },\n  typography: {\n    textAlign: \"justify\",\n  },\n  buttons: {\n    display: \"inline-flex\",\n    flexDirection: \"row\",\n    width: \"100%\",\n    justifyContent: \"flex-end\",\n  },\n  buttonSubmit: {\n    margin: theme.spacing.unit - 2,\n    height: \"18px\",\n    color: \"white\",\n    background: green[500],\n  },\n  buttonDelete: {\n    margin: theme.spacing.unit - 2,\n    height: \"18px\",\n    color: \"white\",\n    background: red[500],\n  },\n})\n\nclass CommentCard extends React.Component {\n  state = {\n    editing: false,\n  }\n\n  handleUpdate() {\n    this.props.handleUpdate(this.props.cid, this.divComment.innerText)\n  }\n\n  handleDelete() {\n    this.props.handleDelete(this.props.cid)\n  }\n\n  handleEdit() {\n    this.setState({ editing: true })\n  }\n  render() {\n    const { classes } = this.props\n    return (\n      <div>\n        <Card className={classes.card}>\n          <CardHeader\n            avatar={\n              <Avatar aria-label=\"user\" className={classes.avatar}>\n                U\n              </Avatar>\n            }\n            title={this.props.name}\n            subheader={this.props.date}\n          />\n          <CardContent>\n            <div\n              ref={divComment => {\n                this.divComment = divComment\n              }}\n              className={classes.typography}\n              contentEditable={this.props.editable}\n            >\n              {this.props.text}\n            </div>\n          </CardContent>\n          {this.props.editable && (\n            <div className={classes.buttons}>\n              <Button\n                className={classes.buttonDelete}\n                onClick={() => this.handleDelete()}\n              >\n                {\" \"}\n                delete{\" \"}\n              </Button>\n              <Button\n                className={classes.buttonSubmit}\n                onClick={() => this.handleUpdate()}\n              >\n                update\n              </Button>\n            </div>\n          )}\n        </Card>\n      </div>\n    )\n  }\n}\n\nCommentCard.propTypes = {\n  classes: PropTypes.object.isRequired,\n  name: PropTypes.string.isRequired,\n  date: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n}\n\nexport default withStyles(styles)(CommentCard)\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as movieActions from \"../actions/movieActions\"\nimport { compose } from \"redux\"\nimport Card from \"@material-ui/core/Card\"\nimport CardHeader from \"@material-ui/core/CardHeader\"\nimport CardContent from \"@material-ui/core/CardContent\"\nimport green from \"@material-ui/core/colors/green\"\nimport Button from \"@material-ui/core/Button\"\n\nconst styles = theme => ({\n  card: {\n    width: \"65vw\",\n    borderRadius: \"5px\",\n    margin: \"1%\",\n  },\n  avatar: {\n    backgroundColor: green[500],\n  },\n  typography: {\n    textAlign: \"justify\",\n    width: \"100%\",\n    height: \"100%\",\n    margin: \"2% auto\",\n    border: \"1px solid blue\",\n  },\n  buttonDiv: {\n    display: \"inline-flex\",\n    flexDirection: \"row\",\n    width: \"100%\",\n    justifyContent: \"flex-end\",\n  },\n  buttonSubmit: {\n    margin: theme.spacing.unit - 2,\n    height: \"18px\",\n    color: \"white\",\n    background: green[500],\n  },\n})\n\nclass PostComment extends React.Component {\n  constructor(props) {\n    super(props)\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  handleSubmit() {\n    this.props.movieActions.submitComment(\n      this.props.movieID,\n      this.divComment.innerText,\n      this.props.auth_token\n    )\n    this.divComment.innerText = \"\"\n  }\n\n  render() {\n    const { classes } = this.props\n\n    return (\n      <div>\n        <Card className={classes.card}>\n          <CardHeader title=\"Submit a comment\" />\n          <CardContent>\n            <div\n              contentEditable={true}\n              className={classes.typography}\n              ref={divComment => {\n                this.divComment = divComment\n              }}\n            />\n          </CardContent>\n          <div className={classes.buttonDiv}>\n            <Button\n              className={classes.buttonSubmit}\n              onClick={this.handleSubmit}\n            >\n              submit\n            </Button>\n          </div>\n        </Card>\n      </div>\n    )\n  }\n}\n\nPostComment.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ user }) {\n  return {\n    auth_token: user.auth_token,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    movieActions: bindActionCreators(movieActions, dispatch),\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(PostComment)\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport green from \"@material-ui/core/colors/green\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as movieActions from \"../actions/movieActions\"\nimport { compose } from \"redux\"\nimport RatingBar from \"./RatingBar\"\nimport Viewer from \"./ViewModal\"\nimport Button from \"@material-ui/core/Button\"\nimport CommentCard from \"./CommentCard\"\nimport PostComment from \"./PostComment\"\nimport { withRouter } from \"react-router-dom\"\nconst mongo = green[500]\n\nconst getRunTime = runtime =>\n  `${Math.floor(runtime / 60)} hr ${runtime % 60} min`\n\nconst packageRatings = movie =>\n  Object.keys(movie).reduce((acc, key) => {\n    switch (key) {\n      case \"imdb\":\n        if (movie[key].rating) {\n          return {\n            ...acc,\n            imdb: {\n              [key]: movie[key].rating,\n              backgroundColor: \"#3273dc\",\n              total: movie[key].votes,\n            },\n          }\n        } else {\n          return acc\n        }\n      case \"metacritic\":\n        return {\n          ...acc,\n          metacritic: {\n            [key]: movie[key],\n            backgroundColor: mongo,\n          },\n        }\n      case \"tomatoes\":\n\n        if (movie[key] && movie[key].viewer && movie[key].viewer.meter) {\n          return {\n            ...acc,\n            tomatoes: {\n              [key]: movie[key].viewer.meter,\n              backgroundColor: \"red\",\n              total: movie[key].viewer.numReviews,\n            },\n          }\n        } else {\n          return acc\n        }\n      default:\n        return acc\n    }\n  }, {})\n\nconst styles = {\n  root: {\n    display: \"flex\",\n    background: \"black\",\n    justifyContent: \"space-around\",\n    width: \"100vw\",\n    textAlign: \"center\",\n    flexDirection: \"row\",\n    flexFlow: \"wrap\",\n  },\n  half: {\n    marginTop: \"65px\",\n    minWidth: \"450px\",\n    maxWidth: \"45%\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    flex: \"0 0 auto\",\n    height: \"100vh\",\n  },\n  img: {\n    width: \"300px\",\n    height: \"444px\",\n  },\n  watchButton: {\n    margin: \"8px\",\n    color: \"white\",\n    alignItems: \"center\",\n  },\n  button: {\n    height: \"18px\",\n    color: \"white\",\n    background: mongo,\n  },\n  title: {\n    color: \"white\",\n    fontWeight: 320,\n    lineHeight: 1.125,\n    fontSize: \"2em\",\n    margin: \"15px\",\n  },\n  runtime: {\n    color: \"black\",\n    fontSize: \"12px\",\n    background: \"#d5d5d5\",\n    padding: \"5px\",\n    margin: \"15px\",\n    borderRadius: \"4px\",\n  },\n  director: {\n    color: \"white\",\n    marginTop: \"20px\",\n    margin: \"15px\",\n  },\n  directorText: {\n    color: mongo,\n    marginLeft: \"5px\",\n    background: \"#474747\",\n    padding: \"5px\",\n    borderRadius: \"5px\",\n  },\n  plotContainer: {\n    display: \"inline-flex\",\n    justifyContent: \"center\",\n    background: \"#363636\",\n    width: \"100%\",\n    padding: \"10px 0\",\n    borderRadius: \"7px\",\n    marginTop: \"15px\",\n    textAlign: \"center\",\n  },\n  plot: {\n    margin: \"15px\",\n    color: \"white\",\n    fontSize: \"1rem\",\n    lineHeight: \"1.5em\",\n    width: \"80%\",\n    height: \"80%\",\n    textAlign: \"justify\",\n  },\n  year: {\n    borderRadius: \"290486px\",\n    background: \"#363636\",\n    padding: \".25em .75em\",\n    marginRight: \"4px\",\n    color: \"#E0E0E0\",\n    fontSize: \".9rem\",\n  },\n  rating: {\n    borderRadius: \"290486px\",\n    background: \"#ffdd57\",\n    padding: \".25em .75em\",\n    marginLeft: \"4px\",\n    color: \"black\",\n    fontSize: \".9rem\",\n  },\n  cast: {\n    color: \"#E0E0E0\",\n    padding: \"0 15px\",\n    fontWeight: 300,\n    lineHeight: 1.2,\n    fontSize: \"18px\",\n  },\n  skittlesHeader: {\n    color: \"white\",\n    marginBottom: \"10px\",\n  },\n  skittlesContainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\",\n    justifyContent: \"center\",\n    color: \"white\",\n  },\n  genresSkittles: {\n    color: \"white\",\n    fontSize: \"12px\",\n    background: \"#363636\",\n    padding: \"5px\",\n    margin: \"0 5px\",\n    borderRadius: \"4px\",\n    float: \"left\",\n    \"&:hover\": {\n      textDecoration: \"underline\",\n      cursor: \"pointer\",\n    },\n  },\n  castSkittles: {\n    color: \"white\",\n    fontSize: \"12px\",\n    background: mongo,\n    padding: \"5px\",\n    margin: \"0 5px\",\n    borderRadius: \"4px\",\n    float: \"left\",\n    \"&:hover\": {\n      textDecoration: \"underline\",\n      cursor: \"pointer\",\n    },\n  },\n  writerSkittles: {\n    color: \"white\",\n    fontSize: \"12px\",\n    background: \"#363636\",\n    padding: \"5px\",\n    margin: \"0 5px\",\n    borderRadius: \"4px\",\n    float: \"left\",\n  },\n}\n\nclass MovieDetail extends Component {\n  constructor(props) {\n    super(props)\n    this.handleViewClick = this.handleViewClick.bind(this)\n    this.handleSearch = this.handleSearch.bind(this)\n    this.handleUpdate = this.handleUpdate.bind(this)\n    this.handleDelete = this.handleDelete.bind(this)\n    this.imgError = this.imgError.bind(this)\n    this.state = {\n      matrix: false,\n    }\n  }\n\n  rain = null\n  makeRainTimeout = null\n\n  makeRain() {\n    // Easter Egg Matrix rain when a user clicks on one of the matrix movies\n    // getting the 2d context of the canvas element, set through the ref fn\n    const c = this.canvas\n    const ctx = c.getContext(\"2d\")\n    // chinese characters to use for the rain itself\n    const chinese = Array.from(\n      \"田由甲申甴电甶男甸甹町画甼甽甾甿畀畁畂畃畄畅畆畇畈畉畊畋界畍畎畏畐畑\"\n    )\n\n    let font_size = 10\n    // columns is the width of the canvas divided by font size\n    let columns = this.canvas.width / font_size\n    // drops array, one \"drop\" per column\n    let drops = new Array(columns).fill(1)\n\n    function draw() {\n      // setting the background to black\n      ctx.fillStyle = \"rgba(0, 0, 0, 0.05)\"\n      // filling the canvas with the black background\n      ctx.fillRect(0, 0, c.width, c.height)\n      // green color for the drops\n      ctx.fillStyle = \"#0F0\"\n      // setting the font\n      ctx.font = font_size + \"px arial\"\n      // iterate through the drops array\n      drops.forEach((elem, i) => {\n        // select a random chinese character for the rain\n        let text = chinese[Math.floor(Math.random() * chinese.length)]\n        // set the position of the letter (text, x, y)\n        // so each iteration, draw the letter in the specific column at an ever\n        // increasing y position, making it move down the canvas\n        ctx.fillText(text, i * font_size, elem * font_size)\n        // begin randomizing the rain after the initial waterfall effect\n        if (elem * font_size > c.height && Math.random() > 0.975) {\n          drops[i] = 0\n        }\n        // increase y position by 1 for next animation loop to move the letter\n        drops[i]++\n      })\n    }\n    // run the animation loop every 33 milliseconds\n    this.rain = setInterval(draw, 33)\n  }\n\n  matrixCheck() {\n    const matrices = [\n      \"573a13a2f29313caabd0b8f3\",\n      \"573a139bf29313caabcf3d23\",\n      \"573a13a3f29313caabd0d923\",\n      \"573a13a7f29313caabd1a006\",\n    ]\n    if (this.props.movie._id && matrices.includes(this.props.movie._id)) {\n      this.makeRainTimeout = setTimeout(() => {\n        this.makeRain()\n      }, 1500)\n    }\n  }\n\n  componentDidMount() {\n    this.props.movieActions.fetchMovieByID(this.props.id, this.props.history)\n    window.scrollTo(0, 0)\n    const ctx = this.canvas.getContext(\"2d\")\n    const img = this.poster\n\n    img.onload = () => {\n      ctx.drawImage(img, 0, 0, 300, 444)\n      this.matrixCheck()\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.rain)\n    clearTimeout(this.makeRainTimeout)\n  }\n\n  imgError(id) {\n    this.matrixCheck()\n    let ctx = this.canvas.getContext(\"2d\")\n    ctx.font = \"20pt Calibri\"\n    ctx.textAlign = \"center\"\n    ctx.fillStyle = \"white\"\n    ctx.fillText(\"Image failed to load\", 150, 222)\n  }\n\n  handleUpdate(id, text) {\n    this.props.movieActions.editComment(\n      id,\n      text,\n      this.props.user.auth_token,\n      this.props.movie._id\n    )\n  }\n\n  handleDelete(id) {\n    this.props.movieActions.deleteComment(\n      id,\n      this.props.user.auth_token,\n      this.props.movie._id\n    )\n  }\n\n  handleSearch(subfield, e) {\n    this.props.movieActions.searchMovies(\n      subfield,\n      e.target.innerHTML,\n      this.props.history\n    )\n  }\n\n  handleViewClick() {\n    this.props.movieActions.viewMovie()\n  }\n\n  matrixInterval = null\n\n  render() {\n    const { classes, movie } = this.props\n\n    const comments = movie.comments && (\n      <div>\n        <h2 style={{ color: mongo }}>Comments</h2>\n        <PostComment movieID={this.props.movie._id} />\n        {movie.comments.map(c => {\n          return (\n            <CommentCard\n              handleUpdate={this.handleUpdate}\n              handleDelete={this.handleDelete}\n              cid={c._id}\n              key={c._id}\n              editable={c.email === this.props.user.info.email}\n              name={c.name}\n              date={c.date}\n              text={c.text}\n            />\n          )\n        })}\n      </div>\n    )\n\n    const runtime = movie.runtime && (\n      <span style={{ color: \"white\" }}>\n        Runtime:{\" \"}\n        <span className={classes.runtime}>{getRunTime(movie.runtime)}</span>\n      </span>\n    )\n\n    const directors = movie.directors && (\n      <div className={classes.director}>\n        <span style={{ color: \"white\" }}>\n          Directed by{\" \"}\n          {movie.directors.map((elem, ix) => (\n            <span key={ix} className={classes.directorText}>\n              {elem}\n            </span>\n          ))}\n        </span>\n      </div>\n    )\n\n    const plot =\n      movie.fullplot || movie.plot ? (\n        <div className={classes.plotContainer}>\n          <div className={classes.plot}>{movie.fullplot || movie.plot}</div>\n        </div>\n      ) : (\n        \"\"\n      )\n\n    const genres = movie.genres ? (\n      <div>\n        <h4 className={classes.skittlesHeader}>Genres</h4>\n        <div className={classes.skittlesContainer}>\n          {movie.genres.map((elem, ix) => (\n            <span\n              key={ix}\n              className={classes.genresSkittles}\n              onClick={e => this.handleSearch(\"genre\", e)}\n            >\n              {elem}\n            </span>\n          ))}\n        </div>\n      </div>\n    ) : (\n      \"\"\n    )\n\n    const cast = movie.cast ? (\n      <div>\n        <h4 className={classes.skittlesHeader}>Cast</h4>\n        <div className={classes.skittlesContainer}>\n          {movie.cast.map((elem, ix) => (\n            <span\n              key={ix}\n              className={classes.castSkittles}\n              onClick={e => this.handleSearch(\"cast\", e)}\n            >\n              {elem}\n            </span>\n          ))}\n        </div>\n      </div>\n    ) : (\n      \"\"\n    )\n\n    const writers = movie.writers ? (\n      <div>\n        <h4 className={classes.skittlesHeader}>Writers</h4>\n        <div className={classes.skittlesContainer}>\n          {movie.writers.map((elem, ix) => (\n            <span key={ix} className={classes.writerSkittles}>\n              {elem}\n            </span>\n          ))}\n        </div>\n      </div>\n    ) : (\n      \"\"\n    )\n    return (\n      <div>\n        <div className={classes.root}>\n          <Viewer />\n          <div className={classes.half}>\n            <p className={classes.title}>{movie.title}</p>\n            <div className={classes.infoContainer}>\n              <span className={classes.year}>{movie.year}</span>\n              {movie.rated && (\n                <span className={classes.rating}>{movie.rated}</span>\n              )}\n            </div>\n            {directors}\n            {runtime}\n            {plot}\n            <RatingBar ratings={packageRatings(movie)} />\n          </div>\n          <div className={classes.half}>\n            <canvas\n              width={300}\n              height={444}\n              ref={canvas => {\n                this.canvas = canvas\n              }}\n            >\n              <img\n                ref={poster => {\n                  this.poster = poster\n                }}\n                src={movie.poster || \"\"}\n                alt={movie.title}\n                onError={() => this.imgError()}\n              />\n            </canvas>\n            <div className={classes.watchButton}>\n              <Button className={classes.button} onClick={this.handleViewClick}>\n                watch movie\n              </Button>\n            </div>\n            {genres}\n            {cast}\n            {writers}\n          </div>\n          {comments}\n        </div>\n      </div>\n    )\n  }\n}\n\nMovieDetail.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ movies: { movie, viewMovie }, user }, { match }) {\n  return {\n    movie,\n    id: match.params.id,\n    displayModal: viewMovie,\n    user,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    movieActions: bindActionCreators(movieActions, dispatch),\n  }\n}\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(MovieDetail)\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as userActions from \"../actions/userActions\"\nimport { compose } from \"redux\"\nimport { withRouter } from \"react-router-dom\"\nimport green from \"@material-ui/core/colors/green\"\nimport Input from \"@material-ui/core/Input\"\nimport InputLabel  from \"@material-ui/core/InputLabel\"\nimport FormControl from \"@material-ui/core/FormControl\"\nimport Button from \"@material-ui/core/Button\"\nimport { Link } from \"react-router-dom\"\n\nconst styles = theme => ({\n  root: {\n    display: \"flex\",\n    background: \"black\",\n    height: \"100%\",\n    justifyContent: \"space-around\",\n    width: \"100vw\",\n    textAlign: \"center\",\n    flexDirection: \"row\",\n    flexFlow: \"wrap\",\n  },\n  half: {\n    marginTop: \"65px\",\n    minWidth: \"450px\",\n    maxWidth: \"45%\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    flex: \"0 0 auto\",\n    height: \"100vh\",\n  },\n  accountDelete: {},\n  preferenceSelection: {\n    display: \"inline-flex\",\n    justifyContent: \"center\",\n    width: \"35vw\",\n    background: \"#242424\",\n    padding: \"10px\",\n  },\n  formControl: {\n    margin: theme.spacing.unit,\n  },\n  formLabel: {\n    color: \"white\",\n  },\n  checked: {\n    color: green[500],\n    \"& + $bar\": {\n      backgroundColor: green[500],\n    },\n  },\n  inputContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    background: \"#242424\",\n  },\n  bar: {},\n  buttonSave: {\n    margin: theme.spacing.unit - 2,\n    height: \"18px\",\n    color: \"white\",\n    background: green[500],\n  },\n})\n\nclass Account extends Component {\n  constructor(props) {\n    super(props)\n    this.handleSelect = this.handleSelect.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n    this.savePrefs = this.savePrefs.bind(this)\n    this.state = {\n      ...props.user.info.preferences,\n    }\n  }\n\n  preferenceMapping = {\n    preferred_language: \"Preferred Language\",\n    favorite_cast: \"Favorite Cast\",\n  }\n\n  textPreferences = [\"preferred_language\", \"favorite_cast\"]\n\n  handleSelect = name => event => {\n    this.props.userActions.updatePrefs(\n      { [name]: event.target.checked },\n      this.props.user\n    )\n  }\n\n  handleChange = event => {\n    this.setState({ [event.target.id]: event.target.value })\n  }\n\n  savePrefs() {\n    this.props.userActions.updatePrefs(this.state, this.props.user)\n  }\n\n  loadSelectPrefs() {}\n\n  loadTextPrefs() {\n    const { classes, user } = this.props\n    const prefs = Object.keys(user.info.preferences).filter(key =>\n      this.textPreferences.includes(key)\n    )\n    return prefs.map(key => {\n      return (\n        <div className={classes.inputContainer} key={key}>\n          <FormControl className={classes.formControl}>\n            <InputLabel htmlFor={key} style={{ color: \"white\" }}>\n              {this.preferenceMapping[key]}\n            </InputLabel>\n            <Input\n              id={key}\n              value={this.state[key]}\n              onChange={this.handleChange}\n              style={{ color: \"white\" }}\n            />\n          </FormControl>\n        </div>\n      )\n    })\n  }\n\n  render() {\n    const { classes, user } = this.props\n    return (\n      <div className={classes.root}>\n        <div className={classes.half}>\n          <h2 style={{ color: \"white\" }}>Hello {user.info.name}</h2>\n          {this.loadTextPrefs()}\n          <Button className={classes.buttonSave} onClick={this.savePrefs}>\n            <Link style={{ textDecoration: \"none\", color: \"white\" }} to=\"/\">\n              save\n            </Link>\n          </Button>\n        </div>\n      </div>\n    )\n  }\n}\n\nAccount.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nconst mapStateToProps = ({ user }) => ({ user })\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    userActions: bindActionCreators(userActions, dispatch),\n  }\n}\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(Account)\n","import request, { requestWithStatus } from \"../request\"\nimport * as types from \"../actionTypes\"\n\nexport const searchByQueryAndPage = (which, query, page) => {\n  const encodedQuery = encodeURIComponent(query)\n  return request(\n    `/api/v1/movies/search?${which}=${encodedQuery}&page=${page}`,\n    {\n      method: \"GET\",\n      mode: \"cors\",\n    },\n  )\n    .then(res => res)\n    .catch(error => error)\n}\n\nexport const checkMovieByIDError = () => {\n  return requestWithStatus(`/api/v1/movies/id/foobar`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n\nexport const searchByFacetAndPage = (query, page) => {\n  const encodedQuery = encodeURIComponent(query)\n  return request(\n    `/api/v1/movies/facet-search?cast=${encodedQuery}&page=${page}`,\n    {\n      method: \"GET\",\n      mode: \"cors\",\n    },\n  )\n    .then(res => res)\n    .catch(error => error)\n}\n\nexport const assert = (expected, actual) => expected === actual\n\nexport function beginTicketValidation(ticket) {\n  return { type: types.VALIDATING_TICKET, ticket }\n}\n\nexport const genRandomUser = () => ({\n  name: Math.random()\n    .toString(36)\n    .substr(2, 9),\n  email: `${Math.random()\n    .toString(36)\n    .substr(2, 9)}@${Math.random()\n    .toString(36)\n    .substr(2, 5)}.${Math.random()\n    .toString(36)\n    .substr(2, 3)}`,\n  password: `${Math.random()\n    .toString(36)\n    .substr(2, 9)}`,\n})\n\nexport const deleteUser = (token, user) => {\n  return requestWithStatus(`/api/v1/user/delete`, {\n    method: \"DELETE\",\n    mode: \"cors\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({ password: user.password }),\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n\nexport const logout = user => {\n  return requestWithStatus(`/api/v1/user/logout`, {\n    method: \"POST\",\n    mode: \"cors\",\n    headers: {\n      Authorization: `Bearer ${user}`,\n      \"content-type\": \"application/json\",\n    },\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n\nexport const login = user => {\n  return requestWithStatus(`/api/v1/user/login`, {\n    method: \"POST\",\n    mode: \"cors\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify(user),\n  })\n    .then(user => user)\n    .catch(error => error)\n}\n\nexport const register = user => {\n  return requestWithStatus(`/api/v1/user/register`, {\n    method: \"POST\",\n    mode: \"cors\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify(user),\n  })\n    .then(user => user)\n    .catch(error => error)\n}\n\nexport function getMovie(id) {\n  return request(`/api/v1/movies/id/${id}`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n\nexport function submitComment(movieID, comment, token) {\n  return requestWithStatus(`/api/v1/movies/comment`, {\n    method: \"POST\",\n    mode: \"cors\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      movie_id: movieID,\n      comment,\n    }),\n  })\n    .then(json => json)\n    .catch(e => e)\n}\n\nexport function editComment(commentID, update, token, movie_id) {\n  return requestWithStatus(`/api/v1/movies/comment`, {\n    method: \"PUT\",\n    mode: \"cors\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      comment_id: commentID,\n      updated_comment: update,\n      movie_id,\n    }),\n  })\n    .then(json => json)\n    .catch(e => e)\n}\n\nexport function deleteComment(comment_id, token, movie_id) {\n  return requestWithStatus(`/api/v1/movies/comment`, {\n    method: \"DELETE\",\n    mode: \"cors\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      comment_id,\n      movie_id,\n    }),\n  })\n    .then(json => json)\n    .catch(e => e)\n}\n","import * as types from \"../actionTypes\"\nimport request from \"../request\"\nimport { assert, beginTicketValidation } from \"./validationHelpers\"\n\nexport function validateConnection() {\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"Connection\"))\n    let response = await getMovies()\n    let filtersAssertion = assert(0, Object.keys(response.filters).length)\n    let moviesAssertion = assert(20, response.movies.length)\n    let resultsAssertion = assert(45993, response.total_results)\n    let pageAssertion = assert(0, response.page)\n    if (\n      [\n        filtersAssertion,\n        moviesAssertion,\n        resultsAssertion,\n        pageAssertion,\n      ].every(elem => elem)\n    ) {\n      return dispatch(validateConnectionSuccess())\n    } else {\n      return dispatch(\n        validateConnectionError(\n          new Error(\"The return from the api was incorrect\"),\n        ),\n      )\n    }\n  }\n}\n\nexport function validateConnectionSuccess() {\n  return { type: types.VALIDATE_CONNECTION_SUCCESS }\n}\n\nexport function validateConnectionError(error) {\n  return { type: types.VALIDATE_CONNECTION_ERROR, error }\n}\n\n/**\n * Ticket internal functions\n */\n\nconst getMovies = () => {\n  return request(`/api/v1/movies/`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n","import * as types from \"../actionTypes\"\nimport request from \"../request\"\nimport { assert, beginTicketValidation } from \"./validationHelpers\"\n\nexport function validateProjection() {\n  return async dispatch => {\n    try {\n      dispatch(beginTicketValidation(\"Projection\"))\n      let response = await searchByCountry()\n      let lengthAssertion = assert(710, response.titles.length)\n      let keysAssertion = assert(\n        710,\n        response.titles.filter(elem => Object.keys(elem).length === 2).length,\n      )\n      if ([lengthAssertion, keysAssertion].every(elem => elem)) {\n        return dispatch(validateProjectionSuccess())\n      } else {\n        return dispatch(\n          validateProjectionError(\n            new Error(\n              \"The return from the api was incorrect when searching by country\",\n            ),\n          ),\n        )\n      }\n    } catch (e) {\n      return dispatch(\n        validateProjectionError(\n          new Error(\n            \"The return from the api was incorrect when searching by country\",\n          ),\n        ),\n      )\n    }\n  }\n}\n\nexport function validateProjectionSuccess() {\n  return { type: types.VALIDATE_PROJECTION_SUCCESS }\n}\n\nexport function validateProjectionError(error) {\n  return { type: types.VALIDATE_PROJECTION_ERROR, error }\n}\n\n/**\n *  2 internal functions\n */\n\nconst searchByCountry = () => {\n  return request(`/api/v1/movies/countries?countries=Australia`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n","import * as types from \"../actionTypes\"\nimport request from \"../request\"\nimport { assert, beginTicketValidation } from \"./validationHelpers\"\n\nexport function validateTextAndSubfield() {\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"TextAndSubfield\"))\n    try {\n      let castSearch = await searchGG()\n      let textSearch = await searchSS()\n      let genreSearch = await searchReality()\n      if ([castSearch, textSearch, genreSearch].every(elem => elem)) {\n        return dispatch(validateTextAndSubfieldSuccess())\n      }\n    } catch (e) {\n      return dispatch(validateTextAndSubfieldError(e))\n    }\n  }\n}\n\nexport function validateTextAndSubfieldSuccess() {\n  return { type: types.VALIDATE_TEXT_AND_SUBFIELD_SUCCESS }\n}\n\nexport function validateTextAndSubfieldError(error) {\n  return { type: types.VALIDATE_TEXT_AND_SUBFIELD_ERROR, error }\n}\n\n/**\n * Ticket 3 internal functions\n */\n\nconst searchByCast = () => {\n  const griffinGluck = encodeURIComponent(\"Griffin Gluck\")\n  return request(`/api/v1/movies/search?cast=${griffinGluck}`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n\nconst searchByText = () => {\n  const shawshank = encodeURI(\"shawshank\")\n  return request(`/api/v1/movies/search?text=${shawshank}`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n\nconst searchByGenre = () => {\n  const reality = encodeURI(\"Reality-TV\")\n  return request(`/api/v1/movies/search?genre=${reality}`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n\nconst searchGG = async () => {\n  try {\n    let response = await searchByCast()\n    let lengthAssertion = assert(1, response.movies.length)\n    let movie = response.movies.pop()\n    let imdb = movie.imdb.id === 4981636\n    let writers = movie.writers.length === 3\n    let title = movie.title === \"Middle School: The Worst Years of My Life\"\n    if (lengthAssertion && imdb && writers && title) {\n      return true\n    } else {\n      throw new Error(\n        \"Did not receive the proper response when searching by cast\",\n      )\n    }\n  } catch (e) {\n    throw new Error(\n      \"Did not receive the proper response when searching by cast\",\n    )\n  }\n}\n\nconst searchSS = async () => {\n  try {\n    let response = await searchByText()\n    let lengthAssertion = assert(3, response.movies.length)\n    let movie = response.movies.pop()\n    let imdb = movie.imdb.id === 1045642\n    let writers = movie.writers.length === 3\n    let title = movie.title === \"Tales from the Script\"\n    if (lengthAssertion && imdb && writers && title) {\n      return true\n    } else {\n      throw new Error(\n        \"Did not receive the proper response when searching by text\",\n      )\n    }\n  } catch (e) {\n    throw new Error(\n      \"Did not receive the proper response when searching by text\",\n    )\n  }\n}\n\nconst searchReality = async () => {\n  try {\n    let response = await searchByGenre()\n    let lengthAssertion = assert(2, response.movies.length)\n    let movie = response.movies.pop()\n    let imdb = movie.imdb.id === 4613322\n    let writers = movie.writers.length === 1\n    let title = movie.title === \"Louis Theroux: Transgender Kids\"\n    if (lengthAssertion && imdb && writers && title) {\n      return true\n    } else {\n      throw new Error(\n        \"Did not receive the proper response when searching by genre\",\n      )\n    }\n  } catch (e) {\n    throw new Error(\n      \"Did not receive the proper response when searching by genre\",\n    )\n  }\n}\n","import * as types from \"../actionTypes\"\nimport {\n  searchByQueryAndPage,\n  assert,\n  beginTicketValidation\n} from \"./validationHelpers\"\n\nexport function validatePaging() {\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"Paging\"))\n    try {\n      let castPaging0 = await searchByCast()\n      let castPaging1 = await searchByCastNextPage()\n      let genrePaging0 = await searchByGenre()\n      let genrePaging5 = await searchByGenrePage5()\n      let textPaging0 = await searchByText()\n      let textPaging7 = await searchByTextPage7()\n      if (\n        [\n          castPaging0,\n          castPaging1,\n          genrePaging0,\n          genrePaging5,\n          textPaging0,\n          textPaging7\n        ].every(elem => elem)\n      ) {\n        return dispatch(validatePagingSuccess())\n      }\n    } catch (e) {\n      return dispatch(validatePagingError(e))\n    }\n  }\n}\n\nexport function validatePagingSuccess() {\n  return { type: types.VALIDATE_PAGING_SUCCESS }\n}\n\nexport function validatePagingError(error) {\n  return { type: types.VALIDATE_PAGING_ERROR, error }\n}\n\n/**\n * Ticket 6 internal functions\n */\n\nconst searchByCast = async () => {\n  try {\n    let response = await searchByQueryAndPage(\"cast\", \"Morgan Freeman\", 0)\n    let lengthAssertion = assert(20, response.movies.length)\n    let movie = response.movies.pop()\n    let imdb = movie.imdb.id === 428803\n    let writers = movie.writers.length === 4\n    let title = movie.title === \"March of the Penguins\"\n    if (lengthAssertion && imdb && writers && title) {\n      return true\n    } else {\n      throw new Error(\"Did not receive the proper response when paging by cast\")\n    }\n  } catch (e) {\n    throw new Error(\"Did not receive the proper response when paging by cast\")\n  }\n}\n\nconst searchByCastNextPage = async () => {\n  try {\n    let response = await searchByQueryAndPage(\"cast\", \"Morgan Freeman\", 1)\n    let lengthAssertion = assert(20, response.movies.length)\n    let movie = response.movies.pop()\n    let imdb = movie.imdb.id === 304328\n    let writers = movie.writers.length === 1\n    let title = movie.title === \"Levity\"\n    if (lengthAssertion && imdb && writers && title) {\n      return true\n    } else {\n      throw new Error(\"Did not receive the proper response when paging by cast\")\n    }\n  } catch (e) {\n    throw new Error(\"Did not receive the proper response when paging by cast\")\n  }\n}\n\nconst searchByGenre = async () => {\n  try {\n    let response = await searchByQueryAndPage(\"genre\", \"Action\", 0)\n    let lengthAssertion = assert(20, response.movies.length)\n    let movie = response.movies.pop()\n    let imdb = movie.imdb.id === 416449\n    let writers = movie.writers.length === 5\n    let title = movie.title.toString() === \"300\"\n    if (lengthAssertion && imdb && writers && title) {\n      return true\n    } else {\n      throw new Error(\n        \"Did not receive the proper response when paging by genre\"\n      )\n    }\n  } catch (e) {\n    throw new Error(\"Did not receive the proper response when paging by genre\")\n  }\n}\n\nconst searchByGenrePage5 = async () => {\n  try {\n    let response = await searchByQueryAndPage(\"genre\", \"Action\", 5)\n    let lengthAssertion = assert(20, response.movies.length)\n    let movie = response.movies.pop()\n    let imdb = movie.imdb.id === 1385867\n    let writers = movie.writers.length === 2\n    let title = movie.title.toString() === \"Cop Out\"\n    if (lengthAssertion && imdb && writers && title) {\n      return true\n    } else {\n      throw new Error(\n        \"Did not receive the proper response when paging by genre\"\n      )\n    }\n  } catch (e) {\n    throw new Error(\"Did not receive the proper response when paging by genre\")\n  }\n}\n\nconst searchByText = async () => {\n  try {\n    let response = await searchByQueryAndPage(\"text\", \"Heist\", 0)\n    let lengthAssertion = assert(20, response.movies.length)\n    let movie = response.movies.pop()\n    let imdb = movie.imdb.id === 1748197\n    let writers = movie.writers.length === 2\n    let title = movie.title.toString() === \"Setup\"\n    if (lengthAssertion && imdb && writers && title) {\n      return true\n    } else {\n      throw new Error(\"Did not receive the proper response when paging by text\")\n    }\n  } catch (e) {\n    throw new Error(\"Did not receive the proper response when paging by text\")\n  }\n}\n\nconst searchByTextPage7 = async () => {\n  try {\n    let response = await searchByQueryAndPage(\"text\", \"Heist\", 7)\n    let lengthAssertion = assert(20, response.movies.length)\n    let movie = response.movies.pop()\n    let imdb = movie.imdb.id === 119892\n    let writers = movie.writers.length === 1\n    let title = movie.title.toString() === \"Phoenix\"\n    if (lengthAssertion && imdb && writers && title) {\n      return true\n    } else {\n      throw new Error(\"Did not receive the proper response when paging by text\")\n    }\n  } catch (e) {\n    throw new Error(\"Did not receive the proper response when paging by text\")\n  }\n}\n","import * as types from \"../actionTypes\"\nimport {\n  searchByFacetAndPage,\n  assert,\n  beginTicketValidation\n} from \"./validationHelpers\"\n\nexport function validateFacetedSearch() {\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"FacetedSearch\"))\n    try {\n      let facetSearch = await searchFacet()\n      let facetPagingSearch = await searchFacetPaging()\n      if ([facetSearch, facetPagingSearch].every(elem => elem)) {\n        return dispatch(validateFacetedSearchSuccess())\n      }\n    } catch (e) {\n      return dispatch(validateFacetedSearchError(e))\n    }\n  }\n}\n\nexport function validateFacetedSearchSuccess() {\n  return { type: types.VALIDATE_FACETED_SEARCH_SUCCESS }\n}\n\nexport function validateFacetedSearchError(error) {\n  return { type: types.VALIDATE_FACETED_SEARCH_ERROR, error }\n}\n\n/**\n * Ticket 5 internal functions\n */\n\nconst searchFacet = async () => {\n  try {\n    let response = await searchByFacetAndPage(\"Denzel Washington\", 0)\n    let lengthAssertion = assert(20, response.movies.length)\n    let { rating, runtime } = response.facets\n    let ratingAssertion = assert(4, rating.length)\n    let runtimeAssertion = assert(3, runtime.length)\n    if (lengthAssertion && ratingAssertion && runtimeAssertion) {\n      return true\n    } else {\n      throw new Error(\n        \"Did not receive the proper response when performing a faceted search\"\n      )\n    }\n  } catch (e) {\n    throw new Error(\n      \"Did not receive the proper response when performing a faceted search\"\n    )\n  }\n}\n\nconst searchFacetPaging = async () => {\n  try {\n    let response = await searchByFacetAndPage(\"Morgan Freeman\", 2)\n    let lengthAssertion = assert(19, response.movies.length)\n    let { rating, runtime } = response.facets\n    let ratingAssertion = assert(3, rating.length)\n    let runtimeAssertion = assert(4, runtime.length)\n    if (lengthAssertion && ratingAssertion && runtimeAssertion) {\n      return true\n    } else {\n      throw new Error(\n        \"Did not receive the proper response when performing a faceted search with paging\"\n      )\n    }\n  } catch (e) {\n    throw new Error(\n      \"Did not receive the proper response when performing a faceted search with paging\"\n    )\n  }\n}\n","import * as types from \"../actionTypes\"\nimport {\n  beginTicketValidation,\n  genRandomUser,\n  register,\n  logout,\n  login,\n  deleteUser\n} from \"./validationHelpers\"\n\nexport function validateUserManagement() {\n  let testUser = genRandomUser()\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"UserManagement\"))\n    try {\n      const registerResponse = await register(testUser)\n      if (!registerResponse.ok) {\n        throw new Error(\"invalid response to register\")\n      }\n      const duplicateRegisterResponse = await register(testUser)\n      if (!duplicateRegisterResponse.ok) {\n        console.log(\n          `\\nHey there! The error response code was expected.\nIt's us testing if duplicate emails can register.\nGreat Job!`\n        )\n      }\n      if (duplicateRegisterResponse.ok) {\n        throw new Error(\"duplicate emails should not be allowed\")\n      }\n      let { auth_token } = registerResponse.json\n      let logoutResponse = await logout(auth_token)\n      if (!logoutResponse.ok) {\n        throw new Error(\"invalid response to logout\")\n      }\n      const { email, password } = testUser\n      const loginResponse = await login({ email, password })\n      if (!loginResponse.ok) {\n        throw new Error(\"invalid response to login\")\n      }\n      auth_token = loginResponse.json.auth_token\n      let deleteResponse = await deleteUser(auth_token, testUser)\n      if (!deleteResponse.ok) {\n        throw new Error(\"invalid response to delete\")\n      }\n      return dispatch(validateUserManagementSuccess())\n    } catch (error) {\n      return dispatch(validateUserManagementError(error))\n    }\n  }\n}\n\nexport function validateUserManagementSuccess() {\n  return { type: types.VALIDATE_USER_MANAGEMENT_SUCCESS }\n}\n\nexport function validateUserManagementError(error) {\n  return { type: types.VALIDATE_USER_MANAGEMENT_ERROR, error }\n}\n","import * as types from \"../actionTypes\"\nimport { requestWithStatus } from \"../request\"\nimport {\n  beginTicketValidation,\n  genRandomUser,\n  register,\n  login,\n  deleteUser,\n} from \"./validationHelpers\"\n\nexport function validateUserPreferences() {\n  let testUser = genRandomUser()\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"UserPreferences\"))\n    try {\n      const registerResponse = await register(testUser)\n      if (!registerResponse.ok) {\n        throw new Error(\"invalid response to register\")\n      }\n      const { auth_token } = registerResponse.json\n      testUser.preferences = {\n        favorite_fruit: \"watermelon\",\n        favorite_number: \"42\",\n      }\n\n      let prefResponse = await updatePreferences(auth_token, testUser)\n      if (!prefResponse.ok) {\n        throw new Error(\"invalid response to update preferences\")\n      }\n\n      const { email, password } = testUser\n\n      let loginResponse = await login({ email, password })\n      if (!loginResponse.ok){\n        throw new Error(\"invalid response to update preferences - login of user failed\")\n      }\n      // let's check if the paiload of the response was correctly sent back by the app\n      if (\n        loginResponse.json === undefined ||\n        loginResponse.json.info === undefined ){\n        throw new Error(\"invalid response for user preferences\")\n      }\n      if (\n        JSON.stringify(loginResponse.json.info.preferences) !==\n        JSON.stringify(testUser.preferences)\n      ) {\n        throw new Error(\"preferences weren't saved correctly\")\n      }\n\n      let deleteResponse = await deleteUser(auth_token, testUser)\n      if (!deleteResponse.ok) {\n        throw new Error(\"invalid response to delete\")\n      }\n      return dispatch(validateUserPreferencesSuccess())\n    } catch (error) {\n      return dispatch(validateUserPreferencesError(error))\n    }\n  }\n}\n\nexport function validateUserPreferencesSuccess() {\n  return { type: types.VALIDATE_USER_PREFERENCES_SUCCESS }\n}\n\nexport function validateUserPreferencesError(error) {\n  return { type: types.VALIDATE_USER_PREFERENCES_ERROR, error }\n}\n\nconst updatePreferences = (token, user) => {\n  return requestWithStatus(`/api/v1/user/update-preferences`, {\n    method: \"PUT\",\n    mode: \"cors\",\n    headers: {\n      \"content-type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({ preferences: user.preferences }),\n  })\n    .then(user => user)\n    .catch(error => error)\n}\n","import * as types from \"../actionTypes\"\nimport { assert, beginTicketValidation, getMovie } from \"./validationHelpers\"\n\n// Shrek 2\nconst movie_id = \"573a13a7f29313caabd1aa1f\"\n\nexport function validateGetComments() {\n  return async dispatch => {\n    try {\n      dispatch(beginTicketValidation(\"GetComments\"))\n      let response = await getMovie(movie_id)\n      let lengthAssertion = assert(response.movie.comments.length, 439)\n      if (lengthAssertion) {\n        return dispatch(validateGetCommentsSuccess())\n      } else {\n        return dispatch(\n          validateGetCommentsError(\n            new Error(\"The return from the api was incorrect\"),\n          ),\n        )\n      }\n    } catch (e) {\n      return dispatch(\n        validateGetCommentsError(\n          new Error(\"The return from the api was incorrect\"),\n        ),\n      )\n    }\n  }\n}\n\nexport function validateGetCommentsSuccess() {\n  return { type: types.VALIDATE_GET_COMMENTS_SUCCESS }\n}\n\nexport function validateGetCommentsError(error) {\n  return { type: types.VALIDATE_GET_COMMENTS_ERROR, error }\n}\n","import * as types from \"../actionTypes\"\nimport {\n  beginTicketValidation,\n  genRandomUser,\n  deleteUser,\n  register,\n  submitComment,\n  editComment,\n  deleteComment,\n  getMovie,\n} from \"./validationHelpers\"\n\n// men in black\nconst movie_id = \"573a139af29313caabcf0b0a\"\nexport function validateCreateUpdateComments() {\n  return async dispatch => {\n    try {\n      dispatch(beginTicketValidation(\"CreateUpdateComments\"))\n\n      // create the user who will own this comment\n      const commentOwner = genRandomUser()\n      const ownerRegisterResponse = await register(commentOwner)\n      const ownerAuthToken = ownerRegisterResponse.json.auth_token\n\n      // create another user who will attempt to update the comment\n      const otherUser = genRandomUser()\n      const otherRegisterResponse = await register(otherUser)\n      const otherAuthToken = otherRegisterResponse.json.auth_token\n\n      let postC, badC, goodC\n      const commentResponse = await submitComment(\n        movie_id,\n        \"feefee\",\n        ownerAuthToken,\n      )\n      if (!commentResponse.ok) {\n        throw new Error(\"Unable to post a comment\")\n      } else {\n        postC = true\n      }\n\n      // make sure Get Comments ticket has been completed\n      let firstCommentID\n      try {\n        firstCommentID = commentResponse.json.comments[0]._id\n      } catch (e) {\n        throw new Error(\"Unable to retrieve movie comments\")\n      }\n\n      // try to update comment with a different auth token - this should fail\n      const badResponse = await editComment(\n        firstCommentID,\n        \"badCommentText\",\n        otherAuthToken,\n        movie_id,\n      )\n\n      if (badResponse.ok) {\n        throw new Error(\"Was able to update a comment that wasn't owned\")\n      } else {\n        badC = true\n      }\n\n      // try to update comment with the correct auth token - this should succeed\n      const newCommentText = \"fazzlebizzle\"\n      const goodUpdate = await editComment(\n        firstCommentID,\n        newCommentText,\n        ownerAuthToken,\n        movie_id,\n      )\n      if (goodUpdate.ok === false) {\n        throw new Error(\"Unable to update comment\")\n      } else {\n        goodC = true\n      }\n\n      const updatedMovie = await getMovie(movie_id)\n      let updatedComment\n      try {\n        updatedComment = updatedMovie.movie.comments[0]\n      } catch (e) {\n        throw new Error(\"Unable to retrieve movie comments\")\n      }\n      if (updatedComment.text !== newCommentText) {\n        throw new Error(\"Update was performed but unsuccessful\")\n      }\n      deleteComment(firstCommentID, ownerAuthToken, movie_id)\n      if (postC && badC && goodC) {\n        deleteUser(ownerAuthToken, commentOwner)\n        deleteUser(otherAuthToken, otherUser)\n        return dispatch(validateCreateUpdateCommentsSuccess())\n      } else {\n        return dispatch(\n          validateCreateUpdateCommentsError(\n            new Error(\"The return from the api was incorrect\"),\n          ),\n        )\n      }\n    } catch (e) {\n      return dispatch(validateCreateUpdateCommentsError(new Error(e.message)))\n    }\n  }\n}\n\nexport function validateCreateUpdateCommentsSuccess() {\n  return { type: types.VALIDATE_CREATE_UPDATE_COMMENTS_SUCCESS }\n}\n\nexport function validateCreateUpdateCommentsError(error) {\n  return { type: types.VALIDATE_CREATE_UPDATE_COMMENTS_ERROR, error }\n}\n","import * as types from \"../actionTypes\"\nimport {\n  beginTicketValidation,\n  genRandomUser,\n  register,\n  submitComment,\n  deleteComment,\n  deleteUser,\n  getMovie,\n} from \"./validationHelpers\"\n\n// the martian\nconst movie_id = \"573a13eff29313caabdd82f3\"\nexport function validateDeleteComments() {\n  return async dispatch => {\n    try {\n      dispatch(beginTicketValidation(\"DeleteComments\"))\n\n      // create the user who will own this comment\n      const commentOwner = genRandomUser()\n      const ownerRegisterResponse = await register(commentOwner)\n      const ownerAuthToken = ownerRegisterResponse.json.auth_token\n\n      // create another user who will attempt to delete the comment\n      const otherUser = genRandomUser()\n      const otherRegisterResponse = await register(otherUser)\n      const otherAuthToken = otherRegisterResponse.json.auth_token\n\n      let postC, badC, goodC\n      const commentResponse = await submitComment(\n        movie_id,\n        \"feefee\",\n        ownerAuthToken,\n      )\n      if (!commentResponse.ok) {\n        throw new Error(\"Unable to post a comment\")\n      } else {\n        postC = true\n      }\n\n      // make sure Get Comments ticket has been completed\n      let firstCommentID\n      try {\n        firstCommentID = commentResponse.json.comments[0]._id\n      } catch (e) {\n        throw new Error(\"Unable to retrieve movie comments\")\n      }\n\n      // using otherAuthToken, should not be able to delete this comment\n      const badResponse = await deleteComment(\n        firstCommentID,\n        otherAuthToken,\n        movie_id,\n      )\n\n      try {\n        let badResponseCommentId\n        // check to see if the api returns a successful or failure status code\n        if (badResponse.ok) {\n          badResponseCommentId = badResponse.json.comments[0]._id\n          // if the first (latest) comment associated with The Martian has changed,\n          // then this bad delete was actually successful - this will throw an error\n          if (badResponseCommentId !== firstCommentID) {\n            throw new Error(\"Was able to delete a comment that wasn't owned\")\n          }\n        }\n        badC = true\n      } catch (e) {\n        throw e\n      }\n      // using ownerAuthToken, should be able to successfully delete this comment\n      await deleteComment(firstCommentID, ownerAuthToken, movie_id)\n\n      const updatedMovie = await getMovie(movie_id)\n      let newCommentID\n      try {\n        newCommentID = updatedMovie.movie.comments[0]._id\n      } catch (e) {\n        throw new Error(\"Unable to retrieve movie comments\")\n      }\n\n      // if the first comment associated with The Martian has NOT changed, then\n      // this good delete was unsuccessful - this will throw an error\n      if (newCommentID === firstCommentID) {\n        throw new Error(\"Deletion was performed but unsuccessful\")\n      } else {\n        goodC = true\n      }\n\n      if (postC && badC && goodC) {\n        deleteUser(ownerAuthToken, commentOwner)\n        deleteUser(otherAuthToken, otherUser)\n        return dispatch(validateDeleteCommentsSuccess())\n      } else {\n        return dispatch(\n          validateDeleteCommentsError(\n            new Error(\"The return from the api was incorrect\"),\n          ),\n        )\n      }\n    } catch (e) {\n      return dispatch(validateDeleteCommentsError(new Error(e.message)))\n    }\n  }\n}\n\nexport function validateDeleteCommentsSuccess() {\n  return { type: types.VALIDATE_DELETE_COMMENTS_SUCCESS }\n}\n\nexport function validateDeleteCommentsError(error) {\n  return { type: types.VALIDATE_DELETE_COMMENTS_ERROR, error }\n}\n","import * as types from \"../actionTypes\"\nimport request, { requestWithStatus } from \"../request\"\nimport {\n  beginTicketValidation,\n  genRandomUser,\n  deleteUser,\n} from \"./validationHelpers\"\n\nconst invalid_auth_token =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE1MjIxNzI3NzMsIm5iZiI6MTUyMjE3Mjc3MywianRpIjoiYjFlYmI0ZDQtNjZlZS00MTY4LTg0MWQtZGNhODJkMThmN2NhIiwiZXhwIjoxNTIyMTczNjczLCJpZGVudGl0eSI6eyJlbWFpbCI6ImZvb2JhekBiYXIuY29tIiwibmFtZSI6ImZvbyBiYXIiLCJwYXNzd29yZCI6bnVsbCwicHJlZmVyZW5jZXMiOnsiZmF2b3JpdGVfY2FzdCI6Ik1lZyBSeWFuIiwicHJlZmVycmVkX2xhbmd1YWdlIjoiRW5nbGlzaCJ9fSwiZnJlc2giOmZhbHNlLCJ0eXBlIjoiYWNjZXNzIiwidXNlcl9jbGFpbXMiOnsidXNlciI6eyJlbWFpbCI6ImZvb2JhekBiYXIuY29tIiwibmFtZSI6ImZvbyBiYXIiLCJwYXNzd29yZCI6bnVsbCwicHJlZmVyZW5jZXMiOnsiZmF2b3JpdGVfY2FzdCI6Ik1lZyBSeWFuIiwicHJlZmVycmVkX2xhbmd1YWdlIjoiRW5nbGlzaCJ9fX19.q9z_tG7gEqaRMfrbTpj9Jz52vocqOBWgEpCd3KC6giI\"\n\n// the martian\nexport function validateUserReport() {\n  return async dispatch => {\n    try {\n      dispatch(beginTicketValidation(\"UserReport\"))\n      let testUser = genRandomUser()\n      const registerResponse = await register(testUser)\n      const { auth_token } = registerResponse\n      const badReportRequest = await getUserReport(invalid_auth_token)\n      const goodReportRequest = await getUserReport(auth_token)\n      if (badReportRequest.ok) {\n        throw new Error(\"Invalid response to bad user report request\")\n      }\n      if (\n        !goodReportRequest.ok ||\n        goodReportRequest.json.report.length !== 20\n      ) {\n        throw new Error(\"Invalid response to good user report request\")\n      }\n      deleteUser(auth_token, testUser)\n      return dispatch(validateUserReportSuccess())\n    } catch (e) {\n      return dispatch(validateUserReportError(new Error(e.message)))\n    }\n  }\n}\n\nexport function validateUserReportSuccess() {\n  return { type: types.VALIDATE_USER_REPORT_SUCCESS }\n}\n\nexport function validateUserReportError(error) {\n  return { type: types.VALIDATE_USER_REPORT_ERROR, error }\n}\n\n/**\n * Ticket 11 internal functions\n */\n\nconst getUserReport = token => {\n  return requestWithStatus(`/api/v1/user/comment-report`, {\n    method: \"GET\",\n    mode: \"cors\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n\nconst register = user => {\n  return request(`/api/v1/user/make-admin`, {\n    method: \"POST\",\n    mode: \"cors\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify(user),\n  })\n    .then(user => user)\n    .catch(error => error)\n}\n","import * as types from \"../actionTypes\"\nimport { beginTicketValidation, getMovie } from \"./validationHelpers\"\n\nlet movie_id = \"573a1390f29313caabcd4132\"\nexport function validateMigration() {\n  return async dispatch => {\n    try {\n      dispatch(beginTicketValidation(\"Migration\"))\n      const response = await getMovie(movie_id)\n      let dateTypes = [\"<class 'datetime.datetime'>\", \"java.util.Date\", \"Date\"]\n      if (dateTypes.indexOf(response.updated_type) > -1) {\n        return dispatch(validateMigrationSuccess())\n      } else {\n        return dispatch(\n          validateMigrationError(\n            new Error(\n              \"It does not appear that you correctly converted the type\",\n            ),\n          ),\n        )\n      }\n    } catch (e) {\n      return dispatch(\n        validateMigrationError(\n          new Error(\"It does not appear that you correctly converted the type\"),\n        ),\n      )\n    }\n  }\n}\n\nexport function validateMigrationSuccess() {\n  return { type: types.VALIDATE_MIGRATION_SUCCESS }\n}\n\nexport function validateMigrationError(error) {\n  return { type: types.VALIDATE_MIGRATION_ERROR, error }\n}\n","import * as types from \"../actionTypes\"\nimport request from \"../request\"\nimport { assert, beginTicketValidation } from \"./validationHelpers\"\n\nexport function validateConnectionPooling() {\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"ConnectionPooling\"))\n    let response = await getPoolSize()\n    let poolAssertion = assert(50, response.pool_size)\n    if ([poolAssertion].every(elem => elem)) {\n      return dispatch(validateConnectionPoolingSuccess())\n    } else {\n      return dispatch(\n        validateConnectionPoolingError(\n          new Error(\"The return from the api was incorrect\"),\n        ),\n      )\n    }\n  }\n}\n\nexport function validateConnectionPoolingSuccess() {\n  return { type: types.VALIDATE_CONNECTION_POOLING_SUCCESS }\n}\n\nexport function validateConnectionPoolingError(error) {\n  return { type: types.VALIDATE_CONNECTION_POOLING_ERROR, error }\n}\n\n/**\n * Ticket internal functions\n */\n\nconst getPoolSize = () => {\n  return request(`/api/v1/movies/config-options`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n","import * as types from \"../actionTypes\"\nimport request from \"../request\"\nimport { assert, beginTicketValidation } from \"./validationHelpers\"\n\nexport function validateTimeouts() {\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"Timeouts\"))\n    let response = await getPoolSize()\n    let timeAssertion = assert(2500, response.wtimeout)\n    if (timeAssertion) {\n      return dispatch(validateTimeoutsSuccess())\n    } else {\n      return dispatch(\n        validateTimeoutsError(\n          new Error(\"The return from the api was incorrect\"),\n        ),\n      )\n    }\n  }\n}\n\nexport function validateTimeoutsSuccess() {\n  return { type: types.VALIDATE_TIMEOUTS_SUCCESS }\n}\n\nexport function validateTimeoutsError(error) {\n  return { type: types.VALIDATE_TIMEOUTS_ERROR, error }\n}\n\n/**\n * Ticket 13 internal functions\n */\n\nconst getPoolSize = () => {\n  return request(`/api/v1/movies/config-options`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n","import * as types from \"../actionTypes\"\nimport request from \"../request\"\nimport { beginTicketValidation } from \"./validationHelpers\"\n\nexport function validateErrorHandling() {\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"ErrorHandling\"))\n    try {\n      let response = await checkMovieByIDError()\n      if (response.error !== \"Not found\") {\n        throw new Error()\n      }\n      return dispatch(validateErrorHandlingSuccess())\n    } catch (e) {\n      return dispatch(\n        validateErrorHandlingError(\n          new Error(\n            \"The return from the api was incorrect when providing a bad id to search by\",\n          ),\n        ),\n      )\n    }\n  }\n}\n\nexport function validateErrorHandlingSuccess() {\n  return { type: types.VALIDATE_ERROR_HANDLING_SUCCESS }\n}\n\nexport function validateErrorHandlingError(error) {\n  return { type: types.VALIDATE_ERROR_HANDLING_ERROR, error }\n}\n\n/**\n * Ticket 15 internal functions\n */\n\nconst checkMovieByIDError = () => {\n  return request(`/api/v1/movies/id/foobar`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n","import * as types from \"../actionTypes\"\nimport request from \"../request\"\nimport { beginTicketValidation } from \"./validationHelpers\"\n\nexport function validatePOLP() {\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"POLP\"))\n    let response = await getUserInfo()\n    let roleAssertion = response.role === \"readWrite\"\n    if (roleAssertion) {\n      return dispatch(validatePOLPSuccess())\n    } else {\n      return dispatch(\n        validatePOLPError(\n          new Error(\n            \"It doesn't appear you have configured the application user\",\n          ),\n        ),\n      )\n    }\n  }\n}\n\nexport function validatePOLPSuccess() {\n  return { type: types.VALIDATE_POLP_SUCCESS }\n}\n\nexport function validatePOLPError(error) {\n  return { type: types.VALIDATE_POLP_ERROR, error }\n}\n\n/**\n * Ticket 13 internal functions\n */\n\nconst getUserInfo = () => {\n  return request(`/api/v1/movies/config-options`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport Button from \"@material-ui/core/Button\"\nimport { CopyToClipboard } from \"react-copy-to-clipboard\"\nimport red from \"@material-ui/core/colors/red\"\nimport grey from \"@material-ui/core/colors/grey\"\n\nconst mongoRed = red[900]\nconst mongoGrey = grey[400]\n\nconst styles = theme => ({\n  validationBar: {\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: \"50vw\",\n    marginTop: \"15px\",\n    height: \"40px\",\n  },\n  validationTicket: {\n    display: \"flex\",\n    padding: \"0 15px\",\n    height: \"40px\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"30vw\",\n  },\n  validationTicketWaiting: {\n    display: \"flex\",\n    padding: \"0 15px\",\n    height: \"40px\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"30vw\",\n    background: mongoGrey,\n  },\n  ticketLabel: {\n    display: \"flex\",\n    padding: \"0 5px\",\n    background: \"#e6e6e6\",\n    textAlign: \"center\",\n    height: \"40px\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"10vw\",\n  },\n  copyButton: {\n    height: \"40px\",\n    color: \"white\",\n    background: \"#6b6b6b\",\n    justifyContent: \"center\",\n    borderRadius: 0,\n    \"&:hover\": {\n      background: \"#6b6b6b\",\n    },\n    width: \"10vw\",\n  },\n})\n\nclass TicketValidator extends React.Component {\n  state = {\n    beginValidating: false,\n  }\n\n  onClickValidate() {\n    this.setState({beginValidating: true})\n    this.props.onClickValidate(this.props.ticketName)\n  }\n\n  render() {\n    const props = this.props\n    if (!this.state.beginValidating) {\n      return (\n        <div className={props.classes.validationBar} onClick={() => this.onClickValidate()}>\n          <span className={props.classes.ticketLabel}>{props.ticketLabel}</span>\n          <div className={props.classes.validationTicketWaiting}>\n            Click to begin validation\n          </div>\n        </div>\n      )\n    } else {\n      switch (props.ticketValidating) {\n        case true:\n          return (\n            <div className={props.classes.validationBar}>\n              <span className={props.classes.ticketLabel}>\n                {props.ticketLabel}\n              </span>\n              <div className={props.classes.validationTicketWaiting}>\n                Currently Validating\n              </div>\n            </div>\n          )\n\n        default:\n          return !props.ticketError ? (\n            <div className={props.classes.validationBar}>\n              <span className={props.classes.ticketLabel}>\n                {props.ticketLabel}\n              </span>\n              <div\n                className={props.classes.validationTicket}\n                style={{ background: \"#056705\" }}\n              >\n                {props.ticketSuccess}\n              </div>\n              <CopyToClipboard text={props.ticketSuccess}>\n                <Button\n                  onClick={props.copied}\n                  className={props.classes.copyButton}\n                >\n                  Copy\n                </Button>\n              </CopyToClipboard>\n            </div>\n          ) : (\n            <div\n              className={props.classes.validationBar}\n              style={{ background: mongoRed }}\n            >\n              {props.ticketLabel}: {props.ticketErrorMessage}\n            </div>\n          )\n      }\n    }\n  }\n}\n\nTicketValidator.propTypes = {\n  classes: PropTypes.object.isRequired,\n  copied: PropTypes.func.isRequired,\n  onClickValidate: PropTypes.func.isRequired,\n  ticketError: PropTypes.bool.isRequired,\n  ticketErrorMessage: PropTypes.string.isRequired,\n  ticketSuccess: PropTypes.string.isRequired,\n  ticketLabel: PropTypes.string.isRequired,\n  ticketValidating: PropTypes.bool.isRequired,\n  ticketName: PropTypes.string.isRequired,\n}\n\nexport default withStyles(styles)(TicketValidator)\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as validationActions from \"../actions/validationActions/index\"\nimport { compose } from \"redux\"\nimport pixelLeaf from \"../assets/pixelatedLeaf.svg\"\nimport Snackbar from \"@material-ui/core/Snackbar\"\nimport TicketValidator from \"./TicketValidator\"\n\nconst styles = theme => ({\n  root: {\n    flex: 1,\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    width: \"100vw\",\n    minHeight: \"100vh\",\n    height: \"100%\",\n    flexBasis: 0,\n    textAlign: \"center\",\n    paddingTop: \"15px\",\n    alignItems: \"center\"\n  },\n  inner: {\n    color: \"red\",\n    fontSize: \"64px\",\n    fontFamily: \"'Press Start 2P', cursive\",\n    textAlign: \"center\",\n    textStroke: \"1px\",\n    textShadow:\n      \"3px 3px 0 green, -1px -1px 0 blue, 1px -1px 0 blue, -1px 1px 0 blue, 1px 1px 0 blue\",\n    paddingTop: \"15px\",\n    animation: \"blink 1s linear 3 forwards\"\n  },\n  leaf: {\n    marginTop: \"15px\",\n    animation: \"spinningLeaf 2s linear 0s infinite\"\n  }\n})\n\nclass Status extends Component {\n  interval = null\n  timeout = null\n  state = {\n    startValidation: false,\n    open: false\n  }\n  constructor(props) {\n    super(props)\n    this.onClickValidate = this.onClickValidate.bind(this)\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => {\n      this.leaf.style.opacity -= 0.01\n    }, 30)\n    this.timeout = setTimeout(() => {\n      this.readyName.style.display = \"none\"\n      this.leaf.style.display = \"none\"\n      clearInterval(this.interval)\n      this.setState({ startValidation: true })\n    }, 3500)\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval)\n    clearTimeout(this.timeout)\n  }\n\n  onClickValidate(ticket) {\n    this.props.validationActions[`validate${ticket}`]()\n  }\n\n  copied = () => {\n    this.setState({ open: true })\n  }\n\n  handleClose = () => {\n    this.setState({ open: false })\n  }\n\n  render() {\n    const playerOne = this.props.user.loggedIn\n      ? `Ready ${this.props.user.info.name}`\n      : \"Player One\"\n\n    const Connection = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"Connection\"\n        ticketLabel=\"Connection\"\n        ticketValidating={this.props.validate.validatingConnection}\n        ticketError={this.props.validate.ConnectionError}\n        ticketSuccess={this.props.validate.ConnectionSuccess}\n        ticketErrorMessage={this.props.validate.ConnectionErrorMessage}\n        copied={this.copied}\n      />\n    )\n    const Projection = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"Projection\"\n        ticketLabel=\"Projection\"\n        ticketValidating={this.props.validate.validatingProjection}\n        ticketError={this.props.validate.ProjectionError}\n        ticketSuccess={this.props.validate.ProjectionSuccess}\n        ticketErrorMessage={this.props.validate.ProjectionErrorMessage}\n        copied={this.copied}\n      />\n    )\n    const TextAndSubfield = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"TextAndSubfield\"\n        ticketLabel=\"Text and Subfield Search\"\n        ticketValidating={this.props.validate.validatingTextAndSubfield}\n        ticketError={this.props.validate.TextAndSubfieldError}\n        ticketSuccess={this.props.validate.TextAndSubfieldSuccess}\n        ticketErrorMessage={this.props.validate.TextAndSubfieldErrorMessage}\n        copied={this.copied}\n      />\n    )\n    const Paging = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"Paging\"\n        ticketLabel=\"Paging\"\n        ticketValidating={this.props.validate.validatingPaging}\n        ticketError={this.props.validate.PagingError}\n        ticketSuccess={this.props.validate.PagingSuccess}\n        ticketErrorMessage={this.props.validate.PagingErrorMessage}\n        copied={this.copied}\n      />\n    )\n    const FacetedSearch = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"FacetedSearch\"\n        ticketLabel=\"Faceted Search\"\n        ticketValidating={this.props.validate.validatingFacetedSearch}\n        ticketError={this.props.validate.FacetedSearchError}\n        ticketSuccess={this.props.validate.FacetedSearchSuccess}\n        ticketErrorMessage={this.props.validate.FacetedSearchErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const UserManagement = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"UserManagement\"\n        ticketLabel=\"User Management\"\n        ticketValidating={this.props.validate.validatingUserManagement}\n        ticketError={this.props.validate.UserManagementError}\n        ticketSuccess={this.props.validate.UserManagementSuccess}\n        ticketErrorMessage={this.props.validate.UserManagementErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const UserPreferences = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"UserPreferences\"\n        ticketLabel=\"User Preferences\"\n        ticketValidating={this.props.validate.validatingUserPreferences}\n        ticketError={this.props.validate.UserPreferencesError}\n        ticketSuccess={this.props.validate.UserPreferencesSuccess}\n        ticketErrorMessage={this.props.validate.UserPreferencesErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const GetComments = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"GetComments\"\n        ticketLabel=\"Get Comments\"\n        ticketValidating={this.props.validate.validatingGetComments}\n        ticketError={this.props.validate.GetCommentsError}\n        ticketSuccess={this.props.validate.GetCommentsSuccess}\n        ticketErrorMessage={this.props.validate.GetCommentsErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const CreateUpdateComments = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"CreateUpdateComments\"\n        ticketLabel=\"Create/Update Comments\"\n        ticketValidating={this.props.validate.validatingCreateUpdateComments}\n        ticketError={this.props.validate.CreateUpdateCommentsError}\n        ticketSuccess={this.props.validate.CreateUpdateCommentsSuccess}\n        ticketErrorMessage={\n          this.props.validate.CreateUpdateCommentsErrorMessage\n        }\n        copied={this.copied}\n      />\n    )\n\n    const DeleteComments = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"DeleteComments\"\n        ticketLabel=\"Delete Comments\"\n        ticketValidating={this.props.validate.validatingDeleteComments}\n        ticketError={this.props.validate.DeleteCommentsError}\n        ticketSuccess={this.props.validate.DeleteCommentsSuccess}\n        ticketErrorMessage={this.props.validate.DeleteCommentsErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const UserReport = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"UserReport\"\n        ticketLabel=\"User Report\"\n        ticketValidating={this.props.validate.validatingUserReport}\n        ticketError={this.props.validate.UserReportError}\n        ticketSuccess={this.props.validate.UserReportSuccess}\n        ticketErrorMessage={this.props.validate.UserReportErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const Migration = (\n      <TicketValidator\n              onClickValidate = {this.onClickValidate}\n        ticketName = \"Migration\"\n        ticketLabel=\"Migration\"\n        ticketValidating={this.props.validate.validatingMigration}\n        ticketError={this.props.validate.MigrationError}\n        ticketSuccess={this.props.validate.MigrationSuccess}\n        ticketErrorMessage={this.props.validate.MigrationErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const ConnectionPooling = (\n      <TicketValidator\n              onClickValidate = {this.onClickValidate}\n        ticketName = \"ConnectionPooling\"\n        ticketLabel=\"Connection Pooling\"\n        ticketValidating={this.props.validate.validatingConnectionPooling}\n        ticketError={this.props.validate.ConnectionPoolingError}\n        ticketSuccess={this.props.validate.ConnectionPoolingSuccess}\n        ticketErrorMessage={this.props.validate.ConnectionPoolingErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const Timeouts = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"Timeouts\"\n        ticketLabel=\"Timeouts\"\n        ticketValidating={this.props.validate.validatingTimeouts}\n        ticketError={this.props.validate.TimeoutsError}\n        ticketSuccess={this.props.validate.TimeoutsSuccess}\n        ticketErrorMessage={this.props.validate.TimeoutsErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const ErrorHandling = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"ErrorHandling\"\n        ticketLabel=\"Error Handling\"\n        ticketValidating={this.props.validate.validatingErrorHandling}\n        ticketError={this.props.validate.ErrorHandlingError}\n        ticketSuccess={this.props.validate.ErrorHandlingSuccess}\n        ticketErrorMessage={this.props.validate.ErrorHandlingErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const POLP = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"POLP\"\n        ticketLabel=\"Principle of Least Privilege\"\n        ticketValidating={this.props.validate.validatingPOLP}\n        ticketError={this.props.validate.POLPError}\n        ticketSuccess={this.props.validate.POLPSuccess}\n        ticketErrorMessage={this.props.validate.POLPErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const week1Validations = this.state.startValidation ? (\n      <div>\n        <div>{Connection}</div>\n        <div>{Projection}</div>\n        <div>{TextAndSubfield}</div>\n        <div>{Paging}</div>\n        <div>{FacetedSearch}</div>\n      </div>\n    ) : (\n      \"\"\n    )\n    const week2Validations = this.state.startValidation ? (\n      <div>\n        <div>{UserManagement}</div>\n        <div>{UserPreferences}</div>\n        <div>{GetComments}</div>\n        <div>{CreateUpdateComments}</div>\n        <div>{DeleteComments}</div>\n        <div>{UserReport}</div>\n        <div>{Migration}</div>\n        <div>{ConnectionPooling}</div>\n        <div>{Timeouts}</div>\n        <div>{ErrorHandling}</div>\n        <div>{POLP}</div>\n      </div>\n    ) : (\n      \"\"\n    )\n    //<div>\n    //<div>{week1Validations}</div>\n    //{!this.props.validate.hasWeek1Errors &&\n    //!this.props.validate.week1Validating && <div>{week2Validations}</div>}\n    //</div>\n    const validations = this.state.startValidation ? (\n      <div>\n        <div>{week1Validations}</div>\n        <div>{week2Validations}</div>\n      </div>\n    ) : (\n      \"\"\n    )\n    return (\n      <div className={this.props.classes.root}>\n        <div\n          ref={readyName => {\n            this.readyName = readyName\n          }}\n          className={this.props.classes.inner}\n        >\n          {playerOne}\n        </div>\n        <img\n          ref={leaf => (this.leaf = leaf)}\n          style={{ opacity: 1 }}\n          className={this.props.classes.leaf}\n          src={pixelLeaf}\n          alt=\"\"\n        />\n        {validations}\n        <Snackbar\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n          open={this.state.open}\n          onClose={this.handleClose}\n          autoHideDuration={1000}\n          SnackbarContentProps={{\n            \"aria-describedby\": \"Copied\"\n          }}\n          message={<span id=\"message-id\">Copied!</span>}\n        />\n      </div>\n    )\n  }\n}\n\nStatus.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nfunction mapStateToProps({ user, validate }) {\n  return {\n    user,\n    validate\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    validationActions: bindActionCreators(validationActions, dispatch)\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(Status)\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport TextField from \"@material-ui/core/TextField\"\nimport purple from \"@material-ui/core/colors/purple\"\nimport Button from \"@material-ui/core/Button\"\nimport green from \"@material-ui/core/colors/green\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as movieActions from \"../actions/movieActions\"\nimport * as miscActions from \"../actions/miscActions\"\nimport { compose } from \"redux\"\nimport { withRouter } from \"react-router-dom\"\nimport FormControl from \"@material-ui/core/FormControl\"\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\"\nimport Radio from \"@material-ui/core/Radio\"\nimport RadioGroup from \"@material-ui/core/RadioGroup\"\nconst mongo = green[500]\n\nconst styles = theme => ({\n  container: {\n    display: \"inline-flex\",\n    alignItems: \"center\",\n  },\n  formControl: {\n    flexDirection: \"row\",\n  },\n  inputLabelFocused: {\n    color: purple[500],\n  },\n  inputInkbar: {\n    \"&:after\": {\n      backgroundColor: purple[500],\n    },\n  },\n  textFieldRoot: {\n    padding: 0,\n  },\n  textFieldInput: {\n    borderRadius: \"4px 0 0 4px\",\n    backgroundColor: theme.palette.common.white,\n    color: \"black\",\n    fontSize: 16,\n    padding: \"10px 12px\",\n    width: \"15rem\",\n    transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\n    \"&:focus\": {\n      borderColor: \"#80bdff\",\n      boxShadow: \"0 0 0 0.2rem rgba(0,123,255,.25)\",\n    },\n    height: \"20px\",\n  },\n  button: {\n    input: {\n      display: \"none\",\n    },\n    borderRadius: \"0 4px 4px 0\",\n    color: \"white\",\n    padding: \"10px 0\",\n    background: mongo,\n    width: \"30px\",\n    display: \"inline-flex\",\n  },\n  group: {\n    display: \"inline-flex\",\n    flexDirection: \"row\",\n  },\n  label: {\n    color: \"white\",\n  },\n  radio: {\n    color: \"white\",\n  },\n})\n\nclass SubfieldSearch extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      searchText: \"\",\n      selected: false,\n      defaultValue: \"search by parameter\",\n      value: \"text\",\n    }\n    this.handleChange = this.handleChange.bind(this)\n    this.handleSearch = this.handleSearch.bind(this)\n    this.handleSelection = this.handleSelection.bind(this)\n    this.fireSearch = this.fireSearch.bind(this)\n  }\n\n  handleSelection(e, value) {\n    this.setState({ value })\n  }\n\n  fireSearch(whichType) {\n    return this.props.movieActions.searchMovies(\n      whichType,\n      this.state.searchText,\n      this.props.history,\n    )\n  }\n\n  handleSearch(e) {\n    this.props.miscActions.toggleDrawer()\n    switch (this.state.value) {\n      case \"country\":\n        // return this.props.movieActions.searchCountries(\n        //   this.state.searchText,\n        //   this.props.history\n        // )\n        return this.fireSearch(\"country\")\n\n      case \"genre\":\n        return this.fireSearch(\"genre\")\n\n      case \"cast\":\n        return this.fireSearch(\"cast\")\n\n      default:\n        return this.fireSearch(\"text\")\n    }\n  }\n\n  handleChange(e) {\n    this.setState({ searchText: e.target.value })\n  }\n\n  render() {\n    const { classes } = this.props\n    return (\n      <div>\n        <div className={classes.container}>\n          <FormControl className={classes.formControl}>\n            <TextField\n              id=\"searchText\"\n              placeholder={this.state.defaultValue}\n              value={this.state.searchText}\n              onChange={this.handleChange}\n              InputProps={{\n                disableUnderline: true,\n                classes: {\n                  root: classes.textFieldRoot,\n                  input: classes.textFieldInput,\n                },\n              }}\n              InputLabelProps={{\n                shrink: true,\n                className: classes.textFieldFormLabel,\n              }}\n            />\n            <Button className={classes.button} onClick={this.handleSearch}>\n              search\n            </Button>\n          </FormControl>\n        </div>\n        <div>\n          <FormControl>\n            <RadioGroup\n              aria-label=\"searchType\"\n              name=\"searchType\"\n              className={classes.group}\n              value={this.state.value}\n              onChange={this.handleSelection}\n            >\n              <FormControlLabel\n                classes={{ label: classes.label }}\n                value=\"text\"\n                control={<Radio style={{ color: \"white\" }} />}\n                label=\"Text\"\n              />\n              <FormControlLabel\n                classes={{ label: classes.label }}\n                value=\"country\"\n                control={<Radio style={{ color: \"white\" }} />}\n                label=\"Country\"\n              />\n              <FormControlLabel\n                classes={{ label: classes.label }}\n                value=\"genre\"\n                control={<Radio style={{ color: \"white\" }} />}\n                label=\"Genre\"\n              />\n              <FormControlLabel\n                classes={{ label: classes.label }}\n                value=\"cast\"\n                control={<Radio style={{ color: \"white\" }} />}\n                label=\"Cast\"\n              />\n            </RadioGroup>\n          </FormControl>\n        </div>\n      </div>\n    )\n  }\n}\n\nSubfieldSearch.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    movieActions: bindActionCreators(movieActions, dispatch),\n    miscActions: bindActionCreators(miscActions, dispatch),\n  }\n}\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(() => ({}), mapDispatchToProps),\n)(SubfieldSearch)\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport Drawer from \"@material-ui/core/Drawer\"\nimport Divider from \"@material-ui/core/Divider\"\nimport SubfieldSearch from \"./SubfieldSearch\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as miscActions from \"../actions/miscActions\"\nimport { compose } from \"redux\"\n\nconst styles = theme => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    background: \"#262626\",\n    height: \"100vh\",\n  },\n  divider: {\n    marginTop: \"15px\",\n  },\n})\n\nclass AppDrawer extends React.Component {\n  render() {\n    const { classes } = this.props\n\n    const sideList = (\n      <div className={classes.root}>\n        <Divider className={classes.divider} />\n        <SubfieldSearch />\n        <Divider className={classes.divider} />\n      </div>\n    )\n\n    return (\n      <Drawer\n        open={this.props.misc.open}\n        onClose={this.props.miscActions.toggleDrawer}\n      >\n        <div tabIndex={0} role=\"button\">\n          {sideList}\n        </div>\n      </Drawer>\n    )\n  }\n}\n\nAppDrawer.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ misc, movies: { facets, facetFilters } }) {\n  return {\n    misc,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    miscActions: bindActionCreators(miscActions, dispatch),\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(AppDrawer)\n","import React from \"react\"\nimport { Route, Redirect } from \"react-router-dom\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\nimport { connect } from \"react-redux\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { compose } from \"redux\"\n\nconst styles = theme => ({\n  loading: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    alignItems: \"center\",\n    width: \"100vw\",\n    height: \"100vh\",\n  },\n})\n\nconst AdminRoute = ({\n  component: Component,\n  redirectRoute,\n  user,\n  misc,\n  classes,\n  ...rest\n}) => {\n  if (misc.checkingAdminStatus) {\n    return (\n      <div className={classes.loading}>\n        <CircularProgress />\n      </div>\n    )\n  }\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        user.isAdmin ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to={redirectRoute} />\n        )\n      }\n    />\n  )\n}\n\nconst mapStateToProps = ({ user, misc }) => ({ user, misc })\n\nexport default compose(\n  withStyles(styles),\n  connect(mapStateToProps)\n)(AdminRoute)\n","import * as types from \"./actionTypes\"\nimport request from \"./request\"\n\nexport function fetchReport(user, history) {\n  return dispatch => {\n    dispatch(fetchingReport())\n    return request(`/api/v1/user/comment-report`, {\n      method: \"GET\",\n      mode: \"cors\",\n      headers: {\n        Authorization: `Bearer ${user.auth_token}`,\n      },\n    })\n      .then(json => dispatch(receivedReportSuccess(json)))\n      .then(() => history.push(\"/user-report\"))\n      .catch(e => history.push(\"/login\"))\n  }\n}\n\nexport function fetchingReport() {\n  return { type: types.FETCH_USER_REPORT }\n}\n\nexport function receivedReportSuccess({ report }) {\n  return { type: types.RECEIVED_USER_REPORT_SUCCESS, report }\n}\n\nexport function receivedReportFailure(report) {\n  return { type: types.RECEIVED_USER_REPORT_FAILURE, report }\n}\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as reportActions from \"../actions/reportActions\"\nimport { compose } from \"redux\"\nimport { withRouter } from \"react-router-dom\"\nimport Button from \"@material-ui/core/Button\"\nimport green from \"@material-ui/core/colors/green\"\n\nconst styles = theme => ({\n  root: {\n    flex: 1,\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    alignContent: \"center\",\n    width: \"100vw\",\n    minHeight: \"100vh\",\n    height: \"100%\",\n    flexBasis: 0,\n  },\n  button: {\n    input: {\n      display: \"none\",\n    },\n    color: \"white\",\n    padding: \"10px\",\n    background: green[500],\n    display: \"inline-flex\",\n    margin: theme.spacing.unit - 2,\n  },\n})\n\nclass AdminPanel extends Component {\n  handleClick() {\n    this.props.reportActions.fetchReport(this.props.user, this.props.history)\n  }\n  render() {\n    const { classes } = this.props\n    return (\n      <div className={classes.root}>\n        <Button className={classes.button} onClick={() => this.handleClick()}>\n          User Report\n        </Button>\n      </div>\n    )\n  }\n}\n\nAdminPanel.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ user }) {\n  return {\n    user,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    reportActions: bindActionCreators(reportActions, dispatch),\n  }\n}\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(AdminPanel)\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { connect } from \"react-redux\"\nimport { compose } from \"redux\"\nimport { withRouter } from \"react-router-dom\"\nimport { bindActionCreators } from \"redux\"\nimport * as reportActions from \"../actions/reportActions\"\n\nconst styles = theme => ({\n  root: {\n    display: \"flex\",\n    flex: 1,\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    alignContent: \"center\",\n    width: \"100vw\",\n    minHeight: \"100vh\",\n    height: \"100%\",\n    flexBasis: 0,\n  },\n  ul: {\n    listStyle: \"none\",\n    textAlign: \"center\",\n  },\n  li: {\n    fontSize: \"1.5em\",\n    color: \"white\",\n  },\n})\n\nclass UserReport extends Component {\n  componentDidMount() {\n    if (!this.props.report || this.props.report.length === 0) {\n      this.props.reportActions.fetchReport(this.props.user, this.props.history)\n    }\n  }\n  render() {\n    const { report, classes } = this.props\n\n    let userList = report.map((entry, idx) => (\n      <li className={classes.li} key={entry._id}>\n        {`# ${idx + 1} with ${entry.count} comments: ${entry._id}`}\n      </li>\n    ))\n    return (\n      <div className={classes.root}>\n        <ul className={classes.ul}>{userList}</ul>\n      </div>\n    )\n  }\n}\n\nUserReport.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ report: { report }, user }) {\n  return {\n    report,\n    user,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    reportActions: bindActionCreators(reportActions, dispatch),\n  }\n}\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(UserReport)\n","import React, { Component } from \"react\"\n// The following line needs an eslint ignore directive because Router needs to be in scope\nimport { BrowserRouter as Router, Route } from \"react-router-dom\" // eslint-disable-line no-unused-vars\nimport ConnectedSwitch from \"../routing/ConnectedSwitch\"\nimport PrivateRoute from \"../routing/PrivateRoute\"\nimport Header from \"../components/Header\"\nimport Errors from \"../components/Errors\"\nimport MovieGrid from \"./MovieGrid\"\nimport CountryResults from \"./CountryResults\"\nimport LoginCard from \"../components/LoginCard\"\nimport SignupCard from \"../components/SignupCard\"\nimport MovieDetail from \"../components/MovieDetail\"\nimport Account from \"../components/Account\"\nimport Status from \"../components/Status\"\nimport AppDrawer from \"../components/AppDrawer\"\nimport AdminRoute from \"../routing/AdminRoute\"\nimport AdminPanel from \"../containers/AdminPanel\"\nimport \"./normalize.css\"\nimport UserReport from \"./UserReport\"\n\nclass MainContainer extends Component {\n  render() {\n    return (\n      <div id=\"full\" style={{ overflowX: \"hidden\" }}>\n        <Header />\n        <AppDrawer />\n        <Errors />\n        <ConnectedSwitch>\n          <AdminRoute\n            path=\"/admin\"\n            component={AdminPanel}\n            redirectRoute=\"/login\"\n          />\n          <Route exact path=\"/\" component={MovieGrid} />\n          <Route exact path=\"/movies/id/:id\" component={MovieDetail} />\n          <Route exact path=\"/country-results\" component={CountryResults} />\n          <PrivateRoute\n            path=\"/account\"\n            component={Account}\n            redirectRoute=\"/login\"\n          />\n          <Route exact path=\"/account\" component={Account} />\n          <Route path=\"/status\" component={Status} />\n          <Route path=\"/login\" component={LoginCard} />\n          <Route path=\"/signup\" component={SignupCard} />\n          <Route path=\"/user-report\" component={UserReport} />\n        </ConnectedSwitch>\n      </div>\n    )\n  }\n}\nexport default MainContainer\n","import {\n  RECEIVED_MOVIES,\n  RECEIVED_MOVIE_BY_ID,\n  VIEW_MOVIE,\n  RECEIVED_SEARCH_RESULTS,\n  RECEIVED_COUNTRY_RESULTS,\n  MOVIE_DETAIL,\n  RECEIVED_PAGINATION,\n  BEGIN_PAGING,\n  PROP_FACET_FILTER,\n  SUBMIT_COMMENT_SUCCESS,\n  UPDATE_COMMENT_SUCCESS\n} from \"../actions/actionTypes\"\n\nconst initialState = {\n  movies: [],\n  page: 0,\n  movie: {},\n  filters: {},\n  facets: {\n    rating: [],\n    runtime: []\n  },\n  entries_per_page: 0,\n  total_results: 0,\n  viewMovie: false,\n  apiError: false,\n  fetchMovieFailure: false,\n  searchMovieFailure: false,\n  paging: false,\n  titles: [],\n  facetFilters: {\n    rating: {},\n    runtime: {}\n  },\n  shownMovies: []\n}\n\n/**\n * @typedef Bucket\n * @property {number} _id The lower bound of this statistical bucket\n * @property {number} count The count of elements in this bucket\n */\n\n/**\n *\n * @param {[Bucket]} left An array of Buckets\n * @param {[Bucket]} right An array of Buckets\n * @returns {[Bucket]} The combined results of merging the statistical buckets\n */\nconst mergeStatisticalFacets = (left, right) => {\n  let combinedBuckets = {}\n  left.forEach(bucket => {\n    if (bucket) {\n      combinedBuckets[bucket._id] = bucket.count\n    }\n  })\n  right.forEach(bucket => {\n    if (combinedBuckets[bucket._id] !== undefined) {\n      combinedBuckets[bucket._id] += bucket.count\n    } else {\n      combinedBuckets[bucket._id] = bucket.count\n    }\n  })\n  return Object.keys(combinedBuckets).map(elem => {\n    return {\n      _id: elem,\n      count: combinedBuckets[elem]\n    }\n  })\n}\n\nconst applyFacetFilters = (movies, facetFilters) => {\n  const { rating, runtime } = facetFilters\n  let filteredMovies = movies.slice()\n  if (Object.keys(rating).length || Object.keys(runtime).length) {\n    const filters = [\n      ...Object.keys(rating).map(key => rating[key]),\n      ...Object.keys(runtime).map(key => runtime[key])\n    ]\n    filteredMovies = filteredMovies.filter(elem => filters.some(fn => fn(elem)))\n  }\n  return filteredMovies\n}\n\nexport default function movie(state = initialState, action) {\n  switch (action.type) {\n    case SUBMIT_COMMENT_SUCCESS:\n    case UPDATE_COMMENT_SUCCESS:\n      return {\n        ...state,\n        movie: {\n          ...state.movie,\n          comments: action.comments\n        }\n      }\n\n    case PROP_FACET_FILTER:\n      let tempFacetFilters = state.facetFilters\n      let { facet, key, filter } = action.payload\n      if (tempFacetFilters[facet][key] !== undefined) {\n        delete tempFacetFilters[facet][key]\n      } else {\n        tempFacetFilters[facet][key] = filter\n      }\n      return {\n        ...state,\n        facetFilters: {\n          runtime: tempFacetFilters.runtime,\n          rating: tempFacetFilters.rating\n        },\n        shownMovies: applyFacetFilters(state.movies, tempFacetFilters)\n      }\n\n    case BEGIN_PAGING:\n      return {\n        ...state,\n        paging: true\n      }\n    case MOVIE_DETAIL:\n      return {\n        ...state,\n        movie: state.movies.filter(elem => elem._id === action.movie).pop()\n      }\n    case RECEIVED_MOVIES:\n      return {\n        ...state,\n        movies: action.movies,\n        page: action.page,\n        filters: action.filters,\n        entries_per_page: action.entries_per_page,\n        total_results: action.total_results,\n        shownMovies: applyFacetFilters(action.movies, state.facetFilters)\n      }\n    case RECEIVED_SEARCH_RESULTS:\n      return {\n        ...state,\n        movies: action.movies,\n        page: action.page,\n        filters: action.filters,\n        entries_per_page: action.entries_per_page,\n        total_results: action.total_results,\n        facets: {\n          rating: (action.facets && action.facets.rating) || [],\n          runtime: (action.facets && action.facets.runtime) || []\n        },\n        shownMovies: applyFacetFilters(action.movies, state.facetFilters)\n      }\n    case RECEIVED_COUNTRY_RESULTS:\n      return {\n        ...state,\n        titles: action.titles\n      }\n    case RECEIVED_PAGINATION:\n      return {\n        ...state,\n        movies: action.movies,\n        page: action.page,\n        filters: action.filters,\n        entries_per_page: action.entries_per_page,\n        paging: false,\n        facets: {\n          rating:\n            (action.facets &&\n              mergeStatisticalFacets(\n                state.facets.rating,\n                action.facets.rating\n              )) ||\n            [],\n          runtime:\n            (action.facets &&\n              mergeStatisticalFacets(\n                state.facets.runtime,\n                action.facets.runtime\n              )) ||\n            []\n        },\n        shownMovies: applyFacetFilters(action.movies, state.facetFilters)\n      }\n    case RECEIVED_MOVIE_BY_ID:\n      return { ...state, movie: action.movie }\n    case VIEW_MOVIE:\n      return { ...state, viewMovie: !state.viewMovie }\n\n    default:\n      return state\n  }\n}\n","import {\n  RECEIVED_MOVIES,\n  RECEIVED_MOVIE_BY_ID,\n  RECEIVED_SEARCH_RESULTS,\n  RECEIVED_COUNTRY_RESULTS,\n  FETCH_MOVIES_FAILURE,\n  FETCH_MOVIE_BY_ID_FAILURE,\n  SEARCH_MOVIES_FAILURE,\n  SEARCH_COUNTRIES_FAILURE,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  CLEAR_ERROR\n} from \"../actions/actionTypes\";\n\nconst initialState = {\n  userErrName: \"\",\n  userErrPassword: \"\",\n  userErrEmail: \"\",\n  fetchMovieErrMsg: \"\",\n  searchMovieErrMsg: \"\",\n  searchCountriesErrMsg: \"\",\n  fetchMovieByIDErrMsg: \"\"\n};\n\nexport default function errors(state = initialState, action) {\n  switch (action.type) {\n    case CLEAR_ERROR:\n      let newState = {\n        ...state,\n        [action.key]: \"\"\n      };\n      return { ...newState };\n\n    case RECEIVED_MOVIES:\n      newState = {\n        ...state,\n        fetchMovieErrMsg: \"\"\n      };\n      return { ...newState };\n\n    case RECEIVED_SEARCH_RESULTS:\n      newState = {\n        ...state,\n        searchMovieErrMsg: \"\"\n      };\n      return { ...newState };\n\n    case RECEIVED_COUNTRY_RESULTS:\n      newState = {\n        ...state,\n        searchCountriesErrMsg: \"\"\n      };\n      return { ...newState };\n\n    case RECEIVED_MOVIE_BY_ID:\n      newState = {\n        ...state,\n        fetchMovieByIDErrMsg: \"\"\n      };\n      return { ...newState };\n\n    case LOGIN_SUCCESS:\n      newState = {\n        ...state,\n        userErrMsg: \"\"\n      };\n      return { ...newState };\n\n    case LOGIN_FAIL:\n      const error = action.error.error.error;\n      return {\n        ...state,\n        userErrName: error.name || \"\",\n        userErrPassword: error.password || \"\",\n        userErrEmail: error.email || \"\",\n        userErrMsg:\n          error === \"Unauthorized\" ? \"Invalid username or password\" : \"\"\n      };\n\n    case FETCH_MOVIE_BY_ID_FAILURE:\n      return {\n        ...state,\n        fetchMovieByIDErrMsg: action.error\n      };\n\n    case FETCH_MOVIES_FAILURE:\n      return {\n        ...state,\n        fetchMovieErrMsg: action.error\n      };\n\n    case SEARCH_MOVIES_FAILURE:\n      console.log(\"search failure! \", action.error);\n      return {\n        ...state,\n        searchMovieErrMsg: action.error\n      };\n\n    case SEARCH_COUNTRIES_FAILURE:\n      return {\n        ...state,\n        searchCountriesErrMsg: action.error\n      };\n\n    default:\n      return state;\n  }\n}\n","import {\n  FETCH_MOVIES,\n  SEARCH_MOVIES,\n  FETCH_MOVIE_BY_ID,\n  PAGINATE_MOVIES,\n} from \"../actions/actionTypes\"\n\nconst initialState = {}\n\nexport default function movie(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_MOVIES:\n    case SEARCH_MOVIES:\n    case PAGINATE_MOVIES:\n    case FETCH_MOVIE_BY_ID:\n      return action\n    default:\n      return state\n  }\n}\n","export const loadState = () => {\n  try {\n    const serializedState = localStorage.getItem(\"state\")\n    if (serializedState === null) {\n      return undefined\n    }\n    return JSON.parse(serializedState)\n  } catch (err) {\n    return undefined\n  }\n}\n\nexport const saveState = state => {\n  try {\n    const serializedState = JSON.stringify(state)\n    localStorage.setItem(\"state\", serializedState)\n  } catch (err) {\n    // LocalStorage wasn't accessible. This will be a requirement for users, otherwise nothing to do.\n  }\n}\n","import {\n  LOGIN_SUCCESS,\n  LOGOUT,\n  SAVE_PREFS_SUCCESS,\n  CHECK_ADMIN_SUCCESS,\n  CHECK_ADMIN_FAIL,\n} from \"../actions/actionTypes\"\nimport { loadState } from \"../store/localStorage\"\n\nlet initialState = {\n  auth_token: \"\",\n  info: {\n    preferences: {\n      favorite_cast: \"\",\n      preferred_language: \"\",\n    },\n  },\n  loggedIn: false,\n  isAdmin: false,\n}\nlet localState\ntry {\n  localState = { ...initialState, ...loadState() }\n} catch (e) {\n  localState = initialState\n}\n\nexport default function user(state = localState, action) {\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      let loaded_prefs\n      if (!action.user.info.preferences) {\n        loaded_prefs = initialState.info.preferences\n      } else {\n        loaded_prefs = action.user.info.preferences\n      }\n      return {\n        auth_token: action.user.auth_token,\n        info: {\n          ...state.info,\n          ...action.user.info,\n          preferences: { ...state.info.preferences, ...loaded_prefs },\n        },\n        loggedIn: true,\n      }\n    case LOGOUT: {\n      return initialState\n    }\n\n    case SAVE_PREFS_SUCCESS:\n      return {\n        ...state,\n        info: {\n          ...state.info,\n          preferences: { ...state.info.preferences, ...action.preferences },\n        },\n      }\n\n    case CHECK_ADMIN_FAIL:\n      return {\n        ...state,\n        isAdmin: false,\n      }\n\n    case CHECK_ADMIN_SUCCESS:\n      return {\n        ...state,\n        isAdmin: true,\n      }\n\n    default:\n      return state\n  }\n}\n","import {\n  TOGGLE_DRAWER,\n  CHECK_ADMIN,\n  CHECK_ADMIN_FAIL,\n  CHECK_ADMIN_SUCCESS,\n} from \"../actions/actionTypes\"\n\nconst initialState = {\n  open: false,\n  checkingAdminStatus: false,\n}\n\nexport default function misc(state = initialState, action) {\n  switch (action.type) {\n    case TOGGLE_DRAWER:\n      return { ...state, open: !state.open }\n\n    case CHECK_ADMIN:\n      console.log(\"checking admin begin\")\n      return { ...state, checkingAdminStatus: true }\n\n    case CHECK_ADMIN_FAIL:\n    case CHECK_ADMIN_SUCCESS:\n      console.log(\"checking admin end\")\n      return { ...state, checkingAdminStatus: false }\n\n    default:\n      return state\n  }\n}\n","import {\n  VALIDATING_TICKET,\n  VALIDATE_CONNECTION,\n  VALIDATE_CONNECTION_SUCCESS,\n  VALIDATE_CONNECTION_ERROR,\n  VALIDATE_PROJECTION,\n  VALIDATE_PROJECTION_SUCCESS,\n  VALIDATE_PROJECTION_ERROR,\n  VALIDATE_TEXT_AND_SUBFIELD,\n  VALIDATE_TEXT_AND_SUBFIELD_ERROR,\n  VALIDATE_TEXT_AND_SUBFIELD_SUCCESS,\n  VALIDATE_PAGING,\n  VALIDATE_PAGING_SUCCESS,\n  VALIDATE_PAGING_ERROR,\n  VALIDATE_FACETED_SEARCH,\n  VALIDATE_FACETED_SEARCH_SUCCESS,\n  VALIDATE_FACETED_SEARCH_ERROR,\n  VALIDATE_USER_MANAGEMENT,\n  VALIDATE_USER_MANAGEMENT_SUCCESS,\n  VALIDATE_USER_MANAGEMENT_ERROR,\n  VALIDATE_USER_PREFERENCES,\n  VALIDATE_USER_PREFERENCES_SUCCESS,\n  VALIDATE_USER_PREFERENCES_ERROR,\n  VALIDATE_GET_COMMENTS,\n  VALIDATE_GET_COMMENTS_ERROR,\n  VALIDATE_GET_COMMENTS_SUCCESS,\n  VALIDATE_CREATE_UPDATE_COMMENTS,\n  VALIDATE_CREATE_UPDATE_COMMENTS_SUCCESS,\n  VALIDATE_CREATE_UPDATE_COMMENTS_ERROR,\n  VALIDATE_DELETE_COMMENTS,\n  VALIDATE_DELETE_COMMENTS_SUCCESS,\n  VALIDATE_DELETE_COMMENTS_ERROR,\n  VALIDATE_USER_REPORT,\n  VALIDATE_USER_REPORT_SUCCESS,\n  VALIDATE_USER_REPORT_ERROR,\n  VALIDATE_MIGRATION,\n  VALIDATE_MIGRATION_SUCCESS,\n  VALIDATE_MIGRATION_ERROR,\n  VALIDATE_CONNECTION_POOLING,\n  VALIDATE_CONNECTION_POOLING_SUCCESS,\n  VALIDATE_CONNECTION_POOLING_ERROR,\n  VALIDATE_TIMEOUTS,\n  VALIDATE_TIMEOUTS_SUCCESS,\n  VALIDATE_TIMEOUTS_ERROR,\n  VALIDATE_ERROR_HANDLING,\n  VALIDATE_ERROR_HANDLING_SUCCESS,\n  VALIDATE_ERROR_HANDLING_ERROR,\n  VALIDATE_POLP,\n  VALIDATE_POLP_SUCCESS,\n  VALIDATE_POLP_ERROR\n} from \"../actions/actionTypes\"\n\nconst initialState = {\n  hasWeek1Errors: false,\n  hasWeek2Errors: false,\n  validatingConnection: false,\n  validatingProjection: false,\n  validatingTextAndSubfield: false,\n  validatingPaging: false,\n  validatingFacetedSearch: false,\n  validatingUserManagement: false,\n  validatingUserPreferences: false,\n  validatingGetComments: false,\n  validatingCreateUpdateComments: false,\n  validatingDeleteComments: false,\n  validatingUserReport: false,\n  validatingMigration: false,\n  validatingConnectionPooling: false,\n  validatingTimeouts: false,\n  validatingErrorHandling: false,\n  validatingPOLP: false,\n  week1Validating: false,\n  week2Validating: false,\n  ConnectionError: false,\n  ProjectionError: false,\n  TextAndSubfieldError: false,\n  PagingError: false,\n  FacetedSearchError: false,\n  UserManagementError: false,\n  UserPreferencesError: false,\n  GetCommentsError: false,\n  CreateUpdateCommentsError: false,\n  DeleteCommentsError: false,\n  UserReportError: false,\n  MigrationError: false,\n  ConnectionPoolingError: false,\n  TimeoutsError: false,\n  ErrorHandlingError: false,\n  POLPError: false,\n  ConnectionErrorMessage: \"\",\n  ProjectionErrorMessage: \"\",\n  TextAndSubfieldErrorMessage: \"\",\n  PagingErrorMessage: \"\",\n  FacetedSearchErrorMessage: \"\",\n  UserManagementErrorMessage: \"\",\n  UserPreferencesErrorMessage: \"\",\n  GetCommentsErrorMessage: \"\",\n  CreateUpdateCommentsErrorMessage: \"\",\n  DeleteCommentsErrorMessage: \"\",\n  UserReportErrorMessage: \"\",\n  MigrationErrorMessage: \"\",\n  ConnectionPoolingErrorMessage: \"\",\n  TimeoutsErrorMessage: \"\",\n  ErrorHandlingErrorMessage: \"\",\n  POLPErrorMessage: \"\",\n  ConnectionSuccess: \"You\",\n  ProjectionSuccess: \"Need\",\n  TextAndSubfieldSuccess: \"To\",\n  PagingSuccess: \"Take\",\n  FacetedSearchSuccess: \"M220\",\n  UserManagementSuccess: \"Courses\",\n  UserPreferencesSuccess: \"To\",\n  GetCommentsSuccess: \"See\",\n  CreateUpdateCommentsSuccess: \"The\",\n  DeleteCommentsSuccess: \"5ac25c280a80ed6e67e1cecb\",\n  UserReportSuccess: \"Validation\",\n  MigrationSuccess: \"Codes\",\n  ConnectionPoolingSuccess: \"And\",\n  TimeoutsSuccess: \"Complete\",\n  ErrorHandlingSuccess: \"The\",\n  POLPSuccess: \"Labs\"\n}\n\nconst hasWeek1Errors = state => {\n  return (\n    state.ConnectionError ||\n    state.ProjectionError ||\n    state.TextAndSubfieldError ||\n    state.PagingError ||\n    state.FacetedSearchError\n  )\n}\n\nconst week1Validating = state => {\n  return (\n    state.validatingConnection ||\n    state.validatingProjection ||\n    state.validatingTextAndSubfield ||\n    state.validatingPaging ||\n    state.validatingFacetedSearch\n  )\n}\n\nconst week2Validating = state => {\n  return (\n    state.validatingUserManagement ||\n    state.validatingUserPreferences ||\n    state.validatingGetComments ||\n    state.validatingCreateUpdateComments ||\n    state.validatingDeleteComments ||\n    state.validatingUserReport ||\n    state.validatingMigration ||\n    state.validatingConnectionPooling ||\n    state.validatingTimeouts ||\n    state.validatingErrorHandling ||\n    state.validateingPOLP\n  )\n}\n\nconst hasWeek2Errors = state => {\n  return (\n    state.UserManagementError ||\n    state.UserPreferencesError ||\n    state.GetCommentsError ||\n    state.CreateUpdateCommentsError ||\n    state.DeleteCommentsError ||\n    state.UserReportError ||\n    state.MigrationError ||\n    state.ConnectionPoolingError ||\n    state.TimeoutsError ||\n    state.ErrorHandlingError ||\n    state.POLPError\n  )\n}\n\nexport default function validate(state = initialState, action) {\n  switch (action.type) {\n    case VALIDATING_TICKET:\n      return { ...state, [`validating${action.ticket}`]: true }\n    case VALIDATE_CONNECTION:\n    case VALIDATE_PROJECTION:\n    case VALIDATE_TEXT_AND_SUBFIELD:\n    case VALIDATE_PAGING:\n    case VALIDATE_FACETED_SEARCH:\n    case VALIDATE_USER_MANAGEMENT:\n    case VALIDATE_USER_PREFERENCES:\n    case VALIDATE_GET_COMMENTS:\n    case VALIDATE_CREATE_UPDATE_COMMENTS:\n    case VALIDATE_DELETE_COMMENTS:\n    case VALIDATE_USER_REPORT:\n    case VALIDATE_MIGRATION:\n    case VALIDATE_CONNECTION_POOLING:\n    case VALIDATE_TIMEOUTS:\n    case VALIDATE_ERROR_HANDLING:\n    case VALIDATE_POLP:\n      return action\n    case VALIDATE_CONNECTION_SUCCESS:\n      let newState = {\n        ...state,\n        ConnectionSuccess: initialState.ConnectionSuccess,\n        ConnectionError: false,\n        ConnectionErrorMessage: \"\",\n        validatingConnection: false\n      }\n      return {\n        ...newState,\n        hasWeek1Errors: hasWeek1Errors(newState),\n        week1Validating: week1Validating(newState)\n      }\n    case VALIDATE_PROJECTION_SUCCESS:\n      newState = {\n        ...state,\n        ProjectionSuccess: initialState.ProjectionSuccess,\n        ProjectionError: false,\n        ProjectionErrorMessage: \"\",\n        validatingProjection: false\n      }\n      return {\n        ...newState,\n        hasWeek1Errors: hasWeek1Errors(newState),\n        week1Validating: week1Validating(newState)\n      }\n\n    case VALIDATE_TEXT_AND_SUBFIELD_SUCCESS:\n      newState = {\n        ...state,\n        TextAndSubfieldSuccess: initialState.TextAndSubfieldSuccess,\n        TextAndSubfieldError: false,\n        TextAndSubfieldErrorMessage: \"\",\n        validatingTextAndSubfield: false\n      }\n      return {\n        ...newState,\n        hasWeek1Errors: hasWeek1Errors(newState),\n        week1Validating: week1Validating(newState)\n      }\n\n    case VALIDATE_PAGING_SUCCESS:\n      newState = {\n        ...state,\n        PagingSuccess: initialState.PagingSuccess,\n        PagingError: false,\n        PagingErrorMessage: \"\",\n        validatingPaging: false\n      }\n      return {\n        ...newState,\n        hasWeek1Errors: hasWeek1Errors(newState),\n        week1Validating: week1Validating(newState)\n      }\n\n    case VALIDATE_FACETED_SEARCH_SUCCESS:\n      newState = {\n        ...state,\n        FacetedSearchSuccess: initialState.FacetedSearchSuccess,\n        FacetedSearchError: false,\n        FacetedSearchErrorMessage: \"\",\n        validatingFacetedSearch: false\n      }\n      return {\n        ...newState,\n        hasWeek1Errors: hasWeek1Errors(newState),\n        week1Validating: week1Validating(newState)\n      }\n\n    case VALIDATE_USER_MANAGEMENT_SUCCESS:\n      newState = {\n        ...state,\n        UserManagementSuccess: initialState.UserManagementSuccess,\n        UserManagementError: false,\n        UserManagementErrorMessage: \"\",\n        validatingUserManagement: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n    case VALIDATE_USER_PREFERENCES_SUCCESS:\n      newState = {\n        ...state,\n        UserPreferencesSuccess: initialState.UserPreferencesSuccess,\n        UserPreferencesError: false,\n        UserPreferencesErrorMessage: \"\",\n        validatingUserPreferences: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_GET_COMMENTS_SUCCESS:\n      newState = {\n        ...state,\n        GetCommentsSuccess: initialState.GetCommentsSuccess,\n        GetCommentsError: false,\n        GetCommentsErrorMessage: \"\",\n        validatingGetComments: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_CREATE_UPDATE_COMMENTS_SUCCESS:\n      newState = {\n        ...state,\n        CreateUpdateCommentsSuccess: initialState.CreateUpdateCommentsSuccess,\n        CreateUpdateCommentsError: false,\n        CreateUpdateCommentsErrorMessage: \"\",\n        validatingCreateUpdateComments: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_DELETE_COMMENTS_SUCCESS:\n      newState = {\n        ...state,\n        DeleteCommentsSuccess: initialState.DeleteCommentsSuccess,\n        DeleteCommentsError: false,\n        DeleteCommentsErrorMessage: \"\",\n        validatingDeleteComments: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_USER_REPORT_SUCCESS:\n      newState = {\n        ...state,\n        UserReportSuccess: initialState.UserReportSuccess,\n        UserReportError: false,\n        UserReportErrorMessage: \"\",\n        validatingUserReport: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_MIGRATION_SUCCESS:\n      newState = {\n        ...state,\n        MigrationSuccess: initialState.MigrationSuccess,\n        MigrationError: false,\n        MigrationErrorMessage: \"\",\n        validatingMigration: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_CONNECTION_POOLING_SUCCESS:\n      newState = {\n        ...state,\n        ConnectionPoolingSuccess: initialState.ConnectionPoolingSuccess,\n        ConnectionPoolingError: false,\n        ConnectionPoolingErrorMessage: \"\",\n        validatingConnectionPooling: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_TIMEOUTS_SUCCESS:\n      newState = {\n        ...state,\n        TimeoutsSuccess: initialState.TimeoutsSuccess,\n        TimeoutsError: false,\n        TimeoutsErrorMessage: \"\",\n        validatingTimeouts: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_ERROR_HANDLING_SUCCESS:\n      newState = {\n        ...state,\n        ErrorHandlingSuccess: initialState.ErrorHandlingSuccess,\n        ErrorHandlingError: false,\n        ErrorHandlingErrorMessage: \"\",\n        validatingErrorHandling: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_POLP_SUCCESS:\n      newState = {\n        ...state,\n        POLPSuccess: initialState.POLPSuccess,\n        POLPError: false,\n        POLPErrorMessage: \"\",\n        validatingPOLP: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_CONNECTION_ERROR:\n      newState = {\n        ...state,\n        ConnectionError: true,\n        ConnectionSuccess: \"\",\n        ConnectionErrorMessage: action.error.message,\n        hasWeek1Errors: true,\n        validatingConnection: false\n      }\n      return { ...newState, week1Validating: week1Validating(newState) }\n\n    case VALIDATE_PROJECTION_ERROR:\n      newState = {\n        ...state,\n        ProjectionError: true,\n        ProjectionSuccess: \"\",\n        ProjectionErrorMessage: action.error.message,\n        hasWeek1Errors: true,\n        validatingProjection: false\n      }\n      return { ...newState, week1Validating: week1Validating(newState) }\n\n    case VALIDATE_TEXT_AND_SUBFIELD_ERROR:\n      newState = {\n        ...state,\n        TextAndSubfieldError: true,\n        TextAndSubfieldSuccess: \"\",\n        TextAndSubfieldErrorMessage: action.error.message,\n        hasWeek1Errors: true,\n        validatingTextAndSubfield: false\n      }\n      return { ...newState, week1Validating: week1Validating(newState) }\n\n    case VALIDATE_PAGING_ERROR:\n      newState = {\n        ...state,\n        PagingError: true,\n        PagingSuccess: \"\",\n        PagingErrorMessage: action.error.message,\n        hasWeek1Errors: true,\n        validatingPaging: false\n      }\n      return { ...newState, week1Validating: week1Validating(newState) }\n\n    case VALIDATE_FACETED_SEARCH_ERROR:\n      newState = {\n        ...state,\n        FacetedSearchError: true,\n        FacetedSearchSuccess: \"\",\n        FacetedSearchErrorMessage: action.error.message,\n        hasWeek1Errors: true,\n        validatingFacetedSearch: false\n      }\n      return { ...newState, week1Validating: week1Validating(newState) }\n\n    case VALIDATE_USER_MANAGEMENT_ERROR:\n      newState = {\n        ...state,\n        UserManagementError: true,\n        UserManagementSuccess: \"\",\n        UserManagementErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingUserManagement: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_USER_PREFERENCES_ERROR:\n      newState = {\n        ...state,\n        UserPreferencesError: true,\n        UserPreferencesSuccess: \"\",\n        UserPreferencesErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingUserPreferences: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_GET_COMMENTS_ERROR:\n      newState = {\n        ...state,\n        GetCommentsError: true,\n        GetCommentsSuccess: \"\",\n        GetCommentsErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingGetComments: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_CREATE_UPDATE_COMMENTS_ERROR:\n      newState = {\n        ...state,\n        CreateUpdateCommentsError: true,\n        CreateUpdateCommentsSuccess: \"\",\n        CreateUpdateCommentsErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingCreateUpdateComments: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_DELETE_COMMENTS_ERROR:\n      newState = {\n        ...state,\n        DeleteCommentsError: true,\n        DeleteCommentsSuccess: \"\",\n        DeleteCommentsErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingDeleteComments: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_USER_REPORT_ERROR:\n      newState = {\n        ...state,\n        UserReportError: true,\n        UserReportSuccess: \"\",\n        UserReportErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingUserReport: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_MIGRATION_ERROR:\n      newState = {\n        ...state,\n        MigrationError: true,\n        MigrationSuccess: \"\",\n        MigrationErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingMigration: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_CONNECTION_POOLING_ERROR:\n      newState = {\n        ...state,\n        ConnectionPoolingError: true,\n        ConnectionPoolingSuccess: \"\",\n        ConnectionPoolingErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingConnectionPooling: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_TIMEOUTS_ERROR:\n      newState = {\n        ...state,\n        TimeoutsError: true,\n        TimeoutsSuccess: \"\",\n        TimeoutsErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingTimeouts: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_ERROR_HANDLING_ERROR:\n      newState = {\n        ...state,\n        ErrorHandlingError: true,\n        ErrorHandlingSuccess: \"\",\n        ErrorHandlingErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingErrorHandling: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_POLP_ERROR:\n      newState = {\n        ...state,\n        POLPError: true,\n        POLPSuccess: \"\",\n        POLPErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingPOLP: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    default:\n      return state\n  }\n}\n","import {\n  FETCH_USER_REPORT,\n  RECEIVED_USER_REPORT_SUCCESS,\n  RECEIVED_USER_REPORT_FAILURE,\n} from \"../actions/actionTypes\"\n\nconst initialState = {\n  fetching: false,\n  report: [],\n}\n\nexport default function misc(state = initialState, action) {\n  switch (action.type) {\n    case RECEIVED_USER_REPORT_FAILURE:\n      return {\n        report: [],\n        fetching: false,\n      }\n    case RECEIVED_USER_REPORT_SUCCESS:\n      return {\n        report: action.report,\n        fetching: false,\n      }\n    case FETCH_USER_REPORT:\n      return {\n        ...state,\n        fetching: true,\n      }\n    default:\n      return state\n  }\n}\n","import { createStore, combineReducers, applyMiddleware } from \"redux\"\nimport thunk from \"redux-thunk\"\nimport movies from \"../reducers/moviesReducer\"\nimport errors from \"../reducers/errorsReducer\"\nimport fetches from \"../reducers/fetchReducer\"\nimport user from \"../reducers/userReducer\"\nimport misc from \"../reducers/miscReducer\"\nimport validate from \"../reducers/validationReducer\"\nimport report from \"../reducers/reportReducer\"\nimport createHistory from \"history/createBrowserHistory\"\nimport { routerReducer, routerMiddleware } from \"react-router-redux\"\n\n// Create a history of your choosing (we're using a browser history in this case)\nconst history = createHistory()\n\n// Persisted user state\n\n// Build the middleware for intercepting and dispatching navigation actions\nconst middleware = routerMiddleware(history)\n\nexport default function configureStore() {\n  return createStore(\n    combineReducers({\n      report,\n      misc,\n      validate,\n      user,\n      errors,\n      movies,\n      fetches,\n      router: routerReducer,\n    }),\n    window.__REDUX_DEVTOOLS_EXTENSION__ &&\n      window.__REDUX_DEVTOOLS_EXTENSION__(),\n    applyMiddleware(thunk, middleware)\n  )\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport MainContainer from \"./containers/MainContainer\"\nimport { Provider } from \"react-redux\"\nimport configureStore from \"../src/store/configureStore\"\nimport { ConnectedRouter } from \"react-router-redux\"\nimport createHistory from \"history/createBrowserHistory\"\nimport { saveState } from \"./store/localStorage\"\nimport throttle from \"lodash.throttle\"\n\nconst history = createHistory()\nconst store = configureStore()\n\nstore.subscribe(\n  throttle(() => {\n    saveState(store.getState().user)\n  }, 1000),\n)\n\nReactDOM.render(\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <MainContainer />\n    </ConnectedRouter>\n  </Provider>,\n  document.getElementById(\"root\"),\n)\n"],"sourceRoot":""}